(self["webpackChunkfast_foundation_rollup_storybook"] = self["webpackChunkfast_foundation_rollup_storybook"] || []).push([["main"],{

/***/ "./.storybook sync ^\\.[\\\\/](?:debug\\.stories\\.ts)$":
/*!***********************************************************************!*\
  !*** ./.storybook/ sync nonrecursive ^\.[\\/](?:debug\.stories\.ts)$ ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./debug.stories.ts": "./.storybook/debug.stories.ts"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./.storybook sync ^\\.[\\\\/](?:debug\\.stories\\.ts)$";

/***/ }),

/***/ "./statics/svg/chevron_down_12_regular.svg":
/*!*************************************************!*\
  !*** ./statics/svg/chevron_down_12_regular.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.15 4.65c.2-.2.5-.2.7 0L6 7.79l3.15-3.14a.5.5 0 1 1 .7.7l-3.5 3.5a.5.5 0 0 1-.7 0l-3.5-3.5a.5.5 0 0 1 0-.7Z\"></path></svg>"

/***/ }),

/***/ "./statics/svg/chevron_left_16_regular.svg":
/*!*************************************************!*\
  !*** ./statics/svg/chevron_left_16_regular.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.35 3.15c.2.2.2.5 0 .7L6.21 8l4.14 4.15a.5.5 0 0 1-.7.7l-4.5-4.5a.5.5 0 0 1 0-.7l4.5-4.5c.2-.2.5-.2.7 0Z\"></path></svg>"

/***/ }),

/***/ "./statics/svg/chevron_right_16_regular.svg":
/*!**************************************************!*\
  !*** ./statics/svg/chevron_right_16_regular.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M5.65 3.15a.5.5 0 0 0 0 .7L9.79 8l-4.14 4.15a.5.5 0 0 0 .7.7l4.5-4.5a.5.5 0 0 0 0-.7l-4.5-4.5a.5.5 0 0 0-.7 0Z\"></path></svg>"

/***/ }),

/***/ "./statics/svg/chevron_up_12_regular.svg":
/*!***********************************************!*\
  !*** ./statics/svg/chevron_up_12_regular.svg ***!
  \***********************************************/
/***/ ((module) => {

module.exports = "<svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M2.15 7.35c.2.2.5.2.7 0L6 4.21l3.15 3.14a.5.5 0 1 0 .7-.7l-3.5-3.5a.5.5 0 0 0-.7 0l-3.5 3.5a.5.5 0 0 0 0 .7Z\"></path></svg>"

/***/ }),

/***/ "./.storybook/debug.stories.ts":
/*!*************************************!*\
  !*** ./.storybook/debug.stories.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Blank": () => (/* binding */ Blank),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * This is a special story that allows us to load a blank preview page for
 * playwright tests which need to generate elements and insert them directly,
 * rather than start with a pre-determined element.
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Debug",
});
const Blank = () => "";


/***/ }),

/***/ "./src/__test__/helpers.ts":
/*!*********************************!*\
  !*** ./src/__test__/helpers.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fixtureURL": () => (/* binding */ fixtureURL),
/* harmony export */   "renderComponent": () => (/* binding */ renderComponent)
/* harmony export */ });
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! qs */ "./node_modules/qs/lib/index.js");
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Returns a formatted URL for a given Storybook fixture.
 *
 * @param id - the Storybook fixture ID
 * @param args - Story args
 * @returns - the local URL for the Storybook fixture iframe
 */
function fixtureURL(id = "debug--blank", args) {
    const params = { id };
    if (args) {
        params.args = qs__WEBPACK_IMPORTED_MODULE_0___default().stringify(args, {
            allowDots: true,
            delimiter: ";",
            format: "RFC1738",
            encode: false,
        })
            .replace(/=/g, ":")
            .replace(/\//g, "--");
    }
    const url = qs__WEBPACK_IMPORTED_MODULE_0___default().stringify(params, {
        addQueryPrefix: true,
        format: "RFC1738",
        encode: false,
    });
    return url;
}
/**
 * A helper that returns a function to bind a Storybook story to a ViewTemplate.
 *
 * @param template - The ViewTemplate to render
 * @returns - a function to bind a Storybook story
 */
function renderComponent(template) {
    return function (args, { updateArgs }) {
        const storyFragment = new DocumentFragment();
        template.render(Object.assign(Object.assign({}, args), { updateArgs }), storyFragment);
        if (storyFragment.childElementCount === 1) {
            return storyFragment.firstElementChild;
        }
        return storyFragment;
    };
}


/***/ }),

/***/ "./src/accordion-item/accordion-item.template.ts":
/*!*******************************************************!*\
  !*** ./src/accordion-item/accordion-item.template.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "accordionItemTemplate": () => (/* binding */ accordionItemTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");



/**
 * The template for the {@link @microsoft/fast-foundation#(FASTAccordionItem:class)} component.
 * @public
 */
function accordionItemTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <div
            class="heading"
            part="heading"
            role="heading"
            aria-level="${x => x.headinglevel}"
        >
            <button
                class="button"
                part="button"
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.ref)("expandbutton")}
                ?disabled="${x => (x.disabled ? "true" : void 0)}"
                aria-expanded="${x => x.expanded}"
                aria-controls="${x => x.id}-panel"
                id="${x => x.id}"
                @click="${(x, c) => x.clickHandler(c.event)}"
            >
                <span class="heading-content" part="heading-content">
                    <slot name="heading"></slot>
                </span>
            </button>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.startSlotTemplate)(options)}
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.endSlotTemplate)(options)}
            <span class="icon" part="icon" aria-hidden="true">
                <slot name="expanded-icon">
                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.expandedIcon)}
                </slot>
                <slot name="collapsed-icon">
                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.collapsedIcon)}
                </slot>
            <span>
        </div>
        <div
            class="region"
            part="region"
            id="${x => x.id}-panel"
            role="region"
            aria-labelledby="${x => x.id}"
        >
            <slot></slot>
        </div>
`;
}


/***/ }),

/***/ "./src/accordion-item/accordion-item.ts":
/*!**********************************************!*\
  !*** ./src/accordion-item/accordion-item.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTAccordionItem": () => (/* binding */ FASTAccordionItem)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");





/**
 * An individual item in an {@link @microsoft/fast-foundation#(FASTAccordion:class) }.
 *
 * @slot start - Content which can be provided between the heading and the icon
 * @slot end - Content which can be provided between the start slot and icon
 * @slot heading - Content which serves as the accordion item heading and text of the expand button
 * @slot - The default slot for accordion item content
 * @slot expanded-icon - The expanded icon
 * @slot collapsed-icon - The collapsed icon
 * @fires change - Fires a custom 'change' event when the button is invoked
 * @csspart heading - Wraps the button
 * @csspart button - The button which serves to invoke the item
 * @csspart heading-content - Wraps the slot for the heading content within the button
 * @csspart icon - The icon container
 * @csspart region - The wrapper for the accordion item content
 *
 * @public
 */
class FASTAccordionItem extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Configures the {@link https://www.w3.org/TR/wai-aria-1.1/#aria-level | level} of the
         * heading element.
         *
         * @defaultValue 2
         * @public
         * @remarks
         * HTML attribute: heading-level
         */
        this.headinglevel = 2;
        /**
         * Expands or collapses the item.
         *
         * @public
         * @remarks
         * HTML attribute: expanded
         */
        this.expanded = false;
        /**
         * Disables an accordion item
         *
         * @public
         * @remarks
         * HTML attribute: disabled
         */
        this.disabled = false;
        /**
         * The item ID
         *
         * @public
         * @remarks
         * HTML Attribute: id
         */
        this.id = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.uniqueId)("accordion-");
        /**
         * @internal
         */
        this.clickHandler = (e) => {
            if (this.disabled) {
                return;
            }
            this.$emit("click", e);
        };
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({
        attribute: "heading-level",
        mode: "fromView",
        converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter,
    })
], FASTAccordionItem.prototype, "headinglevel", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTAccordionItem.prototype, "expanded", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTAccordionItem.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTAccordionItem.prototype, "id", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTAccordionItem, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd);


/***/ }),

/***/ "./src/accordion-item/stories/accordion-item.register.ts":
/*!***************************************************************!*\
  !*** ./src/accordion-item/stories/accordion-item.register.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../statics/svg/chevron_down_12_regular.svg */ "./statics/svg/chevron_down_12_regular.svg");
/* harmony import */ var _statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _statics_svg_chevron_up_12_regular_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../statics/svg/chevron_up_12_regular.svg */ "./statics/svg/chevron_up_12_regular.svg");
/* harmony import */ var _statics_svg_chevron_up_12_regular_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_statics_svg_chevron_up_12_regular_svg__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _accordion_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../accordion-item.js */ "./src/accordion-item/accordion-item.ts");
/* harmony import */ var _accordion_item_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../accordion-item.template.js */ "./src/accordion-item/accordion-item.template.ts");





const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: flex;
        box-sizing: border-box;
        font-family: var(--body-font);
        flex-direction: column;
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        border-bottom: calc(var(--stroke-width) * 1px) solid
            var(--neutral-stroke-divider-rest);
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }

    .region {
        display: none;
        padding: calc((6 + (var(--design-unit) * 2 * var(--density))) * 1px);
    }

    .heading {
        display: grid;
        position: relative;
        grid-template-columns: auto 1fr auto calc(
                (var(--base-height-multiplier) + var(--density)) * var(--design-unit) *
                    1px
            );
    }

    .button {
        appearance: none;
        border: none;
        background: none;
        grid-column: 2;
        grid-row: 1;
        outline: none;
        padding: 0 calc((6 + (var(--design-unit) * 2 * var(--density))) * 1px);
        text-align: left;
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        font-family: inherit;
    }

    .button:hover {
        color: var(--neutral-foreground-rest);
    }

    .button:active {
        color: var(--neutral-foreground-rest);
    }

    .button::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        cursor: pointer;
    }

    .button:focus-visible::before {
        outline: none;
        border: calc(var(--focus-stroke-width) * 1px) solid var(--focus-stroke-outer);
        border-radius: calc(var(--control-corner-radius) * 1px);
    }

    :host([expanded]) .region {
        display: block;
    }

    .icon {
        display: flex;
        align-items: center;
        justify-content: center;
        grid-column: 4;
        pointer-events: none;
        position: relative;
    }

    slot[name="expanded-icon"],
    slot[name="collapsed-icon"] {
        fill: var(--accent-fill-rest);
    }

    slot[name="collapsed-icon"] {
        display: flex;
    }

    :host([expanded]) slot[name="collapsed-icon"] {
        display: none;
    }

    slot[name="expanded-icon"] {
        display: none;
    }

    :host([expanded]) slot[name="expanded-icon"] {
        display: flex;
    }

    ::slotted([slot="start"]) {
        display: flex;
        align-items: center;
        margin-inline-end: calc(var(--design-unit) * 1px);
        justify-content: center;
        grid-column: 1;
        position: relative;
    }

    ::slotted([slot="end"]) {
        display: flex;
        align-items: center;
        margin-inline-start: calc(var(--design-unit) * 1px);
        justify-content: center;
        grid-column: 3;
        position: relative;
    }
`;
_accordion_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTAccordionItem.define({
    name: "fast-accordion-item",
    template: (0,_accordion_item_template_js__WEBPACK_IMPORTED_MODULE_1__.accordionItemTemplate)({
        collapsedIcon: (_statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3___default()),
        expandedIcon: (_statics_svg_chevron_up_12_regular_svg__WEBPACK_IMPORTED_MODULE_4___default()),
    }),
    styles,
});


/***/ }),

/***/ "./src/accordion-item/stories/accordion-item.stories.ts":
/*!**************************************************************!*\
  !*** ./src/accordion-item/stories/accordion-item.stories.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccordionItem": () => (/* binding */ AccordionItem),
/* harmony export */   "AccordionItemWithSlottedStartEnd": () => (/* binding */ AccordionItemWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-accordion-item
        ?expanded="${x => x.expanded}"
        heading-level="${x => x.headinglevel}"
        id="${x => x.id}"
    >
        ${x => x.storyContent}
    </fast-accordion-item>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Accordion Item",
    args: {
        expanded: false,
    },
    argTypes: {
        expanded: { control: "boolean" },
        headinglevel: { control: { type: "number", max: 6, min: 1 } },
        id: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const AccordionItem = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
AccordionItem.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <span slot="heading">Accordion Item Heading</span>
        Accordion Item Content
    `,
};
const AccordionItemWithSlottedStartEnd = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
AccordionItemWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fast-badge slot="start">start</fast-badge>
        <span slot="heading">Accordion Item Heading</span>
        <fast-badge slot="end">end</fast-badge>
        Accordion Item Content
    `,
};


/***/ }),

/***/ "./src/accordion/accordion.options.ts":
/*!********************************************!*\
  !*** ./src/accordion/accordion.options.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccordionExpandMode": () => (/* binding */ AccordionExpandMode)
/* harmony export */ });
/**
 * Expand mode for {@link FASTAccordion}
 * @public
 */
const AccordionExpandMode = {
    /**
     * Designates only a single {@link @microsoft/fast-foundation#(FASTAccordionItem:class) } can be open a time.
     */
    single: "single",
    /**
     * Designates multiple {@link @microsoft/fast-foundation#(FASTAccordionItem:class) | FASTAccordionItemItems} can be open simultaneously.
     */
    multi: "multi",
};


/***/ }),

/***/ "./src/accordion/accordion.template.ts":
/*!*********************************************!*\
  !*** ./src/accordion/accordion.template.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "accordionTemplate": () => (/* binding */ accordionTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");

/**
 * Creates a template for the {@link @microsoft/fast-foundation#FASTAccordion} component.
 * @public
 */
function accordionTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template>
            <slot
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.slotted)({ property: "slottedAccordionItems", filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.elements)() })}
            ></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/accordion/accordion.ts":
/*!************************************!*\
  !*** ./src/accordion/accordion.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTAccordion": () => (/* binding */ FASTAccordion)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/numbers.js");
/* harmony import */ var _accordion_item_accordion_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../accordion-item/accordion-item.js */ "./src/accordion-item/accordion-item.ts");
/* harmony import */ var _accordion_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./accordion.options.js */ "./src/accordion/accordion.options.ts");






/**
 * An Accordion Custom HTML Element
 * Implements {@link https://www.w3.org/TR/wai-aria-practices-1.1/#accordion | ARIA Accordion}.
 *
 * @fires change - Fires a custom 'change' event when the active item changes
 * @csspart item - The slot for the accordion items
 * @public
 *
 * @remarks
 * Designed to be used with {@link @microsoft/fast-foundation#accordionTemplate} and {@link @microsoft/fast-foundation#(FASTAccordionItem:class)}.
 */
class FASTAccordion extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Controls the expand mode of the Accordion, either allowing
         * single or multiple item expansion.
         * @public
         *
         * @remarks
         * HTML attribute: expand-mode
         */
        this.expandmode = _accordion_options_js__WEBPACK_IMPORTED_MODULE_1__.AccordionExpandMode.multi;
        this.activeItemIndex = 0;
        this.change = () => {
            this.$emit("change", this.activeid);
        };
        this.setItems = () => {
            if (this.slottedAccordionItems.length === 0) {
                return;
            }
            const children = Array.from(this.children);
            this.removeItemListeners(children);
            children.forEach((child) => _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Observable.getNotifier(child).subscribe(this, "disabled"));
            this.accordionItems = children.filter(child => !child.hasAttribute("disabled"));
            this.accordionIds = this.getItemIds();
            this.accordionItems.forEach((item, index) => {
                if (item instanceof _accordion_item_accordion_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTAccordionItem) {
                    item.addEventListener("click", this.activeItemChange);
                    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Observable.getNotifier(item).subscribe(this, "expanded");
                }
                const itemId = this.accordionIds[index];
                item.setAttribute("id", typeof itemId !== "string" ? `accordion-${index + 1}` : itemId);
                this.activeid = this.accordionIds[this.activeItemIndex];
                item.addEventListener("keydown", this.handleItemKeyDown);
                item.addEventListener("focus", this.handleItemFocus);
            });
            if (this.isSingleExpandMode()) {
                const expandedItem = this.findExpandedItem();
                this.setSingleExpandMode(expandedItem);
            }
        };
        this.removeItemListeners = (oldValue) => {
            oldValue.forEach((item, index) => {
                _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Observable.getNotifier(item).unsubscribe(this, "disabled");
                _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Observable.getNotifier(item).unsubscribe(this, "expanded");
                item.removeEventListener("click", this.activeItemChange);
                item.removeEventListener("keydown", this.handleItemKeyDown);
                item.removeEventListener("focus", this.handleItemFocus);
            });
        };
        this.activeItemChange = (event) => {
            if (event.defaultPrevented || event.target !== event.currentTarget) {
                return;
            }
            event.preventDefault();
            this.handleExpandedChange(event.target);
        };
        this.handleExpandedChange = (item) => {
            if (item instanceof _accordion_item_accordion_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTAccordionItem) {
                this.activeid = item.getAttribute("id");
                if (!this.isSingleExpandMode()) {
                    item.expanded = !item.expanded;
                    // setSingleExpandMode sets activeItemIndex on its own
                    this.activeItemIndex = this.accordionItems.indexOf(item);
                }
                else {
                    this.setSingleExpandMode(item);
                }
                this.change();
            }
        };
        this.handleItemKeyDown = (event) => {
            // only handle the keydown if the event target is the accordion item
            // prevents arrow keys from moving focus to accordion headers when focus is on accordion item panel content
            if (event.target !== event.currentTarget) {
                return;
            }
            this.accordionIds = this.getItemIds();
            switch (event.key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowUp:
                    event.preventDefault();
                    this.adjust(-1);
                    break;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowDown:
                    event.preventDefault();
                    this.adjust(1);
                    break;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyHome:
                    this.activeItemIndex = 0;
                    this.focusItem();
                    break;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEnd:
                    this.activeItemIndex = this.accordionItems.length - 1;
                    this.focusItem();
                    break;
            }
        };
        this.handleItemFocus = (event) => {
            // update the active item index if the focus moves to an accordion item via a different method other than the up and down arrow key actions
            // only do so if the focus is actually on the accordion item and not on any of its children
            if (event.target === event.currentTarget) {
                const focusedItem = event.target;
                const focusedIndex = (this.activeItemIndex = Array.from(this.accordionItems).indexOf(focusedItem));
                if (this.activeItemIndex !== focusedIndex && focusedIndex !== -1) {
                    this.activeItemIndex = focusedIndex;
                    this.activeid = this.accordionIds[this.activeItemIndex];
                }
            }
        };
    }
    expandmodeChanged(prev, next) {
        if (!this.$fastController.isConnected) {
            return;
        }
        const expandedItem = this.findExpandedItem();
        if (!expandedItem) {
            return;
        }
        if (next !== _accordion_options_js__WEBPACK_IMPORTED_MODULE_1__.AccordionExpandMode.single) {
            expandedItem === null || expandedItem === void 0 ? void 0 : expandedItem.expandbutton.removeAttribute("aria-disabled");
        }
        else {
            this.setSingleExpandMode(expandedItem);
        }
    }
    /**
     * @internal
     */
    slottedAccordionItemsChanged(oldValue, newValue) {
        if (this.$fastController.isConnected) {
            this.setItems();
        }
    }
    /**
     * @internal
     */
    handleChange(source, propertyName) {
        if (propertyName === "disabled") {
            this.setItems();
        }
        else if (propertyName === "expanded") {
            // we only need to manage single expanded instances
            // such as scenarios where a child is programatically expanded
            if (source.expanded && this.isSingleExpandMode()) {
                this.setSingleExpandMode(source);
            }
        }
    }
    findExpandedItem() {
        var _a;
        if (this.accordionItems.length === 0) {
            return null;
        }
        return ((_a = this.accordionItems.find((item) => item instanceof _accordion_item_accordion_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTAccordionItem && item.expanded)) !== null && _a !== void 0 ? _a : this.accordionItems[0]);
    }
    setSingleExpandMode(expandedItem) {
        if (this.accordionItems.length === 0) {
            return;
        }
        const currentItems = Array.from(this.accordionItems);
        this.activeItemIndex = currentItems.indexOf(expandedItem);
        currentItems.forEach((item, index) => {
            if (this.activeItemIndex === index) {
                item.expanded = true;
                item.expandbutton.setAttribute("aria-disabled", "true");
            }
            else {
                item.expanded = false;
                if (!item.hasAttribute("disabled")) {
                    item.expandbutton.removeAttribute("aria-disabled");
                }
            }
        });
    }
    getItemIds() {
        return this.slottedAccordionItems.map((accordionItem) => {
            return accordionItem.id;
        });
    }
    isSingleExpandMode() {
        return this.expandmode === _accordion_options_js__WEBPACK_IMPORTED_MODULE_1__.AccordionExpandMode.single;
    }
    adjust(adjustment) {
        this.activeItemIndex = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.wrapInBounds)(0, this.accordionItems.length - 1, this.activeItemIndex + adjustment);
        this.focusItem();
    }
    focusItem() {
        const element = this.accordionItems[this.activeItemIndex];
        if (element instanceof _accordion_item_accordion_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTAccordionItem) {
            element.expandbutton.focus();
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "expand-mode" })
], FASTAccordion.prototype, "expandmode", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTAccordion.prototype, "slottedAccordionItems", void 0);


/***/ }),

/***/ "./src/accordion/stories/accordion.register.ts":
/*!*****************************************************!*\
  !*** ./src/accordion/stories/accordion.register.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _accordion_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../accordion.js */ "./src/accordion/accordion.ts");
/* harmony import */ var _accordion_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../accordion.template.js */ "./src/accordion/accordion.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        box-sizing: border-box;
        flex-direction: column;
        font: var(--type-ramp-minus1-font-size) / var(--type-ramp-minus1-line-height)
            var(--body-font);
        color: var(--neutral-foreground-rest);
        border-top: calc(var(--stroke-width) * 1px) solid
            var(--neutral-stroke-divider-rest);
    }
`;
_accordion_js__WEBPACK_IMPORTED_MODULE_0__.FASTAccordion.define({
    name: "fast-accordion",
    template: (0,_accordion_template_js__WEBPACK_IMPORTED_MODULE_1__.accordionTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/accordion/stories/accordion.stories.ts":
/*!****************************************************!*\
  !*** ./src/accordion/stories/accordion.stories.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Accordion": () => (/* binding */ Accordion),
/* harmony export */   "AccordionWithExpandedChild": () => (/* binding */ AccordionWithExpandedChild),
/* harmony export */   "AccordionWithSingleExpandMode": () => (/* binding */ AccordionWithSingleExpandMode),
/* harmony export */   "AccordionWithSlottedStartEnd": () => (/* binding */ AccordionWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _accordion_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../accordion.js */ "./src/accordion/accordion.ts");
/* harmony import */ var _accordion_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../accordion.options.js */ "./src/accordion/accordion.options.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fast-accordion expand-mode="${x => x.expandmode}">
        ${x => x.storyContent}
    </fast-accordion>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Accordion",
    component: _accordion_js__WEBPACK_IMPORTED_MODULE_1__.FASTAccordion,
    args: {
        expandmode: _accordion_options_js__WEBPACK_IMPORTED_MODULE_2__.AccordionExpandMode.multi,
    },
    argTypes: {
        expandmode: { control: "select", options: Object.values(_accordion_options_js__WEBPACK_IMPORTED_MODULE_2__.AccordionExpandMode) },
        storyContent: { table: { disable: true } },
    },
});
const Accordion = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Accordion.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <fast-accordion-item>
            <span slot="heading">Accordion Item 1 Heading</span>
            Accordion Item 1 Content
        </fast-accordion-item>
        <fast-accordion-item>
            <span slot="heading">Accordion Item 2 Heading</span>
            <fast-checkbox>A checkbox as content</fast-checkbox>
        </fast-accordion-item>
        <fast-accordion-item disabled>
            <span slot="heading">Accordion Item 3 Heading</span>
            Accordion Item 3 Content
        </fast-accordion-item>
    `,
};
const AccordionWithSlottedStartEnd = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
AccordionWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <fast-accordion-item>
            <fast-badge slot="start">start</fast-badge>
            <span slot="heading">Accordion Item 1 Heading</span>
            <fast-badge slot="end">end</fast-badge>
            Accordion Item 1 Content
        </fast-accordion-item>
        <fast-accordion-item>
            <fast-badge slot="start">start</fast-badge>
            <span slot="heading">Accordion Item 2 Heading</span>
            <fast-badge slot="end">end</fast-badge>
            <fast-checkbox>A checkbox as content</fast-checkbox>
        </fast-accordion-item>
        <fast-accordion-item disabled>
            <fast-badge slot="start">start</fast-badge>
            <span slot="heading">Accordion Item 3 Heading</span>
            <fast-badge slot="end">end</fast-badge>
            Accordion Item 3 Content
        </fast-accordion-item>
    `,
};
const AccordionWithExpandedChild = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
AccordionWithExpandedChild.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <fast-accordion-item>
            <div slot="heading">Accordion Item 1 Heading</div>
            Accordion Item 1 Content
        </fast-accordion-item>
        <fast-accordion-item>
            <div slot="heading">Accordion Item 2 Heading</div>
            <fast-checkbox>A checkbox as content</fast-checkbox>
        </fast-accordion-item>
        <fast-accordion-item expanded>
            <div slot="heading">Accordion Item 3 Heading</div>
            Accordion Item 3 Content
        </fast-accordion-item>
    `,
};
const AccordionWithSingleExpandMode = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
AccordionWithSingleExpandMode.args = {
    expandmode: "single",
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <fast-accordion-item expanded disabled>
            <div slot="heading">Accordion Item 1 Heading</div>
            Accordion Item 1 Content
        </fast-accordion-item>
        <fast-accordion-item expanded>
            <div slot="heading">Accordion Item 2 Heading</div>
            <fast-checkbox>A checkbox as content</fast-checkbox>
        </fast-accordion-item>
        <fast-accordion-item>
            <div slot="heading">Accordion Item 3 Heading</div>
            Accordion Item 3 Content
        </fast-accordion-item>
        <fast-accordion-item>
            <div slot="heading">Accordion Item 4 Heading</div>
            Accordion Item 4 Content
        </fast-accordion-item>
    `,
};


/***/ }),

/***/ "./src/anchor/anchor.options.ts":
/*!**************************************!*\
  !*** ./src/anchor/anchor.options.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnchorTarget": () => (/* binding */ AnchorTarget)
/* harmony export */ });
/**
 * Anchor target values.
 *
 * @public
 */
const AnchorTarget = {
    _self: "_self",
    _blank: "_blank",
    _parent: "_parent",
    _top: "_top",
};


/***/ }),

/***/ "./src/anchor/anchor.template.ts":
/*!***************************************!*\
  !*** ./src/anchor/anchor.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "anchorTemplate": () => (/* binding */ anchorTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTAnchor:class)} component.
 * @public
 */
function anchorTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <a
            class="control"
            part="control"
            download="${x => x.download}"
            href="${x => x.href}"
            hreflang="${x => x.hreflang}"
            ping="${x => x.ping}"
            referrerpolicy="${x => x.referrerpolicy}"
            rel="${x => x.rel}"
            target="${x => x.target}"
            type="${x => x.type}"
            aria-atomic="${x => x.ariaAtomic}"
            aria-busy="${x => x.ariaBusy}"
            aria-controls="${x => x.ariaControls}"
            aria-current="${x => x.ariaCurrent}"
            aria-describedby="${x => x.ariaDescribedby}"
            aria-details="${x => x.ariaDetails}"
            aria-disabled="${x => x.ariaDisabled}"
            aria-errormessage="${x => x.ariaErrormessage}"
            aria-expanded="${x => x.ariaExpanded}"
            aria-flowto="${x => x.ariaFlowto}"
            aria-haspopup="${x => x.ariaHaspopup}"
            aria-hidden="${x => x.ariaHidden}"
            aria-invalid="${x => x.ariaInvalid}"
            aria-keyshortcuts="${x => x.ariaKeyshortcuts}"
            aria-label="${x => x.ariaLabel}"
            aria-labelledby="${x => x.ariaLabelledby}"
            aria-live="${x => x.ariaLive}"
            aria-owns="${x => x.ariaOwns}"
            aria-relevant="${x => x.ariaRelevant}"
            aria-roledescription="${x => x.ariaRoledescription}"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("control")}
        >
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
            <span class="content" part="content">
                <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.slotted)("defaultSlottedContent")}></slot>
            </span>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        </a>
    `;
}


/***/ }),

/***/ "./src/anchor/anchor.ts":
/*!******************************!*\
  !*** ./src/anchor/anchor.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIALink": () => (/* binding */ DelegatesARIALink),
/* harmony export */   "FASTAnchor": () => (/* binding */ FASTAnchor)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");




/**
 * An Anchor Custom HTML Element.
 * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a | <a> element }.
 *
 * @slot start - Content which can be provided before the anchor content
 * @slot end - Content which can be provided after the anchor content
 * @slot - The default slot for anchor content
 * @csspart control - The anchor element
 * @csspart content - The element wrapping anchor content
 *
 * @public
 */
class FASTAnchor extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "download", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "href", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "hreflang", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "ping", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "referrerpolicy", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "rel", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "target", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTAnchor.prototype, "type", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.observable
], FASTAnchor.prototype, "defaultSlottedContent", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA link role
 *
 * @public
 */
class DelegatesARIALink {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr)({ attribute: "aria-expanded" })
], DelegatesARIALink.prototype, "ariaExpanded", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(DelegatesARIALink, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.ARIAGlobalStatesAndProperties);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTAnchor, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd, DelegatesARIALink);


/***/ }),

/***/ "./src/anchor/stories/anchor.register.ts":
/*!***********************************************!*\
  !*** ./src/anchor/stories/anchor.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _anchor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../anchor.js */ "./src/anchor/anchor.ts");
/* harmony import */ var _anchor_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../anchor.template.js */ "./src/anchor/anchor.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        --shadow-spread: calc((var(--focus-stroke-width) - var(--stroke-width)) * 1px);
        --base-size: calc((var(--base-height-multiplier)) * var(--design-unit) * 1px);
        background-color: var(--neutral-fill-rest);
        background: var(--accent-fill-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        color: var(--foreground-on-accent-rest);
        cursor: pointer;
        display: inline-flex;
        fill: currentcolor;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        height: var(--base-size);
        min-width: var(--base-size);
        line-height: var(--type-ramp-base-line-height);
        outline: none;
    }

    .control {
        all: inherit;
        background: transparent;
        flex-grow: 1;
        box-sizing: border-box;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0 10px;
        white-space: nowrap;
        outline: none;
        text-decoration: none;
        border: calc(var(--stroke-width) * 1px) solid transparent;
    }

    :host(:hover) {
        background-color: var(--neutral-fill-hover);
    }

    :host(:active) {
        background-color: var(--neutral-fill-active);
    }

    .control:focus-visible {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 var(--shadow-spread) var(--focus-stroke-outer) inset;
    }

    .control::-moz-focus-inner {
        border: 0;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="content"]),
    ::slotted([slot="end"]),
    .content {
        display: flex;
    }

    .control.icon-only {
        line-height: 0;
        padding: 0;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }

    :host(:hover) {
        background: var(--accent-fill-hover);
        color: var(--foreground-on-accent-hover);
    }

    :host(:active) .control:active {
        background: var(--accent-fill-active);
        color: var(--foreground-on-accent-active);
    }
`;
_anchor_js__WEBPACK_IMPORTED_MODULE_0__.FASTAnchor.define({
    name: "fast-anchor",
    template: (0,_anchor_template_js__WEBPACK_IMPORTED_MODULE_1__.anchorTemplate)(),
    styles,
    shadowOptions: {
        delegatesFocus: true,
    },
});


/***/ }),

/***/ "./src/anchor/stories/anchor.stories.ts":
/*!**********************************************!*\
  !*** ./src/anchor/stories/anchor.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Anchor": () => (/* binding */ Anchor),
/* harmony export */   "AnchorWithSlottedIconContent": () => (/* binding */ AnchorWithSlottedIconContent),
/* harmony export */   "AnchorWithSlottedStartEnd": () => (/* binding */ AnchorWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _anchor_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../anchor.options.js */ "./src/anchor/anchor.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-anchor
        download="${x => x.download}"
        href="${x => x.href}"
        hreflang="${x => x.hreflang}"
        ping="${x => x.ping}"
        referrerpolicy="${x => x.referrerpolicy}"
        rel="${x => x.rel}"
        target="${x => x.target}"
        type="${x => x.type}"
        :ariaAtomic="${x => x.ariaAtomic}"
        :ariaBusy="${x => x.ariaBusy}"
        :ariaControls="${x => x.ariaControls}"
        :ariaCurrent="${x => x.ariaCurrent}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaDetails="${x => x.ariaDetails}"
        :ariaDisabled="${x => x.ariaDisabled}"
        :ariaErrormessage="${x => x.ariaErrormessage}"
        :ariaExpanded="${x => x.ariaExpanded}"
        :ariaFlowto="${x => x.ariaFlowto}"
        :ariaHaspopup="${x => x.ariaHaspopup}"
        :ariaHidden="${x => x.ariaHidden}"
        :ariaInvalid="${x => x.ariaInvalid}"
        :ariaKeyshortcuts="${x => x.ariaKeyshortcuts}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLive="${x => x.ariaLive}"
        :ariaOwns="${x => x.ariaOwns}"
        :ariaRelevant="${x => x.ariaRelevant}"
        :ariaRoledescription="${x => x.ariaRoledescription}"
    >
        ${x => x.storyContent}
    </fast-anchor>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Anchor",
    argTypes: {
        download: { control: "text" },
        href: { control: "text" },
        hreflang: { control: "text" },
        ping: { control: "text" },
        referrerpolicy: { control: "text" },
        rel: { control: "text" },
        target: { control: "select", options: Object.values(_anchor_options_js__WEBPACK_IMPORTED_MODULE_1__.AnchorTarget) },
        type: { control: "text" },
        ariaAtomic: { control: "boolean" },
        ariaBusy: { control: "boolean" },
        ariaCurrent: { control: "text" },
        ariaControls: { control: "text" },
        ariaDescribedby: { control: "text" },
        ariaDisabled: { control: "text" },
        ariaDetails: { control: "text" },
        ariaErrormessage: { control: "text" },
        ariaExpanded: { control: "text" },
        ariaFlowto: { control: "text" },
        ariaHaspopup: { control: "boolean" },
        ariaHidden: { control: "boolean" },
        ariaInvalid: { control: "text" },
        ariaKeyshortcuts: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        ariaLive: { control: "text" },
        ariaOwns: { control: "text" },
        ariaRelevant: { control: "text" },
        ariaRoledescription: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const Anchor = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Anchor.args = {
    href: "https://www.fast.design/",
    storyContent: "Anchor",
};
const AnchorWithSlottedStartEnd = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
AnchorWithSlottedStartEnd.args = {
    href: "https://www.fast.design/",
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Anchor
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const AnchorWithSlottedIconContent = Anchor.bind({});
AnchorWithSlottedIconContent.args = {
    href: "https://www.fast.design/",
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg width="20" height="20"><use href="#test-icon" /></svg>
    `,
};


/***/ }),

/***/ "./src/anchored-region/anchored-region-config.ts":
/*!*******************************************************!*\
  !*** ./src/anchored-region/anchored-region-config.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FlyoutPosBottom": () => (/* binding */ FlyoutPosBottom),
/* harmony export */   "FlyoutPosBottomFill": () => (/* binding */ FlyoutPosBottomFill),
/* harmony export */   "FlyoutPosTallest": () => (/* binding */ FlyoutPosTallest),
/* harmony export */   "FlyoutPosTallestFill": () => (/* binding */ FlyoutPosTallestFill),
/* harmony export */   "FlyoutPosTop": () => (/* binding */ FlyoutPosTop),
/* harmony export */   "FlyoutPosTopFill": () => (/* binding */ FlyoutPosTopFill)
/* harmony export */ });
/**
 * Building blocks - partial configs
 */
/**
 * A region that matches the size and position of the anchor horizontally
 */
const horizontalAnchorOverlay = {
    horizontalDefaultPosition: "center",
    horizontalPositioningMode: "locktodefault",
    horizontalInset: false,
    horizontalScaling: "anchor",
};
/**
 * Exported configs
 */
/**
 * A region that always places itself above the anchor, has
 * a width to match the anchor, and is sized vertically by content
 *
 * @public
 */
const FlyoutPosTop = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalDefaultPosition: "top", verticalPositioningMode: "locktodefault", verticalInset: false, verticalScaling: "content" });
/**
 * A region that always places itself below the anchor, has
 * a width to match the anchor, and is sized vertically by content
 *
 * @public
 */
const FlyoutPosBottom = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalDefaultPosition: "bottom", verticalPositioningMode: "locktodefault", verticalInset: false, verticalScaling: "content" });
/**
 * A region that places itself above or below the anchor
 * based on available space, has a width to match the anchor,
 * and is sized vertically by content
 *
 * @public
 */
const FlyoutPosTallest = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalPositioningMode: "dynamic", verticalInset: false, verticalScaling: "content" });
/**
 * A region that always places itself above the anchor, has
 * a width to match the anchor, and is sized vertically by available space
 *
 * @public
 */
const FlyoutPosTopFill = Object.assign(Object.assign({}, FlyoutPosTop), { verticalScaling: "fill" });
/**
 * A region that always places itself below the anchor, has
 * a width to match the anchor, and is sized vertically by available space
 *
 * @public
 */
const FlyoutPosBottomFill = Object.assign(Object.assign({}, FlyoutPosBottom), { verticalScaling: "fill" });
/**
 * A region that places itself above or below the anchor
 * based on available space, has a width to match the anchor,
 * and is sized vertically by available space
 *
 * @public
 */
const FlyoutPosTallestFill = Object.assign(Object.assign({}, FlyoutPosTallest), { verticalScaling: "fill" });


/***/ }),

/***/ "./src/anchored-region/anchored-region.options.ts":
/*!********************************************************!*\
  !*** ./src/anchored-region/anchored-region.options.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnchoredRegionPositionLabel": () => (/* binding */ AnchoredRegionPositionLabel),
/* harmony export */   "AutoUpdateMode": () => (/* binding */ AutoUpdateMode),
/* harmony export */   "AxisPositioningMode": () => (/* binding */ AxisPositioningMode),
/* harmony export */   "AxisScalingMode": () => (/* binding */ AxisScalingMode),
/* harmony export */   "HorizontalPosition": () => (/* binding */ HorizontalPosition),
/* harmony export */   "VerticalPosition": () => (/* binding */ VerticalPosition)
/* harmony export */ });
/**
 * Values to define the base behavior of an anchored region on a particular axis
 * @public
 */
const AxisPositioningMode = {
    uncontrolled: "uncontrolled",
    locktodefault: "locktodefault",
    dynamic: "dynamic",
};
/**
 * Values to define the scaling behavior of an anchored region on a particular axis
 * @public
 */
const AxisScalingMode = {
    anchor: "anchor",
    content: "content",
    fill: "fill",
};
/**
 * Values for the horizontal positioning options for an anchored region
 * @public
 */
const HorizontalPosition = {
    start: "start",
    end: "end",
    left: "left",
    right: "right",
    center: "center",
    unset: "unset",
};
/**
 * Values for the vertical positioning options for an anchored region
 * @public
 */
const VerticalPosition = {
    top: "top",
    bottom: "bottom",
    center: "center",
    unset: "unset",
};
/**
 * Defines if the component updates its position automatically. Calling update() always provokes an update.
 * anchor - the component only updates its position when the anchor resizes (default)
 * auto - the component updates its position when:
 * - update() is called
 * - the anchor resizes
 * - the window resizes
 * - the viewport resizes
 * - any scroll event in the document
 *
 * @public
 */
const AutoUpdateMode = {
    anchor: "anchor",
    auto: "auto",
};
/**
 * Values to describe the possible positions of the region relative to its anchor.
 * Depending on the axis start = left/top, end = right/bottom
 * @public
 */
const AnchoredRegionPositionLabel = {
    start: "start",
    insetStart: "insetStart",
    insetEnd: "insetEnd",
    end: "end",
    center: "center",
};


/***/ }),

/***/ "./src/anchored-region/anchored-region.template.ts":
/*!*********************************************************!*\
  !*** ./src/anchored-region/anchored-region.template.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "anchoredRegionTemplate": () => (/* binding */ anchoredRegionTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");

/**
 * The template for the {@link @microsoft/fast-foundation#(FASTAnchoredRegion:class)} component.
 * @public
 */
function anchoredRegionTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template data-loaded="${x => (x.initialLayoutComplete ? "loaded" : "")}">
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.when)(x => x.initialLayoutComplete, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
                    <slot></slot>
                `)}
        </template>
    `;
}


/***/ }),

/***/ "./src/anchored-region/anchored-region.ts":
/*!************************************************!*\
  !*** ./src/anchored-region/anchored-region.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTAnchoredRegion": () => (/* binding */ FASTAnchoredRegion)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/localization.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/events.js");
/* harmony import */ var _utilities_direction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/direction.js */ "./src/utilities/direction.ts");
/* harmony import */ var _utilities_intersection_service_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/intersection-service.js */ "./src/utilities/intersection-service.ts");





/**
 * An anchored region Custom HTML Element.
 *
 * @slot - The default slot for the content
 * @fires loaded - Fires a custom 'loaded' event when the region is loaded and visible
 * @fires positionchange - Fires a custom 'positionchange' event when the position has changed
 *
 * @public
 */
class FASTAnchoredRegion extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The HTML ID of the anchor element this region is positioned relative to
         *
         * @public
         * @remarks
         * HTML Attribute: anchor
         */
        this.anchor = "";
        /**
         * The HTML ID of the viewport element this region is positioned relative to
         *
         * @public
         * @remarks
         * HTML Attribute: anchor
         */
        this.viewport = "";
        /**
         * Sets what logic the component uses to determine horizontal placement.
         * 'locktodefault' forces the default position
         * 'dynamic' decides placement based on available space
         * 'uncontrolled' does not control placement on the horizontal axis
         *
         * @public
         * @remarks
         * HTML Attribute: horizontal-positioning-mode
         */
        this.horizontalPositioningMode = "uncontrolled";
        /**
         * The default horizontal position of the region relative to the anchor element
         *
         * @public
         * @remarks
         * HTML Attribute: horizontal-default-position
         */
        this.horizontalDefaultPosition = "unset";
        /**
         * Whether the region remains in the viewport (ie. detaches from the anchor) on the horizontal axis
         *
         * @public
         * @remarks
         * HTML Attribute: horizontal-viewport-lock
         */
        this.horizontalViewportLock = false;
        /**
         * Whether the region overlaps the anchor on the horizontal axis
         *
         * @public
         * @remarks
         * HTML Attribute: horizontal-inset
         */
        this.horizontalInset = false;
        /**
         * Defines how the width of the region is calculated
         *
         * @public
         * @remarks
         * HTML Attribute: horizontal-scaling
         */
        this.horizontalScaling = "content";
        /**
         * Sets what logic the component uses to determine vertical placement.
         * 'locktodefault' forces the default position
         * 'dynamic' decides placement based on available space
         * 'uncontrolled' does not control placement on the vertical axis
         *
         * @public
         * @remarks
         * HTML Attribute: vertical-positioning-mode
         */
        this.verticalPositioningMode = "uncontrolled";
        /**
         * The default vertical position of the region relative to the anchor element
         *
         * @public
         * @remarks
         * HTML Attribute: vertical-default-position
         */
        this.verticalDefaultPosition = "unset";
        /**
         * Whether the region remains in the viewport (ie. detaches from the anchor) on the vertical axis
         *
         * @public
         * @remarks
         * HTML Attribute: vertical-viewport-lock
         */
        this.verticalViewportLock = false;
        /**
         * Whether the region overlaps the anchor on the vertical axis
         *
         * @public
         * @remarks
         * HTML Attribute: vertical-inset
         */
        this.verticalInset = false;
        /**
         * Defines how the height of the region is calculated
         *
         * @public
         * @remarks
         * HTML Attribute: vertical-scaling
         */
        this.verticalScaling = "content";
        /**
         * Whether the region is positioned using css "position: fixed".
         * Otherwise the region uses "position: absolute".
         * Fixed placement allows the region to break out of parent containers,
         *
         * @public
         * @remarks
         * HTML Attribute: fixed-placement
         */
        this.fixedPlacement = false;
        /**
         * Defines what triggers the anchored region to revaluate positioning
         *
         * @public
         * @remarks
         * HTML Attribute: auto-update-mode
         */
        this.autoUpdateMode = "anchor";
        /**
         * The HTML element being used as the anchor
         *
         * @public
         */
        this.anchorElement = null;
        /**
         * The HTML element being used as the viewport
         *
         * @public
         */
        this.viewportElement = null;
        /**
         * indicates that an initial positioning pass on layout has completed
         *
         * @internal
         */
        this.initialLayoutComplete = false;
        this.resizeDetector = null;
        /**
         * base offsets between the positioner's base position and the anchor's
         */
        this.baseHorizontalOffset = 0;
        this.baseVerticalOffset = 0;
        this.pendingPositioningUpdate = false;
        this.pendingReset = false;
        this.currentDirection = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.Direction.ltr;
        this.regionVisible = false;
        // indicates that a layout update should occur even if geometry has not changed
        // used to ensure some attribute changes are applied
        this.forceUpdate = false;
        // defines how big a difference in pixels there must be between states to
        // justify a layout update that affects the dom (prevents repeated sub-pixel corrections)
        this.updateThreshold = 0.5;
        /**
         * update position
         */
        this.update = () => {
            if (!this.pendingPositioningUpdate) {
                this.requestPositionUpdates();
            }
        };
        /**
         * starts observers
         */
        this.startObservers = () => {
            this.stopObservers();
            if (this.anchorElement === null) {
                return;
            }
            this.requestPositionUpdates();
            if (this.resizeDetector !== null) {
                this.resizeDetector.observe(this.anchorElement);
                this.resizeDetector.observe(this);
            }
        };
        /**
         * get position updates
         */
        this.requestPositionUpdates = () => {
            if (this.anchorElement === null || this.pendingPositioningUpdate) {
                return;
            }
            FASTAnchoredRegion.intersectionService.requestPosition(this, this.handleIntersection);
            FASTAnchoredRegion.intersectionService.requestPosition(this.anchorElement, this.handleIntersection);
            if (this.viewportElement !== null) {
                FASTAnchoredRegion.intersectionService.requestPosition(this.viewportElement, this.handleIntersection);
            }
            this.pendingPositioningUpdate = true;
        };
        /**
         * stops observers
         */
        this.stopObservers = () => {
            if (this.pendingPositioningUpdate) {
                this.pendingPositioningUpdate = false;
                FASTAnchoredRegion.intersectionService.cancelRequestPosition(this, this.handleIntersection);
                if (this.anchorElement !== null) {
                    FASTAnchoredRegion.intersectionService.cancelRequestPosition(this.anchorElement, this.handleIntersection);
                }
                if (this.viewportElement !== null) {
                    FASTAnchoredRegion.intersectionService.cancelRequestPosition(this.viewportElement, this.handleIntersection);
                }
            }
            if (this.resizeDetector !== null) {
                this.resizeDetector.disconnect();
            }
        };
        /**
         * Gets the viewport element by id, or defaults to document root
         */
        this.getViewport = () => {
            if (typeof this.viewport !== "string" || this.viewport === "") {
                return document.documentElement;
            }
            const rootNode = this.getRootNode();
            if (rootNode instanceof ShadowRoot) {
                return rootNode.getElementById(this.viewport);
            }
            return document.getElementById(this.viewport);
        };
        /**
         *  Gets the anchor element by id
         */
        this.getAnchor = () => {
            const rootNode = this.getRootNode();
            if (rootNode instanceof ShadowRoot) {
                return rootNode.getElementById(this.anchor);
            }
            return document.getElementById(this.anchor);
        };
        /**
         *  Handle intersections
         */
        this.handleIntersection = (entries) => {
            if (!this.pendingPositioningUpdate) {
                return;
            }
            this.pendingPositioningUpdate = false;
            if (!this.applyIntersectionEntries(entries)) {
                return;
            }
            this.updateLayout();
        };
        /**
         *  iterate through intersection entries and apply data
         */
        this.applyIntersectionEntries = (entries) => {
            const regionEntry = entries.find(x => x.target === this);
            const anchorEntry = entries.find(x => x.target === this.anchorElement);
            const viewportEntry = entries.find(x => x.target === this.viewportElement);
            if (regionEntry === undefined ||
                viewportEntry === undefined ||
                anchorEntry === undefined) {
                return false;
            }
            // don't update the dom unless there is a significant difference in rect positions
            if (!this.regionVisible ||
                this.forceUpdate ||
                this.regionRect === undefined ||
                this.anchorRect === undefined ||
                this.viewportRect === undefined ||
                this.isRectDifferent(this.anchorRect, anchorEntry.boundingClientRect) ||
                this.isRectDifferent(this.viewportRect, viewportEntry.boundingClientRect) ||
                this.isRectDifferent(this.regionRect, regionEntry.boundingClientRect)) {
                this.regionRect = regionEntry.boundingClientRect;
                this.anchorRect = anchorEntry.boundingClientRect;
                if (this.viewportElement === document.documentElement) {
                    this.viewportRect = new DOMRectReadOnly(viewportEntry.boundingClientRect.x +
                        document.documentElement.scrollLeft, viewportEntry.boundingClientRect.y +
                        document.documentElement.scrollTop, viewportEntry.boundingClientRect.width, viewportEntry.boundingClientRect.height);
                }
                else {
                    this.viewportRect = viewportEntry.boundingClientRect;
                }
                this.updateRegionOffset();
                this.forceUpdate = false;
                return true;
            }
            return false;
        };
        /**
         *  Update the offset values
         */
        this.updateRegionOffset = () => {
            if (this.anchorRect && this.regionRect) {
                this.baseHorizontalOffset =
                    this.baseHorizontalOffset +
                        (this.anchorRect.left - this.regionRect.left) +
                        (this.translateX - this.baseHorizontalOffset);
                this.baseVerticalOffset =
                    this.baseVerticalOffset +
                        (this.anchorRect.top - this.regionRect.top) +
                        (this.translateY - this.baseVerticalOffset);
            }
        };
        /**
         *  compare rects to see if there is enough change to justify a DOM update
         */
        this.isRectDifferent = (rectA, rectB) => {
            if (Math.abs(rectA.top - rectB.top) > this.updateThreshold ||
                Math.abs(rectA.right - rectB.right) > this.updateThreshold ||
                Math.abs(rectA.bottom - rectB.bottom) > this.updateThreshold ||
                Math.abs(rectA.left - rectB.left) > this.updateThreshold) {
                return true;
            }
            return false;
        };
        /**
         *  Handle resize events
         */
        this.handleResize = (entries) => {
            this.update();
        };
        /**
         * resets the component
         */
        this.reset = () => {
            if (!this.pendingReset) {
                return;
            }
            this.pendingReset = false;
            if (this.anchorElement === null) {
                this.anchorElement = this.getAnchor();
            }
            if (this.viewportElement === null) {
                this.viewportElement = this.getViewport();
            }
            this.currentDirection = (0,_utilities_direction_js__WEBPACK_IMPORTED_MODULE_0__.getDirection)(this);
            this.startObservers();
        };
        /**
         *  Recalculate layout related state values
         */
        this.updateLayout = () => {
            let desiredVerticalPosition = undefined;
            let desiredHorizontalPosition = undefined;
            if (this.horizontalPositioningMode !== "uncontrolled") {
                const horizontalOptions = this.getPositioningOptions(this.horizontalInset);
                if (this.horizontalDefaultPosition === "center") {
                    desiredHorizontalPosition = "center";
                }
                else if (this.horizontalDefaultPosition !== "unset") {
                    let dirCorrectedHorizontalDefaultPosition = this
                        .horizontalDefaultPosition;
                    if (dirCorrectedHorizontalDefaultPosition === "start" ||
                        dirCorrectedHorizontalDefaultPosition === "end") {
                        // if direction changes we reset the layout
                        const newDirection = (0,_utilities_direction_js__WEBPACK_IMPORTED_MODULE_0__.getDirection)(this);
                        if (newDirection !== this.currentDirection) {
                            this.currentDirection = newDirection;
                            this.initialize();
                            return;
                        }
                        if (this.currentDirection === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.Direction.ltr) {
                            dirCorrectedHorizontalDefaultPosition =
                                dirCorrectedHorizontalDefaultPosition === "start"
                                    ? "left"
                                    : "right";
                        }
                        else {
                            dirCorrectedHorizontalDefaultPosition =
                                dirCorrectedHorizontalDefaultPosition === "start"
                                    ? "right"
                                    : "left";
                        }
                    }
                    switch (dirCorrectedHorizontalDefaultPosition) {
                        case "left":
                            desiredHorizontalPosition = this.horizontalInset
                                ? "insetStart"
                                : "start";
                            break;
                        case "right":
                            desiredHorizontalPosition = this.horizontalInset
                                ? "insetEnd"
                                : "end";
                            break;
                    }
                }
                const horizontalThreshold = this.horizontalThreshold !== undefined
                    ? this.horizontalThreshold
                    : this.regionRect !== undefined
                        ? this.regionRect.width
                        : 0;
                const anchorLeft = this.anchorRect !== undefined ? this.anchorRect.left : 0;
                const anchorRight = this.anchorRect !== undefined ? this.anchorRect.right : 0;
                const anchorWidth = this.anchorRect !== undefined ? this.anchorRect.width : 0;
                const viewportLeft = this.viewportRect !== undefined ? this.viewportRect.left : 0;
                const viewportRight = this.viewportRect !== undefined ? this.viewportRect.right : 0;
                if (desiredHorizontalPosition === undefined ||
                    (!(this.horizontalPositioningMode === "locktodefault") &&
                        this.getAvailableSpace(desiredHorizontalPosition, anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight) < horizontalThreshold)) {
                    desiredHorizontalPosition =
                        this.getAvailableSpace(horizontalOptions[0], anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight) >
                            this.getAvailableSpace(horizontalOptions[1], anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight)
                            ? horizontalOptions[0]
                            : horizontalOptions[1];
                }
            }
            if (this.verticalPositioningMode !== "uncontrolled") {
                const verticalOptions = this.getPositioningOptions(this.verticalInset);
                if (this.verticalDefaultPosition === "center") {
                    desiredVerticalPosition = "center";
                }
                else if (this.verticalDefaultPosition !== "unset") {
                    switch (this.verticalDefaultPosition) {
                        case "top":
                            desiredVerticalPosition = this.verticalInset
                                ? "insetStart"
                                : "start";
                            break;
                        case "bottom":
                            desiredVerticalPosition = this.verticalInset ? "insetEnd" : "end";
                            break;
                    }
                }
                const verticalThreshold = this.verticalThreshold !== undefined
                    ? this.verticalThreshold
                    : this.regionRect !== undefined
                        ? this.regionRect.height
                        : 0;
                const anchorTop = this.anchorRect !== undefined ? this.anchorRect.top : 0;
                const anchorBottom = this.anchorRect !== undefined ? this.anchorRect.bottom : 0;
                const anchorHeight = this.anchorRect !== undefined ? this.anchorRect.height : 0;
                const viewportTop = this.viewportRect !== undefined ? this.viewportRect.top : 0;
                const viewportBottom = this.viewportRect !== undefined ? this.viewportRect.bottom : 0;
                if (desiredVerticalPosition === undefined ||
                    (!(this.verticalPositioningMode === "locktodefault") &&
                        this.getAvailableSpace(desiredVerticalPosition, anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom) < verticalThreshold)) {
                    desiredVerticalPosition =
                        this.getAvailableSpace(verticalOptions[0], anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom) >
                            this.getAvailableSpace(verticalOptions[1], anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom)
                            ? verticalOptions[0]
                            : verticalOptions[1];
                }
            }
            const nextPositionerDimension = this.getNextRegionDimension(desiredHorizontalPosition, desiredVerticalPosition);
            const positionChanged = this.horizontalPosition !== desiredHorizontalPosition ||
                this.verticalPosition !== desiredVerticalPosition;
            this.setHorizontalPosition(desiredHorizontalPosition, nextPositionerDimension);
            this.setVerticalPosition(desiredVerticalPosition, nextPositionerDimension);
            this.updateRegionStyle();
            if (!this.initialLayoutComplete) {
                this.initialLayoutComplete = true;
                this.requestPositionUpdates();
                return;
            }
            if (!this.regionVisible) {
                this.regionVisible = true;
                this.style.removeProperty("pointer-events");
                this.style.removeProperty("opacity");
                this.classList.toggle("loaded", true);
                this.$emit("loaded", this, { bubbles: false });
            }
            this.updatePositionClasses();
            if (positionChanged) {
                // emit change event
                this.$emit("positionchange", this, { bubbles: false });
            }
        };
        /**
         *  Updates the style string applied to the region element as well as the css classes attached
         *  to the root element
         */
        this.updateRegionStyle = () => {
            this.style.width = this.regionWidth;
            this.style.height = this.regionHeight;
            this.style.transform = `translate(${this.translateX}px, ${this.translateY}px)`;
        };
        /**
         *  Updates the css classes that reflect the current position of the element
         */
        this.updatePositionClasses = () => {
            this.classList.toggle("top", this.verticalPosition === "start");
            this.classList.toggle("bottom", this.verticalPosition === "end");
            this.classList.toggle("inset-top", this.verticalPosition === "insetStart");
            this.classList.toggle("inset-bottom", this.verticalPosition === "insetEnd");
            this.classList.toggle("vertical-center", this.verticalPosition === "center");
            this.classList.toggle("left", this.horizontalPosition === "start");
            this.classList.toggle("right", this.horizontalPosition === "end");
            this.classList.toggle("inset-left", this.horizontalPosition === "insetStart");
            this.classList.toggle("inset-right", this.horizontalPosition === "insetEnd");
            this.classList.toggle("horizontal-center", this.horizontalPosition === "center");
        };
        /**
         * Get horizontal positioning state based on desired position
         */
        this.setHorizontalPosition = (desiredHorizontalPosition, nextPositionerDimension) => {
            if (desiredHorizontalPosition === undefined ||
                this.regionRect === undefined ||
                this.anchorRect === undefined ||
                this.viewportRect === undefined) {
                return;
            }
            let nextRegionWidth = 0;
            switch (this.horizontalScaling) {
                case "anchor":
                case "fill":
                    nextRegionWidth = this.horizontalViewportLock
                        ? this.viewportRect.width
                        : nextPositionerDimension.width;
                    this.regionWidth = `${nextRegionWidth}px`;
                    break;
                case "content":
                    nextRegionWidth = this.regionRect.width;
                    this.regionWidth = "unset";
                    break;
            }
            let sizeDelta = 0;
            switch (desiredHorizontalPosition) {
                case "start":
                    this.translateX = this.baseHorizontalOffset - nextRegionWidth;
                    if (this.horizontalViewportLock &&
                        this.anchorRect.left > this.viewportRect.right) {
                        this.translateX =
                            this.translateX -
                                (this.anchorRect.left - this.viewportRect.right);
                    }
                    break;
                case "insetStart":
                    this.translateX =
                        this.baseHorizontalOffset - nextRegionWidth + this.anchorRect.width;
                    if (this.horizontalViewportLock &&
                        this.anchorRect.right > this.viewportRect.right) {
                        this.translateX =
                            this.translateX -
                                (this.anchorRect.right - this.viewportRect.right);
                    }
                    break;
                case "insetEnd":
                    this.translateX = this.baseHorizontalOffset;
                    if (this.horizontalViewportLock &&
                        this.anchorRect.left < this.viewportRect.left) {
                        this.translateX =
                            this.translateX - (this.anchorRect.left - this.viewportRect.left);
                    }
                    break;
                case "end":
                    this.translateX = this.baseHorizontalOffset + this.anchorRect.width;
                    if (this.horizontalViewportLock &&
                        this.anchorRect.right < this.viewportRect.left) {
                        this.translateX =
                            this.translateX -
                                (this.anchorRect.right - this.viewportRect.left);
                    }
                    break;
                case "center":
                    sizeDelta = (this.anchorRect.width - nextRegionWidth) / 2;
                    this.translateX = this.baseHorizontalOffset + sizeDelta;
                    if (this.horizontalViewportLock) {
                        const regionLeft = this.anchorRect.left + sizeDelta;
                        const regionRight = this.anchorRect.right - sizeDelta;
                        if (regionLeft < this.viewportRect.left &&
                            !(regionRight > this.viewportRect.right)) {
                            this.translateX =
                                this.translateX - (regionLeft - this.viewportRect.left);
                        }
                        else if (regionRight > this.viewportRect.right &&
                            !(regionLeft < this.viewportRect.left)) {
                            this.translateX =
                                this.translateX - (regionRight - this.viewportRect.right);
                        }
                    }
                    break;
            }
            this.horizontalPosition = desiredHorizontalPosition;
        };
        /**
         * Set vertical positioning state based on desired position
         */
        this.setVerticalPosition = (desiredVerticalPosition, nextPositionerDimension) => {
            if (desiredVerticalPosition === undefined ||
                this.regionRect === undefined ||
                this.anchorRect === undefined ||
                this.viewportRect === undefined) {
                return;
            }
            let nextRegionHeight = 0;
            switch (this.verticalScaling) {
                case "anchor":
                case "fill":
                    nextRegionHeight = this.verticalViewportLock
                        ? this.viewportRect.height
                        : nextPositionerDimension.height;
                    this.regionHeight = `${nextRegionHeight}px`;
                    break;
                case "content":
                    nextRegionHeight = this.regionRect.height;
                    this.regionHeight = "unset";
                    break;
            }
            let sizeDelta = 0;
            switch (desiredVerticalPosition) {
                case "start":
                    this.translateY = this.baseVerticalOffset - nextRegionHeight;
                    if (this.verticalViewportLock &&
                        this.anchorRect.top > this.viewportRect.bottom) {
                        this.translateY =
                            this.translateY -
                                (this.anchorRect.top - this.viewportRect.bottom);
                    }
                    break;
                case "insetStart":
                    this.translateY =
                        this.baseVerticalOffset - nextRegionHeight + this.anchorRect.height;
                    if (this.verticalViewportLock &&
                        this.anchorRect.bottom > this.viewportRect.bottom) {
                        this.translateY =
                            this.translateY -
                                (this.anchorRect.bottom - this.viewportRect.bottom);
                    }
                    break;
                case "insetEnd":
                    this.translateY = this.baseVerticalOffset;
                    if (this.verticalViewportLock &&
                        this.anchorRect.top < this.viewportRect.top) {
                        this.translateY =
                            this.translateY - (this.anchorRect.top - this.viewportRect.top);
                    }
                    break;
                case "end":
                    this.translateY = this.baseVerticalOffset + this.anchorRect.height;
                    if (this.verticalViewportLock &&
                        this.anchorRect.bottom < this.viewportRect.top) {
                        this.translateY =
                            this.translateY -
                                (this.anchorRect.bottom - this.viewportRect.top);
                    }
                    break;
                case "center":
                    sizeDelta = (this.anchorRect.height - nextRegionHeight) / 2;
                    this.translateY = this.baseVerticalOffset + sizeDelta;
                    if (this.verticalViewportLock) {
                        const regionTop = this.anchorRect.top + sizeDelta;
                        const regionBottom = this.anchorRect.bottom - sizeDelta;
                        if (regionTop < this.viewportRect.top &&
                            !(regionBottom > this.viewportRect.bottom)) {
                            this.translateY =
                                this.translateY - (regionTop - this.viewportRect.top);
                        }
                        else if (regionBottom > this.viewportRect.bottom &&
                            !(regionTop < this.viewportRect.top)) {
                            this.translateY =
                                this.translateY - (regionBottom - this.viewportRect.bottom);
                        }
                    }
            }
            this.verticalPosition = desiredVerticalPosition;
        };
        /**
         *  Get available positions based on positioning mode
         */
        this.getPositioningOptions = (inset) => {
            if (inset) {
                return ["insetStart", "insetEnd"];
            }
            return ["start", "end"];
        };
        /**
         *  Get the space available for a particular relative position
         */
        this.getAvailableSpace = (positionOption, anchorStart, anchorEnd, anchorSpan, viewportStart, viewportEnd) => {
            const spaceStart = anchorStart - viewportStart;
            const spaceEnd = viewportEnd - (anchorStart + anchorSpan);
            switch (positionOption) {
                case "start":
                    return spaceStart;
                case "insetStart":
                    return spaceStart + anchorSpan;
                case "insetEnd":
                    return spaceEnd + anchorSpan;
                case "end":
                    return spaceEnd;
                case "center":
                    return Math.min(spaceStart, spaceEnd) * 2 + anchorSpan;
            }
        };
        /**
         * Get region dimensions
         */
        this.getNextRegionDimension = (desiredHorizontalPosition, desiredVerticalPosition) => {
            const newRegionDimension = {
                height: this.regionRect !== undefined ? this.regionRect.height : 0,
                width: this.regionRect !== undefined ? this.regionRect.width : 0,
            };
            if (desiredHorizontalPosition !== undefined &&
                this.horizontalScaling === "fill") {
                newRegionDimension.width = this.getAvailableSpace(desiredHorizontalPosition, this.anchorRect !== undefined ? this.anchorRect.left : 0, this.anchorRect !== undefined ? this.anchorRect.right : 0, this.anchorRect !== undefined ? this.anchorRect.width : 0, this.viewportRect !== undefined ? this.viewportRect.left : 0, this.viewportRect !== undefined ? this.viewportRect.right : 0);
            }
            else if (this.horizontalScaling === "anchor") {
                newRegionDimension.width =
                    this.anchorRect !== undefined ? this.anchorRect.width : 0;
            }
            if (desiredVerticalPosition !== undefined && this.verticalScaling === "fill") {
                newRegionDimension.height = this.getAvailableSpace(desiredVerticalPosition, this.anchorRect !== undefined ? this.anchorRect.top : 0, this.anchorRect !== undefined ? this.anchorRect.bottom : 0, this.anchorRect !== undefined ? this.anchorRect.height : 0, this.viewportRect !== undefined ? this.viewportRect.top : 0, this.viewportRect !== undefined ? this.viewportRect.bottom : 0);
            }
            else if (this.verticalScaling === "anchor") {
                newRegionDimension.height =
                    this.anchorRect !== undefined ? this.anchorRect.height : 0;
            }
            return newRegionDimension;
        };
        /**
         * starts event listeners that can trigger auto updating
         */
        this.startAutoUpdateEventListeners = () => {
            window.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.eventResize, this.update, { passive: true });
            window.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.eventScroll, this.update, {
                passive: true,
                capture: true,
            });
            if (this.resizeDetector !== null && this.viewportElement !== null) {
                this.resizeDetector.observe(this.viewportElement);
            }
        };
        /**
         * stops event listeners that can trigger auto updating
         */
        this.stopAutoUpdateEventListeners = () => {
            window.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.eventResize, this.update);
            window.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.eventScroll, this.update);
            if (this.resizeDetector !== null && this.viewportElement !== null) {
                this.resizeDetector.unobserve(this.viewportElement);
            }
        };
    }
    anchorChanged() {
        if (this.initialLayoutComplete) {
            this.anchorElement = this.getAnchor();
        }
    }
    viewportChanged() {
        if (this.initialLayoutComplete) {
            this.viewportElement = this.getViewport();
        }
    }
    horizontalPositioningModeChanged() {
        this.requestReset();
    }
    horizontalDefaultPositionChanged() {
        this.updateForAttributeChange();
    }
    horizontalViewportLockChanged() {
        this.updateForAttributeChange();
    }
    horizontalInsetChanged() {
        this.updateForAttributeChange();
    }
    horizontalThresholdChanged() {
        this.updateForAttributeChange();
    }
    horizontalScalingChanged() {
        this.updateForAttributeChange();
    }
    verticalPositioningModeChanged() {
        this.requestReset();
    }
    verticalDefaultPositionChanged() {
        this.updateForAttributeChange();
    }
    verticalViewportLockChanged() {
        this.updateForAttributeChange();
    }
    verticalInsetChanged() {
        this.updateForAttributeChange();
    }
    verticalThresholdChanged() {
        this.updateForAttributeChange();
    }
    verticalScalingChanged() {
        this.updateForAttributeChange();
    }
    fixedPlacementChanged() {
        if (this.$fastController.isConnected && this.initialLayoutComplete) {
            this.initialize();
        }
    }
    autoUpdateModeChanged(prevMode, newMode) {
        if (this.$fastController.isConnected && this.initialLayoutComplete) {
            if (prevMode === "auto") {
                this.stopAutoUpdateEventListeners();
            }
            if (newMode === "auto") {
                this.startAutoUpdateEventListeners();
            }
        }
    }
    anchorElementChanged() {
        this.requestReset();
    }
    viewportElementChanged() {
        if (this.$fastController.isConnected && this.initialLayoutComplete) {
            this.initialize();
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        if (this.autoUpdateMode === "auto") {
            this.startAutoUpdateEventListeners();
        }
        this.initialize();
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        if (this.autoUpdateMode === "auto") {
            this.stopAutoUpdateEventListeners();
        }
        this.stopObservers();
        this.disconnectResizeDetector();
    }
    /**
     * @internal
     */
    adoptedCallback() {
        this.initialize();
    }
    /**
     * destroys the instance's resize observer
     */
    disconnectResizeDetector() {
        if (this.resizeDetector !== null) {
            this.resizeDetector.disconnect();
            this.resizeDetector = null;
        }
    }
    /**
     * initializes the instance's resize observer
     */
    initializeResizeDetector() {
        this.disconnectResizeDetector();
        this.resizeDetector = new window.ResizeObserver(this.handleResize);
    }
    /**
     * react to attribute changes that don't require a reset
     */
    updateForAttributeChange() {
        if (this.$fastController.isConnected && this.initialLayoutComplete) {
            this.forceUpdate = true;
            this.update();
        }
    }
    /**
     * fully initializes the component
     */
    initialize() {
        this.initializeResizeDetector();
        if (this.anchorElement === null) {
            this.anchorElement = this.getAnchor();
        }
        this.requestReset();
    }
    /**
     * Request a reset if there are currently no open requests
     */
    requestReset() {
        if (this.$fastController.isConnected && this.pendingReset === false) {
            this.setInitialState();
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Updates.enqueue(() => this.reset());
            this.pendingReset = true;
        }
    }
    /**
     * sets the starting configuration for component internal values
     */
    setInitialState() {
        this.initialLayoutComplete = false;
        this.regionVisible = false;
        this.translateX = 0;
        this.translateY = 0;
        this.baseHorizontalOffset = 0;
        this.baseVerticalOffset = 0;
        this.viewportRect = undefined;
        this.regionRect = undefined;
        this.anchorRect = undefined;
        this.verticalPosition = undefined;
        this.horizontalPosition = undefined;
        this.style.opacity = "0";
        this.style.pointerEvents = "none";
        this.forceUpdate = false;
        this.style.position = this.fixedPlacement ? "fixed" : "absolute";
        this.updatePositionClasses();
        this.updateRegionStyle();
    }
}
FASTAnchoredRegion.intersectionService = new _utilities_intersection_service_js__WEBPACK_IMPORTED_MODULE_1__.IntersectionService();
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTAnchoredRegion.prototype, "anchor", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTAnchoredRegion.prototype, "viewport", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "horizontal-positioning-mode" })
], FASTAnchoredRegion.prototype, "horizontalPositioningMode", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "horizontal-default-position" })
], FASTAnchoredRegion.prototype, "horizontalDefaultPosition", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "horizontal-viewport-lock", mode: "boolean" })
], FASTAnchoredRegion.prototype, "horizontalViewportLock", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "horizontal-inset", mode: "boolean" })
], FASTAnchoredRegion.prototype, "horizontalInset", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "horizontal-threshold" })
], FASTAnchoredRegion.prototype, "horizontalThreshold", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "horizontal-scaling" })
], FASTAnchoredRegion.prototype, "horizontalScaling", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "vertical-positioning-mode" })
], FASTAnchoredRegion.prototype, "verticalPositioningMode", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "vertical-default-position" })
], FASTAnchoredRegion.prototype, "verticalDefaultPosition", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "vertical-viewport-lock", mode: "boolean" })
], FASTAnchoredRegion.prototype, "verticalViewportLock", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "vertical-inset", mode: "boolean" })
], FASTAnchoredRegion.prototype, "verticalInset", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "vertical-threshold" })
], FASTAnchoredRegion.prototype, "verticalThreshold", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "vertical-scaling" })
], FASTAnchoredRegion.prototype, "verticalScaling", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "fixed-placement", mode: "boolean" })
], FASTAnchoredRegion.prototype, "fixedPlacement", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "auto-update-mode" })
], FASTAnchoredRegion.prototype, "autoUpdateMode", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.observable
], FASTAnchoredRegion.prototype, "anchorElement", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.observable
], FASTAnchoredRegion.prototype, "viewportElement", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.observable
], FASTAnchoredRegion.prototype, "initialLayoutComplete", void 0);


/***/ }),

/***/ "./src/anchored-region/index.ts":
/*!**************************************!*\
  !*** ./src/anchored-region/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnchoredRegionPositionLabel": () => (/* reexport safe */ _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_2__.AnchoredRegionPositionLabel),
/* harmony export */   "AutoUpdateMode": () => (/* reexport safe */ _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_2__.AutoUpdateMode),
/* harmony export */   "AxisPositioningMode": () => (/* reexport safe */ _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_2__.AxisPositioningMode),
/* harmony export */   "AxisScalingMode": () => (/* reexport safe */ _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_2__.AxisScalingMode),
/* harmony export */   "FASTAnchoredRegion": () => (/* reexport safe */ _anchored_region_js__WEBPACK_IMPORTED_MODULE_1__.FASTAnchoredRegion),
/* harmony export */   "FlyoutPosBottom": () => (/* reexport safe */ _anchored_region_config_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosBottom),
/* harmony export */   "FlyoutPosBottomFill": () => (/* reexport safe */ _anchored_region_config_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosBottomFill),
/* harmony export */   "FlyoutPosTallest": () => (/* reexport safe */ _anchored_region_config_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTallest),
/* harmony export */   "FlyoutPosTallestFill": () => (/* reexport safe */ _anchored_region_config_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTallestFill),
/* harmony export */   "FlyoutPosTop": () => (/* reexport safe */ _anchored_region_config_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTop),
/* harmony export */   "FlyoutPosTopFill": () => (/* reexport safe */ _anchored_region_config_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTopFill),
/* harmony export */   "HorizontalPosition": () => (/* reexport safe */ _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_2__.HorizontalPosition),
/* harmony export */   "VerticalPosition": () => (/* reexport safe */ _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_2__.VerticalPosition),
/* harmony export */   "anchoredRegionTemplate": () => (/* reexport safe */ _anchored_region_template_js__WEBPACK_IMPORTED_MODULE_3__.anchoredRegionTemplate)
/* harmony export */ });
/* harmony import */ var _anchored_region_config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./anchored-region-config.js */ "./src/anchored-region/anchored-region-config.ts");
/* harmony import */ var _anchored_region_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./anchored-region.js */ "./src/anchored-region/anchored-region.ts");
/* harmony import */ var _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./anchored-region.options.js */ "./src/anchored-region/anchored-region.options.ts");
/* harmony import */ var _anchored_region_template_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./anchored-region.template.js */ "./src/anchored-region/anchored-region.template.ts");






/***/ }),

/***/ "./src/anchored-region/stories/anchored-region.register.ts":
/*!*****************************************************************!*\
  !*** ./src/anchored-region/stories/anchored-region.register.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _anchored_region_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../anchored-region.js */ "./src/anchored-region/anchored-region.ts");
/* harmony import */ var _anchored_region_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../anchored-region.template.js */ "./src/anchored-region/anchored-region.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: block;
    }
`;
_anchored_region_js__WEBPACK_IMPORTED_MODULE_0__.FASTAnchoredRegion.define({
    name: "fast-anchored-region",
    template: (0,_anchored_region_template_js__WEBPACK_IMPORTED_MODULE_1__.anchoredRegionTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/anchored-region/stories/anchored-region.stories.ts":
/*!****************************************************************!*\
  !*** ./src/anchored-region/stories/anchored-region.stories.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnchoredRegion": () => (/* binding */ AnchoredRegion),
/* harmony export */   "LockToDefault": () => (/* binding */ LockToDefault),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../anchored-region.options.js */ "./src/anchored-region/anchored-region.options.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <div style="min-height: 100px">
        <fast-button class="anchor">Anchor</fast-button>
        <fast-anchored-region
            class="region"
            ?horizontal-inset="${x => x.horizontalInset}"
            ?horizontal-viewport-lock="${x => x.horizontalViewportLock}"
            ?vertical-inset="${x => x.verticalInset}"
            ?vertical-viewport-lock="${x => x.verticalViewportLock}"
            anchor="${x => x.anchor}"
            auto-update-mode="${x => x.autoUpdateMode}"
            fixed-placement="${x => x.fixedPlacement}"
            horizontal-default-position="${x => x.horizontalDefaultPosition}"
            horizontal-positioning-mode="${x => x.horizontalPositioningMode}"
            horizontal-scaling="${x => x.horizontalScaling}"
            horizontal-threshold="${x => x.horizontalThreshold}"
            vertical-default-position="${x => x.verticalDefaultPosition}"
            vertical-positioning-mode="${x => x.verticalPositioningMode}"
            vertical-scaling="${x => x.verticalScaling}"
            vertical-threshold="${x => x.verticalThreshold}"
            viewport="${x => x.viewport}"
        >
            ${x => x.storyContent}
        </fast-anchored-region>
    </div>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Anchored Region",
    args: {
        storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
            <div id="content" style="background: var(--neutral-fill-rest); padding: 10px">
                anchored region
            </div>
        `,
        fixedPlacement: false,
        horizontalInset: false,
        horizontalViewportLock: false,
        verticalInset: false,
        verticalViewportLock: false,
    },
    argTypes: {
        anchor: { control: "text" },
        anchorId: { table: { disable: true } },
        autoUpdateMode: {
            control: "select",
            options: Object.values(_anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.AutoUpdateMode),
        },
        fixedPlacement: { control: "boolean" },
        horizontalDefaultPosition: {
            control: "select",
            options: Object.values(_anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.HorizontalPosition),
        },
        horizontalInset: { control: "boolean" },
        horizontalPositioningMode: {
            control: "select",
            options: Object.values(_anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.AxisPositioningMode),
        },
        horizontalScaling: {
            control: "select",
            options: Object.values(_anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.AxisScalingMode),
        },
        horizontalThreshold: { control: "number" },
        horizontalViewportLock: { control: "boolean" },
        storyContent: { table: { disable: true } },
        verticalDefaultPosition: {
            control: "select",
            options: Object.values(_anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.VerticalPosition),
        },
        verticalInset: { control: "boolean" },
        verticalPositioningMode: {
            control: "select",
            options: Object.values(_anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.AxisPositioningMode),
        },
        verticalScaling: {
            control: "select",
            options: Object.values(_anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.AxisScalingMode),
        },
        verticalThreshold: { control: "number" },
        verticalViewportLock: { control: "boolean" },
        viewport: { control: "text" },
    },
    decorators: [
        (Story, { args }) => {
            var _a;
            // IDs are generated to ensure that they're unique for the docs page
            const renderedStory = Story();
            const anchor = renderedStory.querySelector(".anchor");
            const region = renderedStory.querySelector(".region");
            const anchorId = (_a = args.anchorId) !== null && _a !== void 0 ? _a : (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.uniqueId)("anchor");
            anchor.id = anchorId;
            region.id = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.uniqueId)("region");
            region.setAttribute("anchor", anchorId);
            return renderedStory;
        },
    ],
});
const AnchoredRegion = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const LockToDefault = AnchoredRegion.bind({});
LockToDefault.args = {
    horizontalDefaultPosition: _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.HorizontalPosition.right,
    horizontalPositioningMode: _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.AxisPositioningMode.locktodefault,
    verticalDefaultPosition: _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.VerticalPosition.bottom,
    verticalPositioningMode: _anchored_region_options_js__WEBPACK_IMPORTED_MODULE_1__.AxisPositioningMode.locktodefault,
};


/***/ }),

/***/ "./src/avatar/avatar.template.ts":
/*!***************************************!*\
  !*** ./src/avatar/avatar.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "avatarTemplate": () => (/* binding */ avatarTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


/**
 * The template for {@link @microsoft/fast-foundation#FASTAvatar} component.
 * @public
 */
function avatarTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <div class="backplate" part="backplate">
            <slot name="media">${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.media)}</slot>
            <slot></slot>
        </div>
        <slot name="badge"></slot>
    `;
}


/***/ }),

/***/ "./src/avatar/avatar.ts":
/*!******************************!*\
  !*** ./src/avatar/avatar.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTAvatar": () => (/* binding */ FASTAvatar)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");

/**
 * An Avatar Custom HTML Element
 *
 * @slot media - Used for media such as an image
 * @slot - The default slot for avatar text, commonly a name or initials
 * @slot badge - Used to provide a badge, such as a status badge
 * @csspart backplate - The wrapping container for the avatar
 * @csspart content - The default slot
 *
 * @public
 */
class FASTAvatar extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
}


/***/ }),

/***/ "./src/avatar/stories/avatar.register.ts":
/*!***********************************************!*\
  !*** ./src/avatar/stories/avatar.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _avatar_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../avatar.js */ "./src/avatar/avatar.ts");
/* harmony import */ var _avatar_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../avatar.template.js */ "./src/avatar/avatar.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        --avatar-size-default: 32px;
        --avatar-text-size: var(--type-ramp-base-font-size);
        --avatar-text-ratio: var(--design-unit);
        display: flex;
        height: var(--avatar-size, var(--avatar-size-default));
        max-width: var(--avatar-size, var(--avatar-size-default));
        position: relative;
        color: var(--foreground-on-accent-rest);
    }

    :host([hidden]) {
        display: none;
    }

    .backplate {
        display: flex;
        position: relative;
        align-items: center;
        justify-content: center;
        border-radius: 100%;
        min-width: 100%;
        overflow: hidden;
        background-color: var(--accent-fill-rest);
    }

    .media,
    ::slotted(img) {
        display: block;
        max-width: 100%;
        position: absolute;
    }

    .content {
        --avatar-size: var(--avatar-size, var(--avatar-size-default));
        display: block;
        font-size: calc(
            (var(--avatar-text-size) + var(--avatar-size)) / var(--avatar-text-ratio)
        );
        line-height: var(--avatar-size);
        min-height: var(--avatar-size);
    }

    ::slotted(fast-badge) {
        display: block;
        position: absolute;
    }
`;
class Avatar extends _avatar_js__WEBPACK_IMPORTED_MODULE_0__.FASTAvatar {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr)({ attribute: "src" })
], Avatar.prototype, "imgSrc", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], Avatar.prototype, "alt", void 0);
const media = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.html `
    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.when)(x => x.imgSrc, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.html `
            <img
                src="${x => x.imgSrc}"
                alt="${x => x.alt}"
                slot="media"
                class="media"
                part="media"
            />
        `)}
`;
Avatar.define({
    name: "fast-avatar",
    template: (0,_avatar_template_js__WEBPACK_IMPORTED_MODULE_1__.avatarTemplate)({ media }),
    styles,
    shadowOptions: {
        delegatesFocus: true,
    },
});


/***/ }),

/***/ "./src/avatar/stories/avatar.stories.ts":
/*!**********************************************!*\
  !*** ./src/avatar/stories/avatar.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Avatar": () => (/* binding */ Avatar),
/* harmony export */   "AvatarCircleWithTextContent": () => (/* binding */ AvatarCircleWithTextContent),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-avatar>
        ${x => x.storyContent}
    </fast-avatar>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Avatar",
    argTypes: {
        storyContent: { table: { disable: true } },
    },
    decorators: [
        Story => {
            const renderedStory = Story();
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.Updates.enqueue(() => {
                renderedStory.$fastController.addStyles(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.css `
                    ::slotted(fast-badge) {
                        bottom: 0;
                        right: 0;
                    }

                    .control {
                        height: 8px;
                        min-width: 8px;
                    }

                    ::slotted(.container) {
                        padding: 1em;
                    }
                `);
            });
            return renderedStory;
        },
    ],
});
const Avatar = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Avatar.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <img
            class="image"
            slot="media"
            src="https://via.placeholder.com/32x32"
            alt="Annie's profile image"
        />
    `,
};
const AvatarCircleWithTextContent = Avatar.bind({});
AvatarCircleWithTextContent.args = {
    storyContent: "CR",
};


/***/ }),

/***/ "./src/badge/badge.template.ts":
/*!*************************************!*\
  !*** ./src/badge/badge.template.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "badgeTemplate": () => (/* binding */ badgeTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTBadge} component.
 * @public
 */
function badgeTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <div class="control" part="control">
            <slot></slot>
        </div>
    `;
}


/***/ }),

/***/ "./src/badge/badge.ts":
/*!****************************!*\
  !*** ./src/badge/badge.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTBadge": () => (/* binding */ FASTBadge)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");

/**
 * A Badge Custom HTML Element.
 * @slot - The default slot for the badge
 * @csspart control - The element representing the badge, which wraps the default slot
 *
 * @public
 */
class FASTBadge extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
}


/***/ }),

/***/ "./src/badge/stories/badge.register.ts":
/*!*********************************************!*\
  !*** ./src/badge/stories/badge.register.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _badge_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../badge.js */ "./src/badge/badge.ts");
/* harmony import */ var _badge_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../badge.template.js */ "./src/badge/badge.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        box-sizing: border-box;
        display: inline-block;
        font: var(--type-ramp-minus-1-font-size) / var(--type-ramp-minus-1-line-height)
            var(--body-font);
    }

    .control {
        background: var(--accent-fill-rest);
        border: calc(var(--stroke-width) * 1px) solid transparent;
        border-radius: calc(var(--control-corner-radius) * 1px);
        color: var(--foreground-on-accent-rest);
        padding: 1px 3px;
    }
`;
_badge_js__WEBPACK_IMPORTED_MODULE_0__.FASTBadge.define({
    name: "fast-badge",
    template: (0,_badge_template_js__WEBPACK_IMPORTED_MODULE_1__.badgeTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/badge/stories/badge.stories.ts":
/*!********************************************!*\
  !*** ./src/badge/stories/badge.stories.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Badge": () => (/* binding */ Badge),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-badge>${x => x.storyContent}</fast-badge>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Badge",
    args: {
        storyContent: "Badge",
    },
    argTypes: {
        storyContent: { table: { disable: true } },
    },
});
const Badge = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/breadcrumb-item/breadcrumb-item.template.ts":
/*!*********************************************************!*\
  !*** ./src/breadcrumb-item/breadcrumb-item.template.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "breadcrumbItemTemplate": () => (/* binding */ breadcrumbItemTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _anchor_anchor_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../anchor/anchor.template.js */ "./src/anchor/anchor.template.ts");



/**
 * The template for the {@link @microsoft/fast-foundation#(FASTBreadcrumbItem:class)} component.
 * @public
 */
function breadcrumbItemTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <div role="listitem" class="listitem" part="listitem">
            ${(0,_anchor_anchor_template_js__WEBPACK_IMPORTED_MODULE_1__.anchorTemplate)(options).inline()}
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.when)(x => x.separator, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                    <span class="separator" part="separator" aria-hidden="true">
                        <slot name="separator">
                            ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.separator)}
                        </slot>
                    </span>
                `)}
        </div>
    `;
}


/***/ }),

/***/ "./src/breadcrumb-item/breadcrumb-item.ts":
/*!************************************************!*\
  !*** ./src/breadcrumb-item/breadcrumb-item.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTBreadcrumbItem": () => (/* binding */ FASTBreadcrumbItem)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _anchor_anchor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../anchor/anchor.js */ "./src/anchor/anchor.ts");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");





/**
 * A Breadcrumb Item Custom HTML Element.
 *
 * @slot start - Content which can be provided before the breadcrumb content
 * @slot end - Content which can be provided after the breadcrumb content
 * @slot - The default slot for when no href is provided or for providing your own custom elements
 * @slot separator - The slot for providing a custom separator
 * @csspart listitem - The wrapping container for the item, represents a semantic listitem
 * @csspart separator - The wrapping element for the separator
 *
 * @public
 */
class FASTBreadcrumbItem extends _anchor_anchor_js__WEBPACK_IMPORTED_MODULE_0__.FASTAnchor {
    constructor() {
        super(...arguments);
        /**
         * @internal
         */
        this.separator = true;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTBreadcrumbItem.prototype, "separator", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__.applyMixins)(FASTBreadcrumbItem, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.StartEnd, _anchor_anchor_js__WEBPACK_IMPORTED_MODULE_0__.DelegatesARIALink);


/***/ }),

/***/ "./src/breadcrumb-item/stories/breadcrumb-item.register.ts":
/*!*****************************************************************!*\
  !*** ./src/breadcrumb-item/stories/breadcrumb-item.register.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _breadcrumb_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../breadcrumb-item.js */ "./src/breadcrumb-item/breadcrumb-item.ts");
/* harmony import */ var _breadcrumb_item_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../breadcrumb-item.template.js */ "./src/breadcrumb-item/breadcrumb-item.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        background: transparent;
        box-sizing: border-box;
        display: inline-flex;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        fill: currentColor;
        line-height: var(--type-ramp-base-line-height);
        min-width: calc(var(--height-number) * 1px);
        outline: none;
        color: var(--neutral-foreground-rest);
    }

    .listitem {
        display: flex;
        align-items: center;
        width: max-content;
    }

    .separator {
        margin: 0 6px;
        display: flex;
    }

    .control {
        align-items: center;
        box-sizing: border-box;
        color: var(--accent-foreground-rest);
        cursor: pointer;
        display: flex;
        fill: inherit;
        outline: none;
        text-decoration: none;
        white-space: nowrap;
    }

    .control:hover {
        color: var(--accent-foreground-hover);
    }

    .control:active {
        color: var(--accent-foreground-active);
    }

    .control .content {
        position: relative;
    }

    .control .content::before {
        content: "";
        display: block;
        height: calc(var(--stroke-width) * 1px);
        left: 0;
        position: absolute;
        right: 0;
        top: calc(1em + 4px);
        width: 100%;
    }

    .control:hover .content::before {
        background: var(--accent-foreground-hover);
    }

    .control:active .content::before {
        background: var(--accent-foreground-active);
    }

    .control:focus-visible .content::before {
        background: var(--neutral-foreground-rest);
        height: calc(var(--focus-stroke-width) * 1px);
    }

    .control:not([href]) {
        color: var(--neutral-foreground-rest);
        cursor: default;
    }

    .control:not([href]) .content::before {
        background: none;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]),
    .content {
        align-self: center;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }
`;
_breadcrumb_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTBreadcrumbItem.define({
    name: "fast-breadcrumb-item",
    template: (0,_breadcrumb_item_template_js__WEBPACK_IMPORTED_MODULE_1__.breadcrumbItemTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/breadcrumb-item/stories/breadcrumb-item.stories.ts":
/*!****************************************************************!*\
  !*** ./src/breadcrumb-item/stories/breadcrumb-item.stories.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BreadcrumbItem": () => (/* binding */ BreadcrumbItem),
/* harmony export */   "BreadcrumbItemWithHref": () => (/* binding */ BreadcrumbItemWithHref),
/* harmony export */   "BreadcrumbItemWithSlottedEnd": () => (/* binding */ BreadcrumbItemWithSlottedEnd),
/* harmony export */   "BreadcrumbItemWithSlottedStart": () => (/* binding */ BreadcrumbItemWithSlottedStart),
/* harmony export */   "BreadcrumbItemWithSlottedStartEnd": () => (/* binding */ BreadcrumbItemWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-breadcrumb-item
        download="${x => x.download}"
        href="${x => x.href}"
        hreflang="${x => x.hreflang}"
        ping="${x => x.ping}"
        referrerpolicy="${x => x.referrerpolicy}"
        rel="${x => x.rel}"
        target="${x => x.target}"
        type="${x => x.type}"
        :separator="${x => x.separator}"
        :ariaAtomic="${x => x.ariaAtomic}"
        :ariaBusy="${x => x.ariaBusy}"
        :ariaControls="${x => x.ariaControls}"
        :ariaCurrent="${x => x.ariaCurrent}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaDetails="${x => x.ariaDetails}"
        :ariaDisabled="${x => x.ariaDisabled}"
        :ariaErrormessage="${x => x.ariaErrormessage}"
        :ariaExpanded="${x => x.ariaExpanded}"
        :ariaFlowto="${x => x.ariaFlowto}"
        :ariaHaspopup="${x => x.ariaHaspopup}"
        :ariaHidden="${x => x.ariaHidden}"
        :ariaInvalid="${x => x.ariaInvalid}"
        :ariaKeyshortcuts="${x => x.ariaKeyshortcuts}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLive="${x => x.ariaLive}"
        :ariaOwns="${x => x.ariaOwns}"
        :ariaRelevant="${x => x.ariaRelevant}"
        :ariaRoledescription="${x => x.ariaRoledescription}"
    >
        ${x => x.storyContent}
    </fast-breadcrumb-item>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Breadcrumb Item",
    argTypes: {
        download: { control: "text" },
        href: { control: "text" },
        hreflang: { control: "text" },
        ping: { control: "text" },
        referrerpolicy: { control: "text" },
        rel: { control: "text" },
        separator: { control: "boolean" },
        target: { control: "text" },
        type: { control: "text" },
        ariaAtomic: { control: "boolean" },
        ariaBusy: { control: "boolean" },
        ariaControls: { control: "text" },
        ariaCurrent: { control: "text" },
        ariaDescribedby: { control: "text" },
        ariaDetails: { control: "text" },
        ariaDisabled: { control: "boolean" },
        ariaErrormessage: { control: "text" },
        ariaExpanded: { control: "boolean" },
        ariaFlowto: { control: "text" },
        ariaHaspopup: { control: "boolean" },
        ariaHidden: { control: "boolean" },
        ariaInvalid: { control: "text" },
        ariaKeyshortcuts: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        ariaLive: { control: "text" },
        ariaOwns: { control: "text" },
        ariaRelevant: { control: "text" },
        ariaRoledescription: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const BreadcrumbItem = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
BreadcrumbItem.args = {
    storyContent: "Breadcrumb Item",
};
const BreadcrumbItemWithHref = BreadcrumbItem.bind({});
BreadcrumbItemWithHref.args = {
    storyContent: "Breadcrumb item with href attribute",
    href: "https://www.fast.design/",
};
const BreadcrumbItemWithSlottedStart = BreadcrumbItem.bind({});
BreadcrumbItemWithSlottedStart.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Breadcrumb Item with slotted start icon
    `,
    href: "#",
};
const BreadcrumbItemWithSlottedEnd = BreadcrumbItem.bind({});
BreadcrumbItemWithSlottedEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        Breadcrumb item with slotted end icon
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
    href: "#",
};
const BreadcrumbItemWithSlottedStartEnd = BreadcrumbItem.bind({});
BreadcrumbItemWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Breadcrumb Item with slotted start & end icon
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
    href: "#",
};


/***/ }),

/***/ "./src/breadcrumb/breadcrumb.template.ts":
/*!***********************************************!*\
  !*** ./src/breadcrumb/breadcrumb.template.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "breadcrumbTemplate": () => (/* binding */ breadcrumbTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTBreadcrumb} component.
 * @public
 */
function breadcrumbTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template role="navigation">
            <div role="list" class="list" part="list">
                <slot
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.slotted)({ property: "slottedBreadcrumbItems", filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.elements)() })}
                ></slot>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/breadcrumb/breadcrumb.ts":
/*!**************************************!*\
  !*** ./src/breadcrumb/breadcrumb.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTBreadcrumb": () => (/* binding */ FASTBreadcrumb)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _breadcrumb_item_breadcrumb_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../breadcrumb-item/breadcrumb-item.js */ "./src/breadcrumb-item/breadcrumb-item.ts");



/**
 * A Breadcrumb Custom HTML Element.
 * @slot - The default slot for the breadcrumb items
 * @csspart list - The element wrapping the slotted items
 *
 * @public
 */
class FASTBreadcrumb extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    slottedBreadcrumbItemsChanged() {
        if (this.$fastController.isConnected) {
            if (this.slottedBreadcrumbItems === undefined ||
                this.slottedBreadcrumbItems.length === 0) {
                return;
            }
            const lastNode = this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length - 1];
            this.slottedBreadcrumbItems.forEach((item) => {
                const itemIsLastNode = item === lastNode;
                this.setItemSeparator(item, itemIsLastNode);
                this.setAriaCurrent(item, itemIsLastNode);
            });
        }
    }
    setItemSeparator(item, isLastNode) {
        if (item instanceof _breadcrumb_item_breadcrumb_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTBreadcrumbItem) {
            item.separator = !isLastNode;
        }
    }
    /**
     * Finds anchor childnodes in the light DOM or shadow DOM.
     * We look in the shadow DOM because we use an anchor inside the breadcrumb-item template.
     */
    findChildAnchor(node) {
        var _a, _b;
        if (node.childElementCount > 0) {
            return node.querySelector("a");
        }
        else if ((_a = node.shadowRoot) === null || _a === void 0 ? void 0 : _a.childElementCount) {
            return (_b = node.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector("a");
        }
        else
            return node;
    }
    /**
     * Sets ARIA Current for the "current" node
     * `aria-current` is not optional and should be set regardless of the href value of a given anchor
     */
    setAriaCurrent(item, isLastNode) {
        const childNode = this.findChildAnchor(item);
        if (childNode !== null) {
            isLastNode
                ? childNode.setAttribute("aria-current", "page")
                : childNode.removeAttribute("aria-current");
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTBreadcrumb.prototype, "slottedBreadcrumbItems", void 0);


/***/ }),

/***/ "./src/breadcrumb/stories/breadcrumb.register.ts":
/*!*******************************************************!*\
  !*** ./src/breadcrumb/stories/breadcrumb.register.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _breadcrumb_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../breadcrumb.js */ "./src/breadcrumb/breadcrumb.ts");
/* harmony import */ var _breadcrumb_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../breadcrumb.template.js */ "./src/breadcrumb/breadcrumb.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        box-sizing: border-box;
        display: inline-block;
        font: var(--type-ramp-base-font-size) / var(--type-ramp-base-line-height)
            var(--body-font);
    }

    .list {
        display: flex;
        flex-wrap: wrap;
    }

    ::slotted(a) {
        color: var(--neutral-foreground-rest);
        margin: 0 6px;
    }

    ::slotted(a[href]) {
        color: var(--accent-foreground-rest);
    }
`;
_breadcrumb_js__WEBPACK_IMPORTED_MODULE_0__.FASTBreadcrumb.define({
    name: "fast-breadcrumb",
    template: (0,_breadcrumb_template_js__WEBPACK_IMPORTED_MODULE_1__.breadcrumbTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/breadcrumb/stories/breadcrumb.stories.ts":
/*!******************************************************!*\
  !*** ./src/breadcrumb/stories/breadcrumb.stories.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Breadcrumb": () => (/* binding */ Breadcrumb),
/* harmony export */   "BreadcrumbWithAnchors": () => (/* binding */ BreadcrumbWithAnchors),
/* harmony export */   "BreadcrumbWithSlottedSeparator": () => (/* binding */ BreadcrumbWithSlottedSeparator),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-breadcrumb>${x => x.storyContent}</fast-breadcrumb>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Breadcrumb",
    argTypes: {
        storyContent: { table: { disable: true } },
    },
});
const Breadcrumb = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Breadcrumb.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fast-breadcrumb-item href="#">Breadcrumb Item 1</fast-breadcrumb-item>
        <fast-breadcrumb-item href="#">Breadcrumb Item 2</fast-breadcrumb-item>
        <fast-breadcrumb-item href="#">Breadcrumb Item 3</fast-breadcrumb-item>
    `,
};
const BreadcrumbWithSlottedSeparator = Breadcrumb.bind({});
BreadcrumbWithSlottedSeparator.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fast-breadcrumb-item href="#">
            Breadcrumb Item 1
            <svg slot="separator" width="20" height="20"><use href="#test-icon" /></svg>
        </fast-breadcrumb-item>
        <fast-breadcrumb-item href="#">
            Breadcrumb Item 2
            <svg slot="separator" width="20" height="20"><use href="#test-icon" /></svg>
        </fast-breadcrumb-item>
        <fast-breadcrumb-item href="#">
            Breadcrumb Item 3
            <svg slot="separator" width="20" height="20"><use href="#test-icon" /></svg>
        </fast-breadcrumb-item>
    `,
};
const BreadcrumbWithAnchors = Breadcrumb.bind({});
BreadcrumbWithAnchors.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <a href="#">Anchor 1</a>
        <a href="#">Anchor 2</a>
        <a href="#">Anchor 3</a>
    `,
};


/***/ }),

/***/ "./src/button/button.form-associated.ts":
/*!**********************************************!*\
  !*** ./src/button/button.form-associated.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedButton": () => (/* binding */ FormAssociatedButton)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Button extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTButton:class)} component.
 *
 * @beta
 */
class FormAssociatedButton extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_Button) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/button/button.options.ts":
/*!**************************************!*\
  !*** ./src/button/button.options.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ButtonType": () => (/* binding */ ButtonType)
/* harmony export */ });
/**
 * Button type values.
 *
 * @public
 */
const ButtonType = {
    submit: "submit",
    reset: "reset",
    button: "button",
};


/***/ }),

/***/ "./src/button/button.template.ts":
/*!***************************************!*\
  !*** ./src/button/button.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "buttonTemplate": () => (/* binding */ buttonTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTButton:class)} component.
 * @public
 */
function buttonTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <button
            class="control"
            part="control"
            ?autofocus="${x => x.autofocus}"
            ?disabled="${x => x.disabled}"
            form="${x => x.formId}"
            formaction="${x => x.formaction}"
            formenctype="${x => x.formenctype}"
            formmethod="${x => x.formmethod}"
            ?formnovalidate="${x => x.formnovalidate}"
            formtarget="${x => x.formtarget}"
            name="${x => x.name}"
            type="${x => x.type}"
            value="${x => x.value}"
            aria-atomic="${x => x.ariaAtomic}"
            aria-busy="${x => x.ariaBusy}"
            aria-controls="${x => x.ariaControls}"
            aria-current="${x => x.ariaCurrent}"
            aria-describedby="${x => x.ariaDescribedby}"
            aria-details="${x => x.ariaDetails}"
            aria-disabled="${x => x.ariaDisabled}"
            aria-errormessage="${x => x.ariaErrormessage}"
            aria-expanded="${x => x.ariaExpanded}"
            aria-flowto="${x => x.ariaFlowto}"
            aria-haspopup="${x => x.ariaHaspopup}"
            aria-hidden="${x => x.ariaHidden}"
            aria-invalid="${x => x.ariaInvalid}"
            aria-keyshortcuts="${x => x.ariaKeyshortcuts}"
            aria-label="${x => x.ariaLabel}"
            aria-labelledby="${x => x.ariaLabelledby}"
            aria-live="${x => x.ariaLive}"
            aria-owns="${x => x.ariaOwns}"
            aria-pressed="${x => x.ariaPressed}"
            aria-relevant="${x => x.ariaRelevant}"
            aria-roledescription="${x => x.ariaRoledescription}"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("control")}
        >
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
            <span class="content" part="content">
                <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.slotted)("defaultSlottedContent")}></slot>
            </span>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        </button>
    `;
}


/***/ }),

/***/ "./src/button/button.ts":
/*!******************************!*\
  !*** ./src/button/button.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIAButton": () => (/* binding */ DelegatesARIAButton),
/* harmony export */   "FASTButton": () => (/* binding */ FASTButton)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _button_form_associated_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./button.form-associated.js */ "./src/button/button.form-associated.ts");
/* harmony import */ var _button_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./button.options.js */ "./src/button/button.options.ts");






/**
 * A Button Custom HTML Element.
 * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button | <button> element }.
 *
 * @slot start - Content which can be provided before the button content
 * @slot end - Content which can be provided after the button content
 * @slot - The default slot for button content
 * @csspart control - The button element
 * @csspart content - The element wrapping button content
 *
 * @public
 */
class FASTButton extends _button_form_associated_js__WEBPACK_IMPORTED_MODULE_2__.FormAssociatedButton {
    constructor() {
        super(...arguments);
        /**
         * Submits the parent form
         */
        this.handleSubmission = () => {
            if (!this.form) {
                return;
            }
            const attached = this.proxy.isConnected;
            if (!attached) {
                this.attachProxy();
            }
            // Browser support for requestSubmit is not comprehensive
            // so click the proxy if it isn't supported
            typeof this.form.requestSubmit === "function"
                ? this.form.requestSubmit(this.proxy)
                : this.proxy.click();
            if (!attached) {
                this.detachProxy();
            }
        };
        /**
         * Resets the parent form
         */
        this.handleFormReset = () => {
            var _a;
            (_a = this.form) === null || _a === void 0 ? void 0 : _a.reset();
        };
    }
    formactionChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.formAction = this.formaction;
        }
    }
    formenctypeChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.formEnctype = this.formenctype;
        }
    }
    formmethodChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.formMethod = this.formmethod;
        }
    }
    formnovalidateChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.formNoValidate = this.formnovalidate;
        }
    }
    formtargetChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.formTarget = this.formtarget;
        }
    }
    typeChanged(previous, next) {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.type = this.type;
        }
        next === _button_options_js__WEBPACK_IMPORTED_MODULE_3__.ButtonType.submit &&
            this.addEventListener("click", this.handleSubmission);
        previous === _button_options_js__WEBPACK_IMPORTED_MODULE_3__.ButtonType.submit &&
            this.removeEventListener("click", this.handleSubmission);
        next === _button_options_js__WEBPACK_IMPORTED_MODULE_3__.ButtonType.reset && this.addEventListener("click", this.handleFormReset);
        previous === _button_options_js__WEBPACK_IMPORTED_MODULE_3__.ButtonType.reset &&
            this.removeEventListener("click", this.handleFormReset);
    }
    /** {@inheritDoc (FormAssociated:interface).validate} */
    validate() {
        super.validate(this.control);
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.proxy.setAttribute("type", this.type);
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTButton.prototype, "autofocus", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ attribute: "form" })
], FASTButton.prototype, "formId", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTButton.prototype, "formaction", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTButton.prototype, "formenctype", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTButton.prototype, "formmethod", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTButton.prototype, "formnovalidate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTButton.prototype, "formtarget", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTButton.prototype, "type", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTButton.prototype, "defaultSlottedContent", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA button role
 *
 * @public
 */
class DelegatesARIAButton {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ attribute: "aria-expanded" })
], DelegatesARIAButton.prototype, "ariaExpanded", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ attribute: "aria-pressed" })
], DelegatesARIAButton.prototype, "ariaPressed", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(DelegatesARIAButton, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.ARIAGlobalStatesAndProperties);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTButton, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd, DelegatesARIAButton);


/***/ }),

/***/ "./src/button/stories/button.register.ts":
/*!***********************************************!*\
  !*** ./src/button/stories/button.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _button_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../button.js */ "./src/button/button.ts");
/* harmony import */ var _button_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../button.template.js */ "./src/button/button.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: inline-flex;
        font-family: var(--body-font);
        outline: none;
        user-select: none;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        min-width: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        background-color: var(--neutral-fill-rest);
        color: var(--neutral-foreground-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        fill: currentcolor;
        cursor: pointer;
    }

    :host([hidden]) {
        display: none;
    }

    .control {
        background: transparent;
        height: inherit;
        flex-grow: 1;
        box-sizing: border-box;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
        white-space: nowrap;
        outline: none;
        text-decoration: none;
        border: calc(var(--stroke-width) * 1px) solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-weight: inherit;
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
    }

    :host(:hover) {
        background-color: var(--neutral-fill-hover);
    }

    :host(:active) {
        background-color: var(--neutral-fill-active);
    }

    .control:focus-visible {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc((var(--focus-stroke-width) - var(--stroke-width)) * 1px)
            var(--focus-stroke-outer) inset;
    }

    .control::-moz-focus-inner {
        border: 0;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="content"]),
    ::slotted([slot="end"]),
    .content {
        display: flex;
    }

    .control.icon-only {
        line-height: 0;
        padding: 0;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }
`;
_button_js__WEBPACK_IMPORTED_MODULE_0__.FASTButton.define({
    name: "fast-button",
    template: (0,_button_template_js__WEBPACK_IMPORTED_MODULE_1__.buttonTemplate)(),
    styles,
    shadowOptions: {
        delegatesFocus: true,
    },
});


/***/ }),

/***/ "./src/button/stories/button.stories.ts":
/*!**********************************************!*\
  !*** ./src/button/stories/button.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Button": () => (/* binding */ Button),
/* harmony export */   "ButtonInForm": () => (/* binding */ ButtonInForm),
/* harmony export */   "ButtonWithResetType": () => (/* binding */ ButtonWithResetType),
/* harmony export */   "ButtonWithSlottedIconContent": () => (/* binding */ ButtonWithSlottedIconContent),
/* harmony export */   "ButtonWithSlottedStartEnd": () => (/* binding */ ButtonWithSlottedStartEnd),
/* harmony export */   "ButtonWithSubmitType": () => (/* binding */ ButtonWithSubmitType),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _button_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../button.options.js */ "./src/button/button.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-button
        ?autofocus="${x => x.autofocus}"
        ?disabled="${x => x.disabled}"
        ?formnovalidate="${x => x.formnovalidate}"
        form="${x => x.formId}"
        formaction="${x => x.formaction}"
        formenctype="${x => x.formenctype}"
        formmethod="${x => x.formmethod}"
        formtarget="${x => x.formtarget}"
        name="${x => x.name}"
        type="${x => x.type}"
        value="${x => x.value}"
        :ariaAtomic="${x => x.ariaAtomic}"
        :ariaBusy="${x => x.ariaBusy}"
        :ariaControls="${x => x.ariaControls}"
        :ariaCurrent="${x => x.ariaCurrent}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaDetails="${x => x.ariaDetails}"
        :ariaDisabled="${x => x.ariaDisabled}"
        :ariaErrormessage="${x => x.ariaErrormessage}"
        :ariaExpanded="${x => x.ariaExpanded}"
        :ariaFlowto="${x => x.ariaFlowto}"
        :ariaHaspopup="${x => x.ariaHaspopup}"
        :ariaHidden="${x => x.ariaHidden}"
        :ariaInvalid="${x => x.ariaInvalid}"
        :ariaKeyshortcuts="${x => x.ariaKeyshortcuts}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLive="${x => x.ariaLive}"
        :ariaOwns="${x => x.ariaOwns}"
        :ariaPressed="${x => x.ariaPressed}"
        :ariaRelevant="${x => x.ariaRelevant}"
        :ariaRoledescription="${x => x.ariaRoledescription}"
    >
        ${x => x.storyContent}
    </fast-button>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Button",
    args: {
        autofocus: false,
        disabled: false,
        formnovalidate: false,
        storyContent: "Button",
    },
    argTypes: {
        autofocus: { control: "boolean" },
        disabled: { control: "boolean" },
        formaction: { control: "text" },
        formenctype: { control: "text" },
        formId: { control: "text" },
        formmethod: { control: "text" },
        formnovalidate: { control: "boolean" },
        formtarget: { control: "text" },
        inputValue: { table: { disable: true } },
        name: { control: "text" },
        type: { control: "select", options: Object.values(_button_options_js__WEBPACK_IMPORTED_MODULE_1__.ButtonType) },
        value: { control: "text" },
        ariaAtomic: { control: "text" },
        ariaBusy: { control: "text" },
        ariaControls: { control: "text" },
        ariaCurrent: { control: "text" },
        ariaDescribedby: { control: "text" },
        ariaDetails: { control: "text" },
        ariaDisabled: { control: "text" },
        ariaErrormessage: { control: "text" },
        ariaExpanded: { control: "text" },
        ariaFlowto: { control: "text" },
        ariaHaspopup: { control: "text" },
        ariaHidden: { control: "text" },
        ariaInvalid: { control: "text" },
        ariaKeyshortcuts: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        ariaLive: { control: "text" },
        ariaOwns: { control: "text" },
        ariaPressed: { control: "text" },
        ariaRelevant: { control: "text" },
        ariaRoledescription: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const Button = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const ButtonInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <form @submit="${() => false}">
            <fast-text-field value="${x => x.inputValue}"></fast-text-field>
            ${storyTemplate}
        </form>
    `).bind({});
const ButtonWithSubmitType = ButtonInForm.bind({});
ButtonWithSubmitType.args = {
    inputValue: "Hello world",
    storyContent: "Submit",
    type: "submit",
};
const ButtonWithResetType = ButtonInForm.bind({});
ButtonWithResetType.args = {
    storyContent: "Reset",
    type: "reset",
};
const ButtonWithSlottedStartEnd = Button.bind({});
ButtonWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Button
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const ButtonWithSlottedIconContent = Button.bind({});
ButtonWithSlottedIconContent.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg width="20" height="20"><use href="#test-icon" /></svg>
    `,
};


/***/ }),

/***/ "./src/calendar/calendar.options.ts":
/*!******************************************!*\
  !*** ./src/calendar/calendar.options.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DayFormat": () => (/* binding */ DayFormat),
/* harmony export */   "MonthFormat": () => (/* binding */ MonthFormat),
/* harmony export */   "WeekdayFormat": () => (/* binding */ WeekdayFormat),
/* harmony export */   "YearFormat": () => (/* binding */ YearFormat)
/* harmony export */ });
/**
 * Day format values for DateFormatter.
 * @public
 */
const DayFormat = {
    "2-digit": "2-digit",
    numeric: "numeric",
};
/**
 * Weekday format values for DateFormatter.
 * @public
 */
const WeekdayFormat = {
    long: "long",
    narrow: "narrow",
    short: "short",
};
/**
 * Month format values for DateFormatter.
 * @public
 */
const MonthFormat = {
    "2-digit": "2-digit",
    numeric: "numeric",
    short: "short",
    long: "long",
    narrow: "narrow",
};
/**
 * Year format values for DateFormatter.
 * @public
 */
const YearFormat = {
    "2-digit": "2-digit",
    numeric: "numeric",
};


/***/ }),

/***/ "./src/calendar/calendar.template.ts":
/*!*******************************************!*\
  !*** ./src/calendar/calendar.template.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "calendarCellTemplate": () => (/* binding */ calendarCellTemplate),
/* harmony export */   "calendarRowTemplate": () => (/* binding */ calendarRowTemplate),
/* harmony export */   "calendarTemplate": () => (/* binding */ calendarTemplate),
/* harmony export */   "calendarTitleTemplate": () => (/* binding */ calendarTitleTemplate),
/* harmony export */   "calendarWeekdayTemplate": () => (/* binding */ calendarWeekdayTemplate),
/* harmony export */   "interactiveCalendarGridTemplate": () => (/* binding */ interactiveCalendarGridTemplate),
/* harmony export */   "noninteractiveCalendarTemplate": () => (/* binding */ noninteractiveCalendarTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");



/**
 * A basic Calendar title template that includes the month and year
 * @returns - A calendar title template
 * @public
 */
function calendarTitleTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <div
            class="title"
            part="title"
            aria-label="${(x) => x.dateFormatter.getDate(`${x.month}-2-${x.year}`, {
        month: "long",
        year: "numeric",
    })}"
        >
            <span part="month">
                ${(x) => x.dateFormatter.getMonth(x.month)}
            </span>
            <span part="year">
                ${(x) => x.dateFormatter.getYear(x.year)}
            </span>
        </div>
    `;
}
/**
 * Calendar weekday label template
 * @returns - The weekday labels template
 * @public
 */
function calendarWeekdayTemplate(options) {
    const cellTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html.partial((0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridCell));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <${cellTag}
            class="week-day"
            part="week-day"
            tabindex="-1"
            grid-column="${(x, c) => c.index + 1}"
            abbr="${x => x.abbr}"
        >
            ${x => x.text}
        </${cellTag}>
    `;
}
/**
 * A calendar day template
 * @param context - Element definition context for getting the cell tag for calendar-cell
 * @param todayString - A string representation for todays date
 * @returns - A calendar cell template for a given date
 * @public
 */
function calendarCellTemplate(options, todayString) {
    const cellTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html.partial((0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridCell));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <${cellTag}
            class="${(x, c) => c.parentContext.parent.getDayClassNames(x, todayString)}"
            part="day"
            tabindex="-1"
            role="gridcell"
            grid-column="${(x, c) => c.index + 1}"
            @click="${(x, c) => c.parentContext.parent.handleDateSelect(c.event, x)}"
            @keydown="${(x, c) => c.parentContext.parent.handleKeydown(c.event, x)}"
            aria-label="${(x, c) => c.parentContext.parent.dateFormatter.getDate(`${x.month}-${x.day}-${x.year}`, { month: "long", day: "numeric" })}"
        >
            <div
                class="date"
                part="${x => todayString === `${x.month}-${x.day}-${x.year}` ? "today" : "date"}"
            >
                ${(x, c) => c.parentContext.parent.dateFormatter.getDay(x.day)}
            </div>
            <slot name="${x => x.month}-${x => x.day}-${x => x.year}"></slot>
        </${cellTag}>
    `;
}
/**
 *
 * @param context - Element definition context for getting the cell tag for calendar-cell
 * @param todayString - A string representation for todays date
 * @returns - A template for a week of days
 * @public
 */
function calendarRowTemplate(options, todayString) {
    const rowTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html.partial((0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridRow));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <${rowTag}
            class="week"
            part="week"
            role="row"
            role-type="default"
            grid-template-columns="1fr 1fr 1fr 1fr 1fr 1fr 1fr"
        >
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x, calendarCellTemplate(options, todayString), {
        positioning: true,
    })}
        </${rowTag}>
    `;
}
/**
 * Interactive template using DataGrid
 * @param context - The templates context
 * @param todayString - string representation of todays date
 * @returns - interactive calendar template
 *
 * @internal
 */
function interactiveCalendarGridTemplate(options, todayString) {
    const gridTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html.partial((0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGrid));
    const rowTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html.partial((0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridRow));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <${gridTag} class="days interact" part="days" generate-header="none">
        <${rowTag}
            class="week-days"
            part="week-days"
            role="row"
            row-type="header"
            grid-template-columns="1fr 1fr 1fr 1fr 1fr 1fr 1fr"
        >
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.getWeekdayText(), calendarWeekdayTemplate(options), {
        positioning: true,
    })}
        </${rowTag}>
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.getDays(), calendarRowTemplate(options, todayString))}
    </${gridTag}>
    `;
}
/**
 * Non-interactive calendar template used for a readonly calendar
 * @param todayString - string representation of todays date
 * @returns - non-interactive calendar template
 *
 * @internal
 */
function noninteractiveCalendarTemplate(options, todayString) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <div class="days" part="days">
            <div class="week-days" part="week-days">
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.getWeekdayText(), _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                        <div class="week-day" part="week-day" abbr="${x => x.abbr}">
                            ${x => x.text}
                        </div>
                    `)}
            </div>
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.getDays(), _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                    <div class="week">
                        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                                <div
                                    class="${(x, c) => c.parentContext.parent.getDayClassNames(x, todayString)}"
                                    part="day"
                                    aria-label="${(x, c) => c.parentContext.parent.dateFormatter.getDate(`${x.month}-${x.day}-${x.year}`, { month: "long", day: "numeric" })}"
                                >
                                    <div
                                        class="date"
                                        part="${x => todayString ===
        `${x.month}-${x.day}-${x.year}`
        ? "today"
        : "date"}"
                                    >
                                        ${(x, c) => c.parentContext.parent.dateFormatter.getDay(x.day)}
                                    </div>
                                    <slot
                                        name="${x => x.month}-${x => x.day}-${x => x.year}"
                                    ></slot>
                                </div>
                            `)}
                    </div>
                `)}
        </div>
    `;
}
/**
 * The template for the {@link @microsoft/fast-foundation#(FASTCalendar:class)} component.
 *
 * @param context - Element definition context for getting the cell tag for calendar-cell
 * @param definition - Foundation element definition
 * @returns - a template for a calendar month
 * @public
 */
function calendarTemplate(options) {
    const today = new Date();
    const todayString = `${today.getMonth() + 1}-${today.getDate()}-${today.getFullYear()}`;
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <template>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)} ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_1__.staticallyCompose)(options.title)}
            <slot></slot>
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.when)(x => x.readonly === false, interactiveCalendarGridTemplate(options, todayString))}
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.when)(x => x.readonly === true, noninteractiveCalendarTemplate(options, todayString))}
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        </template>
    `;
}


/***/ }),

/***/ "./src/calendar/calendar.ts":
/*!**********************************!*\
  !*** ./src/calendar/calendar.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTCalendar": () => (/* binding */ FASTCalendar)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _calendar_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calendar.options.js */ "./src/calendar/calendar.options.ts");
/* harmony import */ var _date_formatter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./date-formatter.js */ "./src/calendar/date-formatter.ts");







/**
 * Calendar component
 *
 * @slot start - Content which can be provided before the calendar content
 * @slot end - Content which can be provided after the calendar content
 * @slot - The default slot for calendar content
 * @fires dateselected - Fires a custom 'dateselected' event when Enter is invoked via keyboard on a date
 *
 * @public
 */
class FASTCalendar extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * date formatter utitlity for getting localized strings
         * @public
         */
        this.dateFormatter = new _date_formatter_js__WEBPACK_IMPORTED_MODULE_3__.DateFormatter();
        /**
         * Readonly attribute for turning off data-grid
         * @public
         */
        this.readonly = false;
        /**
         * String repesentation of the full locale including market, calendar type and numbering system
         * @public
         */
        this.locale = "en-US";
        /**
         * Weekday that the calendar should start on, defaults to Sunday
         * @public
         */
        this.firstDay = 0;
        /**
         * Month to display
         * @public
         */
        this.month = new Date().getMonth() + 1;
        /**
         * Year of the month to display
         * @public
         */
        this.year = new Date().getFullYear();
        /**
         * Format style for the day
         * @public
         */
        this.dayFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_2__.DayFormat.numeric;
        /**
         * Format style for the week day labels
         * @public
         */
        this.weekdayFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_2__.WeekdayFormat.short;
        /**
         * Format style for the month label
         * @public
         */
        this.monthFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_2__.MonthFormat.long;
        /**
         * Format style for the year used in the title
         * @public
         */
        this.yearFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_2__.YearFormat.numeric;
        /**
         * Minimum number of weeks to show for the month
         * This can be used to normalize the calendar view
         *  when changing or across multiple calendars
         * @public
         */
        this.minWeeks = 0;
        /**
         * A list of dates that should be shown as disabled
         * @public
         */
        this.disabledDates = "";
        /**
         * A list of dates that should be shown as highlighted
         * @public
         */
        this.selectedDates = "";
        /**
         * The number of miliseconds in a day
         * @internal
         */
        this.oneDayInMs = 86400000;
    }
    localeChanged() {
        this.dateFormatter.locale = this.locale;
    }
    dayFormatChanged() {
        this.dateFormatter.dayFormat = this.dayFormat;
    }
    weekdayFormatChanged() {
        this.dateFormatter.weekdayFormat = this.weekdayFormat;
    }
    monthFormatChanged() {
        this.dateFormatter.monthFormat = this.monthFormat;
    }
    yearFormatChanged() {
        this.dateFormatter.yearFormat = this.yearFormat;
    }
    /**
     * Gets data needed to render about a calendar month as well as the previous and next months
     * @param year - year of the calendar
     * @param month - month of the calendar
     * @returns - an object with data about the current and 2 surrounding months
     * @public
     */
    getMonthInfo(month = this.month, year = this.year) {
        const getFirstDay = (date) => new Date(date.getFullYear(), date.getMonth(), 1).getDay();
        const getLength = (date) => {
            const nextMonth = new Date(date.getFullYear(), date.getMonth() + 1, 1);
            return new Date(nextMonth.getTime() - this.oneDayInMs).getDate();
        };
        const thisMonth = new Date(year, month - 1);
        const nextMonth = new Date(year, month);
        const previousMonth = new Date(year, month - 2);
        return {
            length: getLength(thisMonth),
            month,
            start: getFirstDay(thisMonth),
            year,
            previous: {
                length: getLength(previousMonth),
                month: previousMonth.getMonth() + 1,
                start: getFirstDay(previousMonth),
                year: previousMonth.getFullYear(),
            },
            next: {
                length: getLength(nextMonth),
                month: nextMonth.getMonth() + 1,
                start: getFirstDay(nextMonth),
                year: nextMonth.getFullYear(),
            },
        };
    }
    /**
     * A list of calendar days
     * @param info - an object containing the information needed to render a calendar month
     * @param minWeeks - minimum number of weeks to show
     * @returns a list of days in a calendar month
     * @public
     */
    getDays(info = this.getMonthInfo(), minWeeks = this.minWeeks) {
        minWeeks = minWeeks > 10 ? 10 : minWeeks;
        const { length, previous, next } = info;
        let start = info.start - Math.min(Math.max(0, this.firstDay), 6);
        start = start < 0 ? 7 + start : start;
        const days = [];
        let dayCount = 1 - start;
        while (dayCount < length + 1 ||
            days.length < minWeeks ||
            days[days.length - 1].length % 7 !== 0) {
            const { month, year } = dayCount < 1 ? previous : dayCount > length ? next : info;
            const day = dayCount < 1
                ? previous.length + dayCount
                : dayCount > length
                    ? dayCount - length
                    : dayCount;
            const dateString = `${month}-${day}-${year}`;
            const disabled = this.dateInString(dateString, this.disabledDates);
            const selected = this.dateInString(dateString, this.selectedDates);
            const date = {
                day,
                month,
                year,
                disabled,
                selected,
            };
            const target = days[days.length - 1];
            if (days.length === 0 || target.length % 7 === 0) {
                days.push([date]);
            }
            else {
                target.push(date);
            }
            dayCount++;
        }
        return days;
    }
    /**
     * A helper function that checks if a date exists in a list of dates
     * @param date - A date objec that includes the day, month and year
     * @param datesString - a comma separated list of dates
     * @returns - Returns true if it found the date in the list of dates
     * @public
     */
    dateInString(date, datesString) {
        const dates = datesString.split(",").map(str => str.trim());
        date =
            typeof date === "string"
                ? date
                : `${date.getMonth() + 1}-${date.getDate()}-${date.getFullYear()}`;
        return dates.some(d => d === date);
    }
    /**
     * Creates a class string for the day container
     * @param date - date of the calendar cell
     * @returns - string of class names
     * @public
     */
    getDayClassNames(date, todayString) {
        const { day, month, year, disabled, selected } = date;
        const today = todayString === `${month}-${day}-${year}`;
        const inactive = this.month !== month;
        return [
            "day",
            today && "today",
            inactive && "inactive",
            disabled && "disabled",
            selected && "selected",
        ]
            .filter(Boolean)
            .join(" ");
    }
    /**
     * Returns a list of weekday labels
     * @returns An array of weekday text and full text if abbreviated
     * @public
     */
    getWeekdayText() {
        const weekdayText = this.dateFormatter.getWeekdays().map(text => ({ text }));
        if (this.weekdayFormat !== "long") {
            const longText = this.dateFormatter.getWeekdays("long");
            weekdayText.forEach((weekday, index) => {
                weekday.abbr = longText[index];
            });
        }
        const firstDay = Math.min(Math.max(0, this.firstDay), 6);
        return [...weekdayText.slice(firstDay), ...weekdayText.slice(0, firstDay)];
    }
    /**
     * Emits the "date-select" event with the day, month and year.
     * @param date - Date cell
     * @public
     */
    handleDateSelect(event, day) {
        event.preventDefault;
        this.$emit("dateselected", day);
    }
    /**
     * Handles keyboard events on a cell
     * @param event - Keyboard event
     * @param date - Date of the cell selected
     */
    handleKeydown(event, date) {
        if (event.key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyEnter) {
            this.handleDateSelect(event, date);
        }
        return true;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ mode: "boolean" })
], FASTCalendar.prototype, "readonly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTCalendar.prototype, "locale", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "first-day", converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTCalendar.prototype, "firstDay", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTCalendar.prototype, "month", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTCalendar.prototype, "year", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "day-format", mode: "fromView" })
], FASTCalendar.prototype, "dayFormat", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "weekday-format", mode: "fromView" })
], FASTCalendar.prototype, "weekdayFormat", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "month-format", mode: "fromView" })
], FASTCalendar.prototype, "monthFormat", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "year-format", mode: "fromView" })
], FASTCalendar.prototype, "yearFormat", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "min-weeks", converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTCalendar.prototype, "minWeeks", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "disabled-dates" })
], FASTCalendar.prototype, "disabledDates", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "selected-dates" })
], FASTCalendar.prototype, "selectedDates", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_0__.applyMixins)(FASTCalendar, _patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.StartEnd);


/***/ }),

/***/ "./src/calendar/date-formatter.ts":
/*!****************************************!*\
  !*** ./src/calendar/date-formatter.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateFormatter": () => (/* binding */ DateFormatter)
/* harmony export */ });
/* harmony import */ var _calendar_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calendar.options.js */ "./src/calendar/calendar.options.ts");

/**
 * Date formatting utility
 * @public
 */
class DateFormatter {
    constructor(config) {
        /**
         * Formatting for the day
         * @public
         */
        this.dayFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_0__.DayFormat.numeric;
        /**
         * Formatting for the weekday labels
         * @public
         */
        this.weekdayFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_0__.WeekdayFormat.long;
        /**
         * Formatting for the month
         * @public
         */
        this.monthFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_0__.MonthFormat.long;
        /**
         * Formatting for the year
         * @public
         */
        this.yearFormat = _calendar_options_js__WEBPACK_IMPORTED_MODULE_0__.YearFormat.numeric;
        /**
         * Date used for formatting
         */
        this.date = new Date();
        /**
         * Add properties on construction
         */
        if (config) {
            for (const key in config) {
                const value = config[key];
                if (key === "date") {
                    this.date = this.getDateObject(value);
                }
                else {
                    this[key] = value;
                }
            }
        }
    }
    /**
     * Helper function to make sure that the DateFormatter is working with an instance of Date
     * @param date - The date as an object, string or Date insance
     * @returns - A Date instance
     * @public
     */
    getDateObject(date) {
        if (typeof date === "string") {
            const dates = date.split(/[/-]/);
            if (dates.length < 3) {
                return new Date();
            }
            return new Date(parseInt(dates[2], 10), parseInt(dates[0], 10) - 1, parseInt(dates[1], 10));
        }
        else if ("day" in date && "month" in date && "year" in date) {
            const { day, month, year } = date;
            return new Date(year, month - 1, day);
        }
        return date;
    }
    /**
     *
     * @param date - a valide date as either a Date, string, objec or a DateFormatter
     * @param format - The formatting for the string
     * @param locale - locale data used for formatting
     * @returns A localized string of the date provided
     * @public
     */
    getDate(date = this.date, format = {
        weekday: this.weekdayFormat,
        month: this.monthFormat,
        day: this.dayFormat,
        year: this.yearFormat,
    }, locale = this.locale) {
        const dateObj = this.getDateObject(date);
        if (!dateObj.getTime()) {
            return "";
        }
        const optionsWithTimeZone = Object.assign({ timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone }, format);
        return new Intl.DateTimeFormat(locale, optionsWithTimeZone).format(dateObj);
    }
    /**
     *
     * @param day - Day to localize
     * @param format - The formatting for the day
     * @param locale - The locale data used for formatting
     * @returns - A localized number for the day
     * @public
     */
    getDay(day = this.date.getDate(), format = this.dayFormat, locale = this.locale) {
        return this.getDate({ month: 1, day, year: 2020 }, { day: format }, locale);
    }
    /**
     *
     * @param month - The month to localize
     * @param format - The formatting for the month
     * @param locale - The locale data used for formatting
     * @returns - A localized name of the month
     * @public
     */
    getMonth(month = this.date.getMonth() + 1, format = this.monthFormat, locale = this.locale) {
        return this.getDate({ month, day: 2, year: 2020 }, { month: format }, locale);
    }
    /**
     *
     * @param year - The year to localize
     * @param format - The formatting for the year
     * @param locale - The locale data used for formatting
     * @returns - A localized string for the year
     * @public
     */
    getYear(year = this.date.getFullYear(), format = this.yearFormat, locale = this.locale) {
        return this.getDate({ month: 2, day: 2, year }, { year: format }, locale);
    }
    /**
     *
     * @param weekday - The number of the weekday, defaults to Sunday
     * @param format - The formatting for the weekday label
     * @param locale - The locale data used for formatting
     * @returns - A formatted weekday label
     * @public
     */
    getWeekday(weekday = 0, format = this.weekdayFormat, locale = this.locale) {
        const date = `1-${weekday + 1}-2017`;
        return this.getDate(date, { weekday: format }, locale);
    }
    /**
     *
     * @param format - The formatting for the weekdays
     * @param locale - The locale data used for formatting
     * @returns - An array of the weekday labels
     * @public
     */
    getWeekdays(format = this.weekdayFormat, locale = this.locale) {
        return Array(7)
            .fill(null)
            .map((_, day) => this.getWeekday(day, format, locale));
    }
}


/***/ }),

/***/ "./src/calendar/stories/calendar.register.ts":
/*!***************************************************!*\
  !*** ./src/calendar/stories/calendar.register.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _calendar_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../calendar.js */ "./src/calendar/calendar.ts");
/* harmony import */ var _calendar_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../calendar.template.js */ "./src/calendar/calendar.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        --cell-border: none;
        --cell-height: calc(var(--height-number) * 1px);
        --selected-day-outline: 1px solid var(--accent-foreground-active);
        --selected-day-color: var(--accent-foreground-active);
        --selected-day-background: var(--neutral-fill-rest);
        --cell-padding: calc(var(--design-unit) * 1px);
        --disabled-day-opacity: var(--disabled-opacity);
        --inactive-day-opacity: var(--disabled-opacity);
        display: block;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        color: var(--neutral-foreground-rest);
    }
    .title {
        font-size: var(--type-ramp-plus3-font-size);
        line-height: var(--type-ramp-plus3-line-height);
        padding: var(--cell-padding);
        text-align: center;
    }
    .week-days,
    .week {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        border-left: var(--cell-border, none);
        border-bottom: none;
        padding: 0;
    }
    .interact .week {
        grid-gap: calc(var(--design-unit) * 1px);
        margin-top: calc(var(--design-unit) * 1px);
    }
    .day,
    .week-day {
        border-bottom: var(--cell-border);
        border-right: var(--cell-border);
        padding: var(--cell-padding);
    }
    .week-day {
        text-align: center;
        border-radius: 0;
        border-top: var(--cell-border);
    }
    .day {
        box-sizing: border-box;
        vertical-align: top;
        outline-offset: -1px;
        line-height: var(--cell-line-height);
        white-space: normal;
    }
    .interact .day {
        background: var(--neutral-fill-rest);
        cursor: pointer;
    }
    .day.inactive {
        background: var(--inactive-day-background);
        color: var(--inactive-day-color);
        opacity: var(--inactive-day-opacity);
        outline: var(--inactive-day-outline);
    }
    .day.disabled {
        background: var(--disabled-day-background);
        color: var(--disabled-day-color);
        cursor: var(--disabled-cursor);
        opacity: var(--disabled-day-opacity);
        outline: var(--disabled-day-outline);
    }
    .day.selected {
        color: var(--selected-day-color);
        background: var(--selected-day-background);
        outline: var(--selected-day-outline);
    }
    .date {
        padding: var(--cell-padding);
        text-align: center;
    }
    .interact .today,
    .today {
        color: var(--foreground-on-accent-active);
        background: var(--accent-foreground-active);
    }
    .today.inactive .date {
        background: transparent;
        color: inherit;
        width: auto;
    }
`;
_calendar_js__WEBPACK_IMPORTED_MODULE_0__.FASTCalendar.define({
    name: "fast-calendar",
    template: (0,_calendar_template_js__WEBPACK_IMPORTED_MODULE_1__.calendarTemplate)({
        title: (0,_calendar_template_js__WEBPACK_IMPORTED_MODULE_1__.calendarTitleTemplate)(),
        dataGrid: "fast-data-grid",
        dataGridRow: "fast-data-grid-row",
        dataGridCell: "fast-data-grid-cell",
    }),
    styles,
});


/***/ }),

/***/ "./src/calendar/stories/calendar.stories.ts":
/*!**************************************************!*\
  !*** ./src/calendar/stories/calendar.stories.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Calendar": () => (/* binding */ Calendar),
/* harmony export */   "CalendarWithSlottedStartEnd": () => (/* binding */ CalendarWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _calendar_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../calendar.options.js */ "./src/calendar/calendar.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-calendar
        ?readonly="${x => x.readonly}"
        day-format="${x => x.dayFormat}"
        disabled-dates="${x => x.disabledDates}"
        locale="${x => { var _a; return (_a = x.locale) !== null && _a !== void 0 ? _a : navigator.language; }}"
        min-weeks="${x => x.minWeeks}"
        month-format="${x => x.monthFormat}"
        month="${x => x.month}"
        readonly="${x => x.readonly}"
        selected-dates="${x => x.selectedDates}"
        weekday-format="${x => x.weekdayFormat}"
        year-format="${x => x.yearFormat}"
        first-day="${x => x.firstDay}"
    >
        ${x => x.storyContent}
    </fast-calendar>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Calendar",
    args: {
        readonly: false,
    },
    argTypes: {
        dayFormat: { control: "select", options: Object.values(_calendar_options_js__WEBPACK_IMPORTED_MODULE_1__.DayFormat) },
        disabledDates: { control: "text" },
        firstDay: { control: "number", min: 0, max: 6 },
        locale: { control: "text" },
        minWeeks: { control: "number", min: 0 },
        month: { control: "number", min: 1, max: 12 },
        monthFormat: { control: "select", options: Object.values(_calendar_options_js__WEBPACK_IMPORTED_MODULE_1__.MonthFormat) },
        readonly: { control: "boolean" },
        selectedDates: { control: "text" },
        storyContent: { table: { disable: true } },
        weekdayFormat: { control: "select", options: Object.values(_calendar_options_js__WEBPACK_IMPORTED_MODULE_1__.WeekdayFormat) },
        year: { control: "number" },
        yearFormat: { control: "select", options: Object.values(_calendar_options_js__WEBPACK_IMPORTED_MODULE_1__.YearFormat) },
    },
});
const Calendar = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const CalendarWithSlottedStartEnd = Calendar.bind({});
CalendarWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};


/***/ }),

/***/ "./src/card/card.template.ts":
/*!***********************************!*\
  !*** ./src/card/card.template.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cardTemplate": () => (/* binding */ cardTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTCard} component.
 * @public
 */
function cardTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <slot></slot>
    `;
}


/***/ }),

/***/ "./src/card/card.ts":
/*!**************************!*\
  !*** ./src/card/card.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTCard": () => (/* binding */ FASTCard)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");

/**
 * An Card Custom HTML Element.
 *
 * @slot - The default slot for the card content
 *
 * @public
 */
class FASTCard extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
}


/***/ }),

/***/ "./src/card/stories/card.register.ts":
/*!*******************************************!*\
  !*** ./src/card/stories/card.register.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _card_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../card.js */ "./src/card/card.ts");
/* harmony import */ var _card_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../card.template.js */ "./src/card/card.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        background: var(--fill-color);
        border-radius: calc(var(--control-corner-radius) * 1px);
        box-shadow: 0 0 2.9px var(--ambient-shadow-color),
            0 1.6px 3.6px var(--directional-shadow-color);
        box-sizing: border-box;
        display: inline-block;
        height: var(--card-height, 100%);
        width: var(--card-width, 100%);
    }
`;
_card_js__WEBPACK_IMPORTED_MODULE_0__.FASTCard.define({
    name: "fast-card",
    styles,
    template: (0,_card_template_js__WEBPACK_IMPORTED_MODULE_1__.cardTemplate)(),
});


/***/ }),

/***/ "./src/card/stories/card.stories.ts":
/*!******************************************!*\
  !*** ./src/card/stories/card.stories.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Card": () => (/* binding */ Card),
/* harmony export */   "CardWithCustomDimensions": () => (/* binding */ CardWithCustomDimensions),
/* harmony export */   "CardWithSlottedControls": () => (/* binding */ CardWithSlottedControls),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-card>${x => x.storyContent}</fast-card>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Card",
    excludeStories: ["storyTemplate"],
    args: {
        storyContent: "You got a fast card",
    },
    argTypes: {
        storyContent: { table: { disable: true } },
    },
});
const Card = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const CardWithCustomDimensions = Card.bind({});
CardWithCustomDimensions.decorators = [
    Story => {
        const renderedStory = Story();
        renderedStory.style.setProperty("--card-height", "400px");
        renderedStory.style.setProperty("--card-width", "500px");
        return renderedStory;
    },
];
const CardWithSlottedControls = Card.bind({});
CardWithSlottedControls.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fast-button>Test Button</fast-button>
    `,
};
CardWithSlottedControls.decorators = [
    Story => {
        var _a;
        const renderedStory = Story();
        (_a = renderedStory.$fastController) === null || _a === void 0 ? void 0 : _a.addStyles(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
            :host {
                --card-height: 400px;
                --card-width: 500px;
                display: flex;
                flex-direction: column;
                padding: 20px;
            }
        `);
        return renderedStory;
    },
];


/***/ }),

/***/ "./src/checkbox/checkbox.form-associated.ts":
/*!**************************************************!*\
  !*** ./src/checkbox/checkbox.form-associated.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedCheckbox": () => (/* binding */ FormAssociatedCheckbox)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Checkbox extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(Checkbox:class)} component.
 *
 * @beta
 */
class FormAssociatedCheckbox extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.CheckableFormAssociated)(_Checkbox) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/checkbox/checkbox.template.ts":
/*!*******************************************!*\
  !*** ./src/checkbox/checkbox.template.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkboxTemplate": () => (/* binding */ checkboxTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTCheckbox:class)} component.
 * @public
 */
function checkboxTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="checkbox"
            aria-checked="${x => (x.indeterminate ? "mixed" : x.checked)}"
            aria-required="${x => x.required}"
            aria-disabled="${x => x.disabled}"
            tabindex="${x => (x.disabled ? null : 0)}"
            @keypress="${(x, c) => x.keypressHandler(c.event)}"
            @click="${(x, c) => x.clickHandler(c.event)}"
        >
            <div part="control" class="control">
                <slot name="checked-indicator">
                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.checkedIndicator)}
                </slot>
                <slot name="indeterminate-indicator">
                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.indeterminateIndicator)}
                </slot>
            </div>
            <label
                part="label"
                class="${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length
        ? "label"
        : "label label__hidden"}"
            >
                <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)("defaultSlottedNodes")}></slot>
            </label>
        </template>
    `;
}


/***/ }),

/***/ "./src/checkbox/checkbox.ts":
/*!**********************************!*\
  !*** ./src/checkbox/checkbox.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTCheckbox": () => (/* binding */ FASTCheckbox)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _checkbox_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checkbox.form-associated.js */ "./src/checkbox/checkbox.form-associated.ts");




/**
 * A Checkbox Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#checkbox | ARIA checkbox }.
 *
 * @slot checked-indicator - The checked indicator
 * @slot indeterminate-indicator - The indeterminate indicator
 * @slot - The default slot for the label
 * @csspart control - The element representing the visual checkbox control
 * @csspart label - The label
 * @fires change - Emits a custom change event when the checked state changes
 *
 * @public
 */
class FASTCheckbox extends _checkbox_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociatedCheckbox {
    constructor() {
        super();
        /**
         * The element's value to be included in form submission when checked.
         * Default to "on" to reach parity with input[type="checkbox"]
         *
         * @internal
         */
        this.initialValue = "on";
        /**
         * The indeterminate state of the control
         */
        this.indeterminate = false;
        /**
         * @internal
         */
        this.keypressHandler = (e) => {
            if (this.disabled) {
                return;
            }
            switch (e.key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.keySpace:
                    this.toggleChecked();
                    break;
            }
        };
        /**
         * @internal
         */
        this.clickHandler = (e) => {
            if (!this.disabled) {
                this.toggleChecked();
            }
        };
        this.proxy.setAttribute("type", "checkbox");
    }
    toggleChecked() {
        if (this.indeterminate) {
            this.indeterminate = false;
        }
        this.checked = !this.checked;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTCheckbox.prototype, "defaultSlottedNodes", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTCheckbox.prototype, "indeterminate", void 0);


/***/ }),

/***/ "./src/checkbox/stories/checkbox.register.ts":
/*!***************************************************!*\
  !*** ./src/checkbox/stories/checkbox.register.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _checkbox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../checkbox.js */ "./src/checkbox/checkbox.ts");
/* harmony import */ var _checkbox_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../checkbox.template.js */ "./src/checkbox/checkbox.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        align-items: center;
        display: inline-flex;
        margin: calc(var(--design-unit) * 1px) 0;
        outline: none;
        user-select: none;
        vertical-align: middle;
    }

    .control {
        --size: calc((var(--height-number) / 2 + var(--design-unit)) * 1px);
        position: relative;
        width: var(--size);
        height: var(--size);
        box-sizing: border-box;
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--neutral-stroke-rest);
        background: var(--neutral-fill-input-rest);
        outline: none;
        cursor: pointer;
    }

    .label {
        font-family: var(--body-font);
        color: var(--neutral-foreground-rest);
        padding-inline-start: calc(var(--design-unit) * 2px + 2px);
        margin-inline-end: calc(var(--design-unit) * 2px + 2px);
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .checked-indicator {
        width: 100%;
        height: 100%;
        display: block;
        fill: var(--foreground-on-accent-rest);
        opacity: 0;
        pointer-events: none;
    }

    .indeterminate-indicator {
        border-radius: calc(var(--control-corner-radius) * 1px);
        background: var(--foreground-on-accent-rest);
        position: absolute;
        top: 50%;
        left: 50%;
        width: 50%;
        height: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
    }

    :host(:not([disabled])) .control:hover {
        background: var(--neutral-fill-input-hover);
        border-color: var(--neutral-stroke-hover);
    }

    :host(:not([disabled])) .control:active {
        background: var(--neutral-fill-input-active);
        border-color: var(--neutral-stroke-active);
    }

    :host(:focus-visible) .control {
        box-shadow: 0 0 0 2px var(--fill-color), 0 0 0 4px var(--focus-stroke-outer);
    }

    :host([aria-checked="true"]) .control {
        background: var(--accent-fill-rest);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
    }

    :host([aria-checked="true"]:not([disabled])) .control:hover {
        background: var(--accent-fill-hover);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-hover);
    }

    :host([aria-checked="true"]:not([disabled])) .control:hover .checked-indicator {
        fill: var(--foreground-on-accent-hover);
    }

    :host([aria-checked="true"]:not([disabled])) .control:hover .indeterminate-indicator {
        background: var(--foreground-on-accent-hover);
    }

    :host([aria-checked="true"]:not([disabled])) .control:active {
        background: var(--accent-fill-active);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-active);
    }

    :host([aria-checked="true"]:not([disabled])) .control:active .checked-indicator {
        fill: var(--foreground-on-accent-active);
    }

    :host([aria-checked="true"]:not([disabled]))
        .control:active
        .indeterminate-indicator {
        background: var(--foreground-on-accent-active);
    }

    :host([aria-checked="true"]:focus-visible:not([disabled])) .control {
        box-shadow: 0 0 0 2px var(--fill-color), 0 0 0 4px var(--focus-stroke-outer);
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: var(--disabled-cursor);
    }

    :host([aria-checked="true"]) .checked-indicator,
    :host([aria-checked="mixed"]) .indeterminate-indicator {
        opacity: 1;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`;
_checkbox_js__WEBPACK_IMPORTED_MODULE_0__.FASTCheckbox.define({
    name: "fast-checkbox",
    template: (0,_checkbox_template_js__WEBPACK_IMPORTED_MODULE_1__.checkboxTemplate)({
        checkedIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <svg
                part="checked-indicator"
                class="checked-indicator"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
                />
            </svg>
        `,
        indeterminateIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <div part="indeterminate-indicator" class="indeterminate-indicator"></div>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/checkbox/stories/checkbox.stories.ts":
/*!**************************************************!*\
  !*** ./src/checkbox/stories/checkbox.stories.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Checkbox": () => (/* binding */ Checkbox),
/* harmony export */   "CheckboxDisabled": () => (/* binding */ CheckboxDisabled),
/* harmony export */   "CheckboxInFieldset": () => (/* binding */ CheckboxInFieldset),
/* harmony export */   "CheckboxInForm": () => (/* binding */ CheckboxInForm),
/* harmony export */   "CheckboxIndeterminate": () => (/* binding */ CheckboxIndeterminate),
/* harmony export */   "CheckboxVisualVsAudioLabel": () => (/* binding */ CheckboxVisualVsAudioLabel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-checkbox
        ?checked="${x => x.checked}"
        ?disabled="${x => x.disabled}"
        ?required="${x => x.required}"
        ?readonly="${x => x.readOnly}"
        :indeterminate="${x => x.indeterminate}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-checkbox>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Checkbox",
    args: {
        checked: false,
        disabled: false,
        indeterminate: false,
        storyContent: "Checkbox",
        readOnly: false,
        required: false,
    },
    argTypes: {
        checked: { control: "boolean" },
        disabled: { control: "boolean" },
        indeterminate: { control: "boolean" },
        readOnly: { control: "boolean" },
        required: { control: "boolean" },
        value: { control: "text" },
        storyContent: { table: { disable: true } },
        storyItems: { table: { disable: true } },
    },
});
const Checkbox = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const CheckboxDisabled = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <div style="align-items: start; display: flex; flex-direction: column">
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.repeat)(x => x.storyItems, storyTemplate)}
        </div>
    `).bind({});
CheckboxDisabled.args = {
    storyItems: [
        { storyContent: "Disabled (unchecked)", disabled: true },
        {
            storyContent: "Disabled (indeterminate, unchecked)",
            disabled: true,
            indeterminate: true,
        },
        {
            storyContent: "Disabled (indeterminate, checked)",
            checked: true,
            disabled: true,
            indeterminate: true,
        },
        { storyContent: "Disabled (checked)", checked: true, disabled: true },
    ],
};
const CheckboxIndeterminate = Checkbox.bind({});
CheckboxIndeterminate.args = {
    checked: true,
    indeterminate: true,
    storyContent: "Indeterminate",
};
const CheckboxInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});
const CheckboxInFieldset = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fieldset style="align-items: start; display: flex; flex-direction: column">
            <legend>${x => x.legendLabel}</legend>
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.repeat)(x => x.storyItems, storyTemplate)}
        </fieldset>
    `).bind({});
CheckboxInFieldset.args = {
    legendLabel: "Fruit",
    storyItems: [
        { storyContent: "Apples", checked: true },
        { storyContent: "Bananas", checked: true },
        { storyContent: "Honeydew" },
        { storyContent: "Oranges", checked: true },
    ],
};
const CheckboxVisualVsAudioLabel = Checkbox.bind({});
CheckboxVisualVsAudioLabel.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <span aria-label="Audio label">Visible label</span>
    `,
};


/***/ }),

/***/ "./src/combobox/combobox.form-associated.ts":
/*!**************************************************!*\
  !*** ./src/combobox/combobox.form-associated.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedCombobox": () => (/* binding */ FormAssociatedCombobox)
/* harmony export */ });
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");
/* harmony import */ var _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../listbox/listbox.js */ "./src/listbox/listbox.ts");


class _Combobox extends _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_1__.FASTListbox {
}
/**
 * A form-associated base class for the {@link (Combobox:class)} component.
 *
 * @beta
 */
class FormAssociatedCombobox extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_Combobox) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/combobox/combobox.options.ts":
/*!******************************************!*\
  !*** ./src/combobox/combobox.options.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComboboxAutocomplete": () => (/* binding */ ComboboxAutocomplete)
/* harmony export */ });
/**
 * Autocomplete values for combobox.
 * @public
 */
const ComboboxAutocomplete = {
    inline: "inline",
    list: "list",
    both: "both",
    none: "none",
};


/***/ }),

/***/ "./src/combobox/combobox.template.ts":
/*!*******************************************!*\
  !*** ./src/combobox/combobox.template.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "comboboxTemplate": () => (/* binding */ comboboxTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../listbox/listbox.js */ "./src/listbox/listbox.ts");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");




/**
 * The template for the {@link @microsoft/fast-foundation#(FASTCombobox:class)} component.
 * @public
 */
function comboboxTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <template
            aria-disabled="${x => x.ariaDisabled}"
            autocomplete="${x => x.autocomplete}"
            ?open="${x => x.open}"
            tabindex="${x => (!x.disabled ? "0" : null)}"
            @click="${(x, c) => x.clickHandler(c.event)}"
            @focusout="${(x, c) => x.focusoutHandler(c.event)}"
            @keydown="${(x, c) => x.keydownHandler(c.event)}"
        >
            <div class="control" part="control">
                ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_2__.startSlotTemplate)(options)}
                <slot name="control">
                    <input
                        aria-activedescendant="${x => x.open ? x.ariaActiveDescendant : null}"
                        aria-autocomplete="${x => x.ariaAutoComplete}"
                        aria-controls="${x => x.ariaControls}"
                        aria-disabled="${x => x.ariaDisabled}"
                        aria-expanded="${x => x.ariaExpanded}"
                        aria-haspopup="listbox"
                        class="selected-value"
                        part="selected-value"
                        placeholder="${x => x.placeholder}"
                        role="combobox"
                        type="text"
                        ?disabled="${x => x.disabled}"
                        :value="${x => x.value}"
                        @input="${(x, c) => x.inputHandler(c.event)}"
                        @keyup="${(x, c) => x.keyupHandler(c.event)}"
                        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.ref)("control")}
                    />
                    <div class="indicator" part="indicator" aria-hidden="true">
                        <slot name="indicator">
                            ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.indicator)}
                        </slot>
                    </div>
                </slot>
                ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_2__.endSlotTemplate)(options)}
            </div>
            <div
                class="listbox"
                id="${x => x.listboxId}"
                part="listbox"
                role="listbox"
                ?disabled="${x => x.disabled}"
                ?hidden="${x => !x.open}"
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.ref)("listbox")}
            >
                <slot
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.slotted)({
        filter: _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_1__.FASTListbox.slottedOptionFilter,
        flatten: true,
        property: "slottedOptions",
    })}
                ></slot>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/combobox/combobox.ts":
/*!**********************************!*\
  !*** ./src/combobox/combobox.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIACombobox": () => (/* binding */ DelegatesARIACombobox),
/* harmony export */   "FASTCombobox": () => (/* binding */ FASTCombobox)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.mjs");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/core/dist/floating-ui.core.browser.mjs");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/numbers.js");
/* harmony import */ var _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../listbox/listbox.js */ "./src/listbox/listbox.ts");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _combobox_form_associated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./combobox.form-associated.js */ "./src/combobox/combobox.form-associated.ts");
/* harmony import */ var _combobox_options_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./combobox.options.js */ "./src/combobox/combobox.options.ts");









/**
 * A Combobox Custom HTML Element.
 * Implements the {@link https://w3c.github.io/aria-practices/#combobox | ARIA combobox }.
 *
 * @slot start - Content which can be provided before the input
 * @slot end - Content which can be provided after the input
 * @slot control - Used to replace the input element representing the combobox
 * @slot indicator - The visual indicator representing the expanded state
 * @slot - The default slot for the options
 * @csspart control - The wrapper element containing the input area, including start and end
 * @csspart selected-value - The input element representing the selected value
 * @csspart indicator - The element wrapping the indicator slot
 * @csspart listbox - The wrapper for the listbox slotted options
 * @fires change - Fires a custom 'change' event when the value updates
 *
 * @public
 */
class FASTCombobox extends _combobox_form_associated_js__WEBPACK_IMPORTED_MODULE_3__.FormAssociatedCombobox {
    constructor() {
        super(...arguments);
        /**
         * The internal value property.
         *
         * @internal
         */
        this._value = "";
        /**
         * The collection of currently filtered options.
         *
         * @public
         */
        this.filteredOptions = [];
        /**
         * The current filter value.
         *
         * @internal
         */
        this.filter = "";
        /**
         * The unique id for the internal listbox element.
         *
         * @internal
         */
        this.listboxId = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.uniqueId)("listbox-");
        /**
         * The open attribute.
         *
         * @public
         * @remarks
         * HTML Attribute: open
         */
        this.open = false;
    }
    /**
     * Reset the element to its first selectable option when its parent form is reset.
     *
     * @internal
     */
    formResetCallback() {
        var _a;
        super.formResetCallback();
        this.setDefaultSelectedOption();
        if (!this.firstSelectedOption) {
            this.value = (_a = this.initialValue) !== null && _a !== void 0 ? _a : "";
            return;
        }
        this.updateValue();
    }
    /** {@inheritDoc (FormAssociated:interface).validate} */
    validate() {
        super.validate(this.control);
    }
    get isAutocompleteInline() {
        return (this.autocomplete === _combobox_options_js__WEBPACK_IMPORTED_MODULE_4__.ComboboxAutocomplete.inline || this.isAutocompleteBoth);
    }
    get isAutocompleteList() {
        return this.autocomplete === _combobox_options_js__WEBPACK_IMPORTED_MODULE_4__.ComboboxAutocomplete.list || this.isAutocompleteBoth;
    }
    get isAutocompleteBoth() {
        return this.autocomplete === _combobox_options_js__WEBPACK_IMPORTED_MODULE_4__.ComboboxAutocomplete.both;
    }
    /**
     * Sets focus and synchronize ARIA attributes when the open property changes.
     *
     * @param prev - the previous open value
     * @param next - the current open value
     *
     * @internal
     */
    openChanged() {
        if (this.open) {
            this.ariaControls = this.listboxId;
            this.ariaExpanded = "true";
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Updates.enqueue(() => this.setPositioning());
            this.focusAndScrollOptionIntoView();
            // focus is directed to the element when `open` is changed programmatically
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Updates.enqueue(() => this.focus());
            return;
        }
        this.ariaControls = "";
        this.ariaExpanded = "false";
    }
    /**
     * The list of options.
     *
     * @public
     * @remarks
     * Overrides `Listbox.options`.
     */
    get options() {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Observable.track(this, "options");
        return this.filteredOptions.length ? this.filteredOptions : this._options;
    }
    set options(value) {
        this._options = value;
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Observable.notify(this, "options");
    }
    /**
     * Updates the placeholder on the proxy element.
     * @internal
     */
    placeholderChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.placeholder = this.placeholder;
        }
    }
    /**
     * The value property.
     *
     * @public
     */
    get value() {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Observable.track(this, "value");
        return this._value;
    }
    set value(next) {
        var _a, _b, _c;
        const prev = `${this._value}`;
        if (this.$fastController.isConnected && this.options) {
            const selectedIndex = this.options.findIndex(el => el.text.toLowerCase() === next.toLowerCase());
            const prevSelectedValue = (_a = this.options[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.text;
            const nextSelectedValue = (_b = this.options[selectedIndex]) === null || _b === void 0 ? void 0 : _b.text;
            this.selectedIndex =
                prevSelectedValue !== nextSelectedValue
                    ? selectedIndex
                    : this.selectedIndex;
            next = ((_c = this.firstSelectedOption) === null || _c === void 0 ? void 0 : _c.text) || next;
        }
        if (prev !== next) {
            this._value = next;
            super.valueChanged(prev, next);
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Observable.notify(this, "value");
        }
    }
    /**
     * Handle opening and closing the listbox when the combobox is clicked.
     *
     * @param e - the mouse event
     * @internal
     */
    clickHandler(e) {
        if (this.disabled) {
            return;
        }
        if (this.open) {
            const captured = e.target.closest(`option,[role=option]`);
            if (!captured || captured.disabled) {
                return;
            }
            this.selectedOptions = [captured];
            this.control.value = captured.text;
            this.clearSelectionRange();
            this.updateValue(true);
        }
        this.open = !this.open;
        if (this.open) {
            this.control.focus();
        }
        return true;
    }
    connectedCallback() {
        super.connectedCallback();
        if (this.value) {
            this.initialValue = this.value;
        }
    }
    /**
     * Synchronize the `aria-disabled` property when the `disabled` property changes.
     *
     * @param prev - The previous disabled value
     * @param next - The next disabled value
     *
     * @internal
     */
    disabledChanged(prev, next) {
        if (super.disabledChanged) {
            super.disabledChanged(prev, next);
        }
        this.ariaDisabled = this.disabled ? "true" : "false";
    }
    disconnectedCallback() {
        var _a;
        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);
        super.disconnectedCallback();
    }
    /**
     * Filter available options by text value.
     *
     * @public
     */
    filterOptions() {
        if (!this.autocomplete || this.autocomplete === _combobox_options_js__WEBPACK_IMPORTED_MODULE_4__.ComboboxAutocomplete.none) {
            this.filter = "";
        }
        const filter = this.filter.toLowerCase();
        this.filteredOptions = this._options.filter(o => o.text.toLowerCase().startsWith(this.filter.toLowerCase()));
        if (this.isAutocompleteList) {
            if (!this.filteredOptions.length && !filter) {
                this.filteredOptions = this._options;
            }
            this._options.forEach(o => {
                o.hidden = !this.filteredOptions.includes(o);
            });
        }
    }
    /**
     * Focus the control and scroll the first selected option into view.
     *
     * @internal
     * @remarks
     * Overrides: `Listbox.focusAndScrollOptionIntoView`
     */
    focusAndScrollOptionIntoView() {
        if (this.contains(document.activeElement)) {
            this.control.focus();
            if (this.firstSelectedOption) {
                requestAnimationFrame(() => {
                    var _a;
                    (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ block: "nearest" });
                });
            }
        }
    }
    /**
     * Handle focus state when the element or its children lose focus.
     *
     * @param e - The focus event
     * @internal
     */
    focusoutHandler(e) {
        this.updateValue();
        if (!this.open) {
            return true;
        }
        const focusTarget = e.relatedTarget;
        if (this.isSameNode(focusTarget)) {
            this.focus();
            return;
        }
        if (!this.options || !this.options.includes(focusTarget)) {
            this.open = false;
        }
    }
    /**
     * Handle content changes on the control input.
     *
     * @param e - the input event
     * @internal
     */
    inputHandler(e) {
        this.filter = this.control.value;
        this.filterOptions();
        if (e.inputType === "deleteContentBackward" || !this.filter.length) {
            return true;
        }
        if (this.isAutocompleteList && !this.open) {
            this.open = true;
        }
        if (this.isAutocompleteInline && this.filteredOptions.length) {
            this.selectedOptions = [this.filteredOptions[0]];
            this.selectedIndex = this.options.indexOf(this.firstSelectedOption);
            this.setInlineSelection();
        }
        return;
    }
    /**
     * Handle keydown actions for listbox navigation.
     *
     * @param e - the keyboard event
     * @internal
     */
    keydownHandler(e) {
        const key = e.key;
        if (e.ctrlKey || e.shiftKey) {
            return true;
        }
        switch (key) {
            case "Enter": {
                this.updateValue(true);
                if (this.isAutocompleteInline) {
                    this.filter = this.value;
                }
                this.open = false;
                this.clearSelectionRange();
                break;
            }
            case "Escape": {
                if (!this.isAutocompleteInline) {
                    this.selectedIndex = -1;
                }
                if (this.open) {
                    this.open = false;
                    break;
                }
                this.value = "";
                this.control.value = "";
                this.filter = "";
                this.filterOptions();
                break;
            }
            case "Tab": {
                this.updateValue();
                if (!this.open) {
                    return true;
                }
                e.preventDefault();
                this.open = false;
                break;
            }
            case "ArrowUp":
            case "ArrowDown": {
                this.filterOptions();
                if (!this.open) {
                    this.open = true;
                    break;
                }
                if (this.filteredOptions.length > 0) {
                    super.keydownHandler(e);
                }
                if (this.isAutocompleteInline) {
                    this.updateValue();
                    this.setInlineSelection();
                }
                break;
            }
            default: {
                return true;
            }
        }
    }
    /**
     * Handle keyup actions for value input and text field manipulations.
     *
     * @param e - the keyboard event
     * @internal
     */
    keyupHandler(e) {
        const key = e.key;
        switch (key) {
            case "ArrowLeft":
            case "ArrowRight":
            case "Backspace":
            case "Delete":
            case "Home":
            case "End": {
                this.filter = this.control.value;
                this.selectedIndex = -1;
                this.filterOptions();
                break;
            }
        }
    }
    /**
     * Ensure that the selectedIndex is within the current allowable filtered range.
     *
     * @param prev - the previous selected index value
     * @param next - the current selected index value
     *
     * @internal
     */
    selectedIndexChanged(prev, next) {
        if (this.$fastController.isConnected) {
            next = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_8__.limit)(-1, this.options.length - 1, next);
            // we only want to call the super method when the selectedIndex is in range
            if (next !== this.selectedIndex) {
                this.selectedIndex = next;
                return;
            }
            super.selectedIndexChanged(prev, next);
        }
    }
    /**
     * Move focus to the previous selectable option.
     *
     * @internal
     * @remarks
     * Overrides `Listbox.selectPreviousOption`
     */
    selectPreviousOption() {
        if (!this.disabled && this.selectedIndex >= 0) {
            this.selectedIndex = this.selectedIndex - 1;
        }
    }
    /**
     * Set the default selected options at initialization or reset.
     *
     * @internal
     * @remarks
     * Overrides `Listbox.setDefaultSelectedOption`
     */
    setDefaultSelectedOption() {
        if (this.$fastController.isConnected && this.options) {
            const selectedIndex = this.options.findIndex(el => el.getAttribute("selected") !== null || el.selected);
            this.selectedIndex = selectedIndex;
            if (!this.dirtyValue && this.firstSelectedOption) {
                this.value = this.firstSelectedOption.text;
            }
            else {
                this.value = "";
            }
            this.setSelectedOptions();
        }
    }
    /**
     * Focus and select the content of the control based on the first selected option.
     *
     * @param start - The index for the starting range
     * @internal
     */
    setInlineSelection() {
        if (this.firstSelectedOption) {
            this.control.value = this.firstSelectedOption.text;
            this.control.focus();
            this.control.setSelectionRange(this.filter.length, this.control.value.length, "backward");
        }
    }
    /**
     * Calculate and apply listbox positioning based on available viewport space.
     *
     * @public
     */
    setPositioning() {
        if (this.$fastController.isConnected) {
            this.cleanup = (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_9__.autoUpdate)(this, this.listbox, () => (0,tslib__WEBPACK_IMPORTED_MODULE_10__.__awaiter)(this, void 0, void 0, function* () {
                var _a;
                const { middlewareData, x, y } = yield (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_9__.computePosition)(this, this.listbox, {
                    placement: "bottom",
                    strategy: "fixed",
                    middleware: [
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_11__.flip)(),
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_11__.size)({
                            apply: ({ availableHeight, rects }) => {
                                Object.assign(this.listbox.style, {
                                    maxHeight: `${availableHeight}px`,
                                    width: `${rects.reference.width}px`,
                                });
                            },
                        }),
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_11__.hide)(),
                    ],
                });
                if ((_a = middlewareData.hide) === null || _a === void 0 ? void 0 : _a.referenceHidden) {
                    this.open = false;
                    this.cleanup();
                    return;
                }
                Object.assign(this.listbox.style, {
                    position: "fixed",
                    top: "0",
                    left: "0",
                    transform: `translate(${x}px, ${y}px)`,
                });
            }));
        }
    }
    /**
     * Ensure that the entire list of options is used when setting the selected property.
     *
     * @param prev - the previous list of selected options
     * @param next - the current list of selected options
     *
     * @internal
     * @remarks
     * Overrides: `Listbox.selectedOptionsChanged`
     */
    selectedOptionsChanged(prev, next) {
        if (this.$fastController.isConnected) {
            this._options.forEach(o => {
                o.selected = next.includes(o);
            });
        }
    }
    /**
     * Synchronize the form-associated proxy and update the value property of the element.
     *
     * @param prev - the previous collection of slotted option elements
     * @param next - the next collection of slotted option elements
     *
     * @internal
     */
    slottedOptionsChanged(prev, next) {
        super.slottedOptionsChanged(prev, next);
        this.updateValue();
    }
    /**
     * Sets the value and to match the first selected option.
     *
     * @param shouldEmit - if true, the change event will be emitted
     *
     * @internal
     */
    updateValue(shouldEmit) {
        var _a;
        if (this.$fastController.isConnected) {
            this.value = ((_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.text) || this.control.value;
        }
        if (shouldEmit) {
            this.$emit("change");
        }
    }
    /**
     * @internal
     */
    clearSelectionRange() {
        const controlValueLength = this.control.value.length;
        this.control.setSelectionRange(controlValueLength, controlValueLength);
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_12__.attr)({ attribute: "autocomplete", mode: "fromView" })
], FASTCombobox.prototype, "autocomplete", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_12__.attr)({ attribute: "open", mode: "boolean" })
], FASTCombobox.prototype, "open", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_12__.attr
], FASTCombobox.prototype, "placeholder", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA combobox role.
 *
 * @public
 */
class DelegatesARIACombobox {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], DelegatesARIACombobox.prototype, "ariaAutoComplete", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], DelegatesARIACombobox.prototype, "ariaControls", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__.applyMixins)(DelegatesARIACombobox, _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_0__.DelegatesARIAListbox);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__.applyMixins)(FASTCombobox, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.StartEnd, DelegatesARIACombobox);


/***/ }),

/***/ "./src/combobox/stories/combobox.register.ts":
/*!***************************************************!*\
  !*** ./src/combobox/stories/combobox.register.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../statics/svg/chevron_down_12_regular.svg */ "./statics/svg/chevron_down_12_regular.svg");
/* harmony import */ var _statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _combobox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../combobox.js */ "./src/combobox/combobox.ts");
/* harmony import */ var _combobox_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../combobox.template.js */ "./src/combobox/combobox.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        --elevation: 14;
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        box-sizing: border-box;
        color: var(--neutral-foreground-rest);
        display: inline-flex;
        font-family: var(--body-font);
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        position: relative;
        user-select: none;
        min-width: 250px;
        outline: none;
        vertical-align: top;
    }

    .listbox {
        box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px)
                rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))),
            0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px))
                rgba(0, 0, 0, calc(0.13 * (2 - var(--background-luminance, 1))));
        background: var(--neutral-layer-floating);
        border: calc(var(--stroke-width) * 1px) solid var(--neutral-stroke-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        box-sizing: border-box;
        display: inline-flex;
        flex-direction: column;
        left: 0;
        padding: calc(var(--design-unit) * 1px) 0;
        overflow-y: auto;
        position: fixed;
        top: 0;
        z-index: 1;
    }

    .listbox[hidden] {
        display: none;
    }

    .control {
        align-items: center;
        box-sizing: border-box;
        cursor: pointer;
        display: flex;
        font-size: var(--type-ramp-base-font-size);
        font-family: inherit;
        line-height: var(--type-ramp-base-line-height);
        min-height: 100%;
        padding: 0 calc(var(--design-unit) * 2.25px);
        width: 100%;
    }

    :host(:not([disabled]):hover) {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-hover);
    }

    :host(:focus-visible) {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc(var(--focus-stroke-width) * 1px) var(--focus-stroke-outer);
    }

    :host(:focus-visible)
        ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
        box-shadow: 0 0 0 calc(var(--focus-stroke-width) * 1px) inset
            var(--focus-stroke-inner);
        border-color: var(--focus-stroke-outer);
        background: var(--accent-fill-focus);
        color: var(--foreground-on-accent-focus);
    }

    :host([disabled]) {
        cursor: not-allowed;
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        cursor: not-allowed;
        user-select: none;
    }

    :host([disabled]:hover) {
        background: var(--neutral-fill-stealth-rest);
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
    }

    :host(:not([disabled])) .control:active {
        background: var(--neutral-fill-input-active);
        border-color: var(--accent-fill-active);
        border-radius: calc(var(--control-corner-radius) * 1px);
    }

    :host([open][position="above"]) .listbox {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    :host([open][position="below"]) .listbox {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    :host([open][position="above"]) .listbox {
        border-bottom: 0;
        bottom: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
    }

    :host([open][position="below"]) .listbox {
        border-top: 0;
        top: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
    }

    .selected-value {
        flex: 1 1 auto;
        font-family: inherit;
        text-align: start;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .indicator {
        flex: 0 0 auto;
        margin-inline-start: 1em;
    }

    slot[name="listbox"] {
        display: none;
        width: 100%;
    }

    :host([open]) slot[name="listbox"] {
        display: flex;
        position: absolute;
        box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px)
                rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))),
            0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px))
                rgba(0, 0, 0, calc(0.13 * (2 - var(--background-luminance, 1))));
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }

    ::slotted([role="option"]),
    ::slotted(option) {
        flex: 0 0 auto;
    }

    :host(:empty) .listbox {
        display: none;
    }

    :host([disabled]) *,
    :host([disabled]) {
        cursor: not-allowed;
        user-select: none;
    }

    .selected-value {
        appearance: none;
        background: transparent;
        border: none;
        color: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(100% - (var(--stroke-width) * 1px));
        line-height: var(--type-ramp-base-line-height);
        margin: auto 0;
    }

    .selected-value:hover,
    .selected-value:focus-visible,
    .selected-value:disabled,
    .selected-value:active {
        outline: none;
    }
`;
_combobox_js__WEBPACK_IMPORTED_MODULE_0__.FASTCombobox.define({
    name: "fast-combobox",
    template: (0,_combobox_template_js__WEBPACK_IMPORTED_MODULE_1__.comboboxTemplate)({
        indicator: (_statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3___default()),
    }),
    styles,
    shadowOptions: {
        delegatesFocus: true,
    },
});


/***/ }),

/***/ "./src/combobox/stories/combobox.stories.ts":
/*!**************************************************!*\
  !*** ./src/combobox/stories/combobox.stories.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Combobox": () => (/* binding */ Combobox),
/* harmony export */   "ComboboxDisabled": () => (/* binding */ ComboboxDisabled),
/* harmony export */   "ComboboxInForm": () => (/* binding */ ComboboxInForm),
/* harmony export */   "ComboboxWithBothAutocomplete": () => (/* binding */ ComboboxWithBothAutocomplete),
/* harmony export */   "ComboboxWithInlineAutocomplete": () => (/* binding */ ComboboxWithInlineAutocomplete),
/* harmony export */   "ComboboxWithListAutocomplete": () => (/* binding */ ComboboxWithListAutocomplete),
/* harmony export */   "ComboboxWithPlaceholder": () => (/* binding */ ComboboxWithPlaceholder),
/* harmony export */   "ComboboxWithSlottedStartEnd": () => (/* binding */ ComboboxWithSlottedStartEnd),
/* harmony export */   "ComboboxWithWrappingLabel": () => (/* binding */ ComboboxWithWrappingLabel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../listbox-option/stories/listbox-option.stories.js */ "./src/listbox-option/stories/listbox-option.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _combobox_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../combobox.options.js */ "./src/combobox/combobox.options.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fast-combobox
        ?autofocus="${x => x.autofocus}"
        ?disabled="${x => x.disabled}"
        ?required="${x => x.required}"
        autocomplete="${x => x.autocomplete}"
        id="${x => x.id}"
        name="${x => x.name}"
        placeholder="${x => x.placeholder}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-combobox>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Combobox",
    args: {
        disabled: false,
        required: false,
        storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        `,
        storyItems: [
            { storyContent: "William Hartnell" },
            { storyContent: "Patrick Troughton" },
            { storyContent: "Jon Pertwee" },
            { storyContent: "Tom Baker" },
            { storyContent: "Peter Davidson" },
            { storyContent: "Colin Baker" },
            { storyContent: "Sylvester McCoy" },
            { storyContent: "Paul McGann" },
            { storyContent: "Christopher Eccleston" },
            { storyContent: "David Tenant" },
            { storyContent: "Matt Smith" },
            { storyContent: "Peter Capaldi" },
            { storyContent: "Jodie Whittaker" },
            { storyContent: "Ncuti Gatwa" },
        ],
    },
    argTypes: {
        autocomplete: { control: "select", options: Object.values(_combobox_options_js__WEBPACK_IMPORTED_MODULE_2__.ComboboxAutocomplete) },
        disabled: { control: "boolean" },
        id: { control: "text" },
        placeholder: { control: "text" },
        storyContent: { table: { disable: true } },
        storyItems: { table: { disable: true } },
        value: { control: "text" },
    },
});
const Combobox = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(storyTemplate).bind({});
const ComboboxDisabled = Combobox.bind({});
ComboboxDisabled.args = {
    disabled: true,
};
const ComboboxWithPlaceholder = Combobox.bind({});
ComboboxWithPlaceholder.args = {
    placeholder: "Select a character",
};
const ComboboxWithInlineAutocomplete = Combobox.bind({});
ComboboxWithInlineAutocomplete.args = {
    autocomplete: _combobox_options_js__WEBPACK_IMPORTED_MODULE_2__.ComboboxAutocomplete.inline,
};
const ComboboxWithListAutocomplete = Combobox.bind({});
ComboboxWithListAutocomplete.args = {
    autocomplete: _combobox_options_js__WEBPACK_IMPORTED_MODULE_2__.ComboboxAutocomplete.list,
};
const ComboboxWithBothAutocomplete = Combobox.bind({});
ComboboxWithBothAutocomplete.args = {
    autocomplete: _combobox_options_js__WEBPACK_IMPORTED_MODULE_2__.ComboboxAutocomplete.both,
};
const ComboboxWithSlottedStartEnd = Combobox.bind({});
ComboboxWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const ComboboxInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <fast-button type="reset">Reset</fast-button>
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});
ComboboxInForm.args = {
    required: true,
};
const ComboboxWithWrappingLabel = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <label for="${x => x.id}" style="display: inline-flex; flex-direction: column">
            <div>${x => x.label}</div>
            ${storyTemplate}
        </label>
    `).bind({});
ComboboxWithWrappingLabel.args = {
    id: "combobox",
    label: "Combobox",
    name: "combobox",
};


/***/ }),

/***/ "./src/data-grid/data-grid-cell.template.ts":
/*!**************************************************!*\
  !*** ./src/data-grid/data-grid-cell.template.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dataGridCellTemplate": () => (/* binding */ dataGridCellTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-grid.options.js */ "./src/data-grid/data-grid.options.ts");


/**
 * Generates a template for the {@link @microsoft/fast-foundation#FASTDataGridCell} component using
 * the provided prefix.
 * @public
 */
function dataGridCellTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            tabindex="-1"
            role="${x => { var _a; return (_a = _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellRole[x.cellType]) !== null && _a !== void 0 ? _a : _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellRole["default"]; }}"
        >
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/data-grid/data-grid-cell.ts":
/*!*****************************************!*\
  !*** ./src/data-grid/data-grid-cell.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataGridCellTypes": () => (/* reexport safe */ _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes),
/* harmony export */   "FASTDataGridCell": () => (/* binding */ FASTDataGridCell)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/events.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-grid.options.js */ "./src/data-grid/data-grid.options.ts");





const defaultCellContentsTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <template>
        ${x => x.rowData === null ||
    x.columnDefinition === null ||
    x.columnDefinition.columnDataKey === null
    ? null
    : x.rowData[x.columnDefinition.columnDataKey]}
    </template>
`;
const defaultHeaderCellContentsTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <template>
        ${x => x.columnDefinition === null
    ? null
    : x.columnDefinition.title === undefined
        ? x.columnDefinition.columnDataKey
        : x.columnDefinition.title}
    </template>
`;
/**
 * A Data Grid Cell Custom HTML Element.
 *
 * @fires cell-focused - Fires a custom 'cell-focused' event when focus is on the cell or its contents
 * @slot - The default slot for cell contents.  The "cell contents template" renders here.
 * @public
 */
class FASTDataGridCell extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The type of cell
         *
         * @public
         * @remarks
         * HTML Attribute: cell-type
         */
        this.cellType = _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes["default"];
        /**
         * The base data for the parent row
         *
         * @public
         */
        this.rowData = null;
        /**
         * The base data for the column
         *
         * @public
         */
        this.columnDefinition = null;
        this.isActiveCell = false;
        this.customCellView = null;
        this.updateCellStyle = () => {
            this.style.gridColumn = this.gridColumn;
        };
    }
    cellTypeChanged() {
        if (this.$fastController.isConnected) {
            this.updateCellView();
        }
    }
    gridColumnChanged() {
        if (this.$fastController.isConnected) {
            this.updateCellStyle();
        }
    }
    columnDefinitionChanged(oldValue, newValue) {
        if (this.$fastController.isConnected) {
            this.updateCellView();
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        var _a;
        super.connectedCallback();
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.eventFocusIn, this.handleFocusin);
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.eventFocusOut, this.handleFocusout);
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.eventKeyDown, this.handleKeydown);
        this.style.gridColumn = `${((_a = this.columnDefinition) === null || _a === void 0 ? void 0 : _a.gridColumn) === undefined
            ? 0
            : this.columnDefinition.gridColumn}`;
        this.updateCellView();
        this.updateCellStyle();
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.eventFocusIn, this.handleFocusin);
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.eventFocusOut, this.handleFocusout);
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_3__.eventKeyDown, this.handleKeydown);
        this.disconnectCellView();
    }
    handleFocusin(e) {
        if (this.isActiveCell) {
            return;
        }
        this.isActiveCell = true;
        switch (this.cellType) {
            case _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes.columnHeader:
                if (this.columnDefinition !== null &&
                    this.columnDefinition.headerCellInternalFocusQueue !== true &&
                    typeof this.columnDefinition.headerCellFocusTargetCallback ===
                        "function") {
                    // move focus to the focus target
                    const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);
                    if (focusTarget !== null) {
                        focusTarget.focus();
                    }
                }
                break;
            default:
                if (this.columnDefinition !== null &&
                    this.columnDefinition.cellInternalFocusQueue !== true &&
                    typeof this.columnDefinition.cellFocusTargetCallback === "function") {
                    // move focus to the focus target
                    const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);
                    if (focusTarget !== null) {
                        focusTarget.focus();
                    }
                }
                break;
        }
        this.$emit("cell-focused", this);
    }
    handleFocusout(e) {
        if (this !== document.activeElement && !this.contains(document.activeElement)) {
            this.isActiveCell = false;
        }
    }
    handleKeydown(e) {
        if (e.defaultPrevented ||
            this.columnDefinition === null ||
            (this.cellType === _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes["default"] &&
                this.columnDefinition.cellInternalFocusQueue !== true) ||
            (this.cellType === _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes.columnHeader &&
                this.columnDefinition.headerCellInternalFocusQueue !== true)) {
            return;
        }
        switch (e.key) {
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEnter:
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyFunction2:
                if (this.contains(document.activeElement) &&
                    document.activeElement !== this) {
                    return;
                }
                switch (this.cellType) {
                    case _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes.columnHeader:
                        if (this.columnDefinition.headerCellFocusTargetCallback !==
                            undefined) {
                            const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);
                            if (focusTarget !== null) {
                                focusTarget.focus();
                            }
                            e.preventDefault();
                        }
                        break;
                    default:
                        if (this.columnDefinition.cellFocusTargetCallback !== undefined) {
                            const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);
                            if (focusTarget !== null) {
                                focusTarget.focus();
                            }
                            e.preventDefault();
                        }
                        break;
                }
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEscape:
                if (this.contains(document.activeElement) &&
                    document.activeElement !== this) {
                    this.focus();
                    e.preventDefault();
                }
                break;
        }
    }
    updateCellView() {
        var _a, _b;
        this.disconnectCellView();
        if (this.columnDefinition === null) {
            return;
        }
        switch (this.cellType) {
            case _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes.columnHeader:
                this.customCellView = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                    ${(_a = this.columnDefinition.headerCellTemplate) !== null && _a !== void 0 ? _a : defaultHeaderCellContentsTemplate}
                `.render(this, this);
                break;
            case undefined:
            case _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes.rowHeader:
            case _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridCellTypes["default"]:
                this.customCellView = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                    ${(_b = this.columnDefinition.cellTemplate) !== null && _b !== void 0 ? _b : defaultCellContentsTemplate}
                `.render(this, this);
                break;
        }
    }
    disconnectCellView() {
        if (this.customCellView !== null) {
            this.customCellView.dispose();
            this.customCellView = null;
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "cell-type" })
], FASTDataGridCell.prototype, "cellType", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "grid-column" })
], FASTDataGridCell.prototype, "gridColumn", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTDataGridCell.prototype, "rowData", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTDataGridCell.prototype, "columnDefinition", void 0);


/***/ }),

/***/ "./src/data-grid/data-grid-row.template.ts":
/*!*************************************************!*\
  !*** ./src/data-grid/data-grid-row.template.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dataGridRowTemplate": () => (/* binding */ dataGridRowTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/children.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");


function cellItemTemplate(options) {
    const cellTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html.partial((0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridCell));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <${cellTag}
        cell-type="${x => (x.isRowHeader ? "rowheader" : undefined)}"
        grid-column="${(x, c) => c.index + 1}"
        :rowData="${(x, c) => c.parent.rowData}"
        :columnDefinition="${x => x}"
    ></${cellTag}>
`;
}
function headerCellItemTemplate(options) {
    const cellTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html.partial((0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridCell));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <${cellTag}
        cell-type="columnheader"
        grid-column="${(x, c) => c.index + 1}"
        :columnDefinition="${x => x}"
    ></${cellTag}>
`;
}
/**
 * Generates a template for the {@link @microsoft/fast-foundation#FASTDataGridRow} component using
 * the provided prefix.
 *
 * @public
 */
function dataGridRowTemplate(options) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="row"
            :defaultCellItemTemplate="${cellItemTemplate(options)}"
            :defaultHeaderCellItemTemplate="${headerCellItemTemplate(options)}"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.children)({
        property: "cellElements",
        filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.elements)('[role="cell"],[role="gridcell"],[role="columnheader"],[role="rowheader"]'),
    })}
        >
            <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.slotted)("slottedCellElements")}></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/data-grid/data-grid-row.ts":
/*!****************************************!*\
  !*** ./src/data-grid/data-grid-row.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTDataGridRow": () => (/* binding */ FASTDataGridRow)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/index.debug.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element/utilities */ "./node_modules/@microsoft/fast-element/dist/esm/utilities.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/events.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-grid.options.js */ "./src/data-grid/data-grid.options.ts");





/**
 * A Data Grid Row Custom HTML Element.
 *
 * @fires row-focused - Fires a custom 'row-focused' event when focus is on an element (usually a cell or its contents) in the row
 * @slot - The default slot for custom cell elements
 * @public
 */
class FASTDataGridRow extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The type of row
         *
         * @public
         * @remarks
         * HTML Attribute: row-type
         */
        this.rowType = _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridRowTypes["default"];
        /**
         * The base data for this row
         *
         * @public
         */
        this.rowData = null;
        /**
         * The column definitions of the row
         *
         * @public
         */
        this.columnDefinitions = null;
        /**
         * Whether focus is on/in a cell within this row.
         *
         * @internal
         */
        this.isActiveRow = false;
        this.behaviorOrchestrator = null;
        /**
         * @internal
         */
        this.focusColumnIndex = 0;
        this.refocusOnLoad = false;
        this.updateRowStyle = () => {
            this.style.gridTemplateColumns = this.gridTemplateColumns;
        };
    }
    gridTemplateColumnsChanged() {
        if (this.$fastController.isConnected) {
            this.updateRowStyle();
        }
    }
    rowTypeChanged() {
        if (this.$fastController.isConnected) {
            this.updateItemTemplate();
        }
    }
    rowDataChanged() {
        if (this.rowData !== null && this.isActiveRow) {
            this.refocusOnLoad = true;
            return;
        }
    }
    cellItemTemplateChanged() {
        this.updateItemTemplate();
    }
    headerCellItemTemplateChanged() {
        this.updateItemTemplate();
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        // note that row elements can be reused with a different data object
        // as the parent grid's repeat behavior reacts to changes in the data set.
        if (this.behaviorOrchestrator === null) {
            this.updateItemTemplate();
            this.behaviorOrchestrator = _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_2__.ViewBehaviorOrchestrator.create(this);
            this.$fastController.addBehavior(this.behaviorOrchestrator);
            this.behaviorOrchestrator.addBehaviorFactory(new _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.RepeatDirective((0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.bind)(x => x.columnDefinitions), (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.bind)(x => x.activeCellItemTemplate), { positioning: true }), this.appendChild(document.createComment("")));
        }
        this.addEventListener("cell-focused", this.handleCellFocus);
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.eventFocusOut, this.handleFocusout);
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.eventKeyDown, this.handleKeydown);
        this.updateRowStyle();
        if (this.refocusOnLoad) {
            // if focus was on the row when data changed try to refocus on same cell
            this.refocusOnLoad = false;
            if (this.cellElements.length > this.focusColumnIndex) {
                this.cellElements[this.focusColumnIndex].focus();
            }
        }
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.removeEventListener("cell-focused", this.handleCellFocus);
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.eventFocusOut, this.handleFocusout);
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.eventKeyDown, this.handleKeydown);
    }
    handleFocusout(e) {
        if (!this.contains(e.target)) {
            this.isActiveRow = false;
            this.focusColumnIndex = 0;
        }
    }
    handleCellFocus(e) {
        this.isActiveRow = true;
        this.focusColumnIndex = this.cellElements.indexOf(e.target);
        this.$emit("row-focused", this);
    }
    handleKeydown(e) {
        if (e.defaultPrevented) {
            return;
        }
        let newFocusColumnIndex = 0;
        switch (e.key) {
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyArrowLeft:
                // focus left one cell
                newFocusColumnIndex = Math.max(0, this.focusColumnIndex - 1);
                this.cellElements[newFocusColumnIndex].focus();
                e.preventDefault();
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyArrowRight:
                // focus right one cell
                newFocusColumnIndex = Math.min(this.cellElements.length - 1, this.focusColumnIndex + 1);
                this.cellElements[newFocusColumnIndex].focus();
                e.preventDefault();
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyHome:
                if (!e.ctrlKey) {
                    this.cellElements[0].focus();
                    e.preventDefault();
                }
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyEnd:
                if (!e.ctrlKey) {
                    // focus last cell of the row
                    this.cellElements[this.cellElements.length - 1].focus();
                    e.preventDefault();
                }
                break;
        }
    }
    updateItemTemplate() {
        this.activeCellItemTemplate =
            this.rowType === _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridRowTypes["default"] &&
                this.cellItemTemplate !== undefined
                ? this.cellItemTemplate
                : this.rowType === _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridRowTypes["default"] &&
                    this.cellItemTemplate === undefined
                    ? this.defaultCellItemTemplate
                    : this.headerCellItemTemplate !== undefined
                        ? this.headerCellItemTemplate
                        : this.defaultHeaderCellItemTemplate;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.attr)({ attribute: "grid-template-columns" })
], FASTDataGridRow.prototype, "gridTemplateColumns", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.attr)({ attribute: "row-type" })
], FASTDataGridRow.prototype, "rowType", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "rowData", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "columnDefinitions", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "cellItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "headerCellItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "rowIndex", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "isActiveRow", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "activeCellItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "defaultCellItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "defaultHeaderCellItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTDataGridRow.prototype, "cellElements", void 0);


/***/ }),

/***/ "./src/data-grid/data-grid.options.ts":
/*!********************************************!*\
  !*** ./src/data-grid/data-grid.options.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataGridCellRole": () => (/* binding */ DataGridCellRole),
/* harmony export */   "DataGridCellTypeClass": () => (/* binding */ DataGridCellTypeClass),
/* harmony export */   "DataGridCellTypes": () => (/* binding */ DataGridCellTypes),
/* harmony export */   "DataGridRowTypes": () => (/* binding */ DataGridRowTypes),
/* harmony export */   "GenerateHeaderOptions": () => (/* binding */ GenerateHeaderOptions)
/* harmony export */ });
/**
 * Enumerates the data grid auto generated header options
 * default option generates a non-sticky header row
 *
 * @public
 */
const GenerateHeaderOptions = {
    none: "none",
    default: "default",
    sticky: "sticky",
};
/**
 * Enumerates possible data grid cell types.
 *
 * @public
 */
const DataGridCellTypes = {
    default: "default",
    columnHeader: "columnheader",
    rowHeader: "rowheader",
};
/**
 * Enumerates possible data grid row types
 *
 * @public
 */
const DataGridRowTypes = {
    default: "default",
    header: "header",
    stickyHeader: "sticky-header",
};
/**
 * Class names for the data grid cell
 * @public
 */
const DataGridCellTypeClass = {
    columnheader: "column-header",
    default: "",
    rowheader: "row-header",
};
/**
 * Roles for the data grid cell
 *
 * @public
 */
const DataGridCellRole = {
    columnheader: "columnheader",
    rowheader: "rowheader",
    default: "gridcell",
};


/***/ }),

/***/ "./src/data-grid/data-grid.template.ts":
/*!*********************************************!*\
  !*** ./src/data-grid/data-grid.template.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dataGridTemplate": () => (/* binding */ dataGridTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/children.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");
/* harmony import */ var _patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/tag-for.js */ "./src/patterns/tag-for.ts");


function rowItemTemplate(options) {
    const rowTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html.partial((0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridRow));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <${rowTag}
        :rowData="${x => x}"
        :cellItemTemplate="${(x, c) => c.parent.cellItemTemplate}"
        :headerCellItemTemplate="${(x, c) => c.parent.headerCellItemTemplate}"
    ></${rowTag}>
`;
}
/**
 * Generates a template for the {@link @microsoft/fast-foundation#FASTDataGrid} component using
 * the provided prefix.
 *
 * @public
 */
function dataGridTemplate(options) {
    const rowTag = (0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.dataGridRow);
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="grid"
            tabindex="0"
            :rowElementTag="${rowTag}"
            :defaultRowItemTemplate="${rowItemTemplate(options)}"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.children)({
        property: "rowElements",
        filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.elements)("[role=row]"),
    })}
        >
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/data-grid/data-grid.ts":
/*!************************************!*\
  !*** ./src/data-grid/data-grid.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataGridRowTypes": () => (/* reexport safe */ _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridRowTypes),
/* harmony export */   "FASTDataGrid": () => (/* binding */ FASTDataGrid),
/* harmony export */   "GenerateHeaderOptions": () => (/* reexport safe */ _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.GenerateHeaderOptions)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/index.debug.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element/utilities */ "./node_modules/@microsoft/fast-element/dist/esm/utilities.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/events.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-grid.options.js */ "./src/data-grid/data-grid.options.ts");






/**
 * A Data Grid Custom HTML Element.
 *
 * @slot - The default slot for custom row elements
 * @public
 */
class FASTDataGrid extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    /**
     *  generates a gridTemplateColumns based on columndata array
     */
    static generateTemplateColumns(columnDefinitions) {
        let templateColumns = "";
        columnDefinitions.forEach((column) => {
            templateColumns = `${templateColumns}${templateColumns === "" ? "" : " "}${"1fr"}`;
        });
        return templateColumns;
    }
    noTabbingChanged() {
        if (this.$fastController.isConnected) {
            if (this.noTabbing) {
                this.setAttribute("tabIndex", "-1");
            }
            else {
                this.setAttribute("tabIndex", this.contains(document.activeElement) ||
                    this === document.activeElement
                    ? "-1"
                    : "0");
            }
        }
    }
    generateHeaderChanged() {
        if (this.$fastController.isConnected) {
            this.toggleGeneratedHeader();
        }
    }
    gridTemplateColumnsChanged() {
        if (this.$fastController.isConnected) {
            this.updateRowIndexes();
        }
    }
    rowsDataChanged() {
        if (this.columnDefinitions === null && this.rowsData.length > 0) {
            this.columnDefinitions = FASTDataGrid.generateColumns(this.rowsData[0]);
        }
        if (this.$fastController.isConnected) {
            this.toggleGeneratedHeader();
        }
    }
    columnDefinitionsChanged() {
        if (this.columnDefinitions === null) {
            this.generatedGridTemplateColumns = "";
            return;
        }
        this.generatedGridTemplateColumns = FASTDataGrid.generateTemplateColumns(this.columnDefinitions);
        if (this.$fastController.isConnected) {
            this.columnDefinitionsStale = true;
            this.queueRowIndexUpdate();
        }
    }
    headerCellItemTemplateChanged() {
        if (this.$fastController.isConnected) {
            if (this.generatedHeader !== null) {
                this.generatedHeader.headerCellItemTemplate = this.headerCellItemTemplate;
            }
        }
    }
    focusRowIndexChanged() {
        if (this.$fastController.isConnected) {
            this.queueFocusUpdate();
        }
    }
    focusColumnIndexChanged() {
        if (this.$fastController.isConnected) {
            this.queueFocusUpdate();
        }
    }
    constructor() {
        super();
        /**
         * When true the component will not add itself to the tab queue.
         * Default is false.
         *
         * @public
         * @remarks
         * HTML Attribute: no-tabbing
         */
        this.noTabbing = false;
        /**
         *  Whether the grid should automatically generate a header row and its type
         *
         * @public
         * @remarks
         * HTML Attribute: generate-header
         */
        this.generateHeader = _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.GenerateHeaderOptions["default"];
        /**
         * The data being displayed in the grid
         *
         * @public
         */
        this.rowsData = [];
        /**
         * The column definitions of the grid
         *
         * @public
         */
        this.columnDefinitions = null;
        /**
         * The index of the row that will receive focus the next time the
         * grid is focused. This value changes as focus moves to different
         * rows within the grid.  Changing this value when focus is already
         * within the grid moves focus to the specified row.
         *
         * @public
         */
        this.focusRowIndex = 0;
        /**
         * The index of the column that will receive focus the next time the
         * grid is focused. This value changes as focus moves to different rows
         * within the grid.  Changing this value when focus is already within
         * the grid moves focus to the specified column.
         *
         * @public
         */
        this.focusColumnIndex = 0;
        this.rowsPlaceholder = null;
        this.behaviorOrchestrator = null;
        this.generatedHeader = null;
        this.isUpdatingFocus = false;
        this.pendingFocusUpdate = false;
        this.rowindexUpdateQueued = false;
        this.columnDefinitionsStale = true;
        this.generatedGridTemplateColumns = "";
        this.focusOnCell = (rowIndex, columnIndex, alignment) => {
            if (this.rowElements.length === 0) {
                this.focusRowIndex = 0;
                this.focusColumnIndex = 0;
                return;
            }
            const focusRowIndex = Math.max(0, Math.min(this.rowElements.length - 1, rowIndex));
            const focusRow = this.rowElements[focusRowIndex];
            const cells = focusRow.querySelectorAll('[role="cell"], [role="gridcell"], [role="columnheader"], [role="rowheader"]');
            const focusColumnIndex = Math.max(0, Math.min(cells.length - 1, columnIndex));
            const focusTarget = cells[focusColumnIndex];
            focusTarget.scrollIntoView({ block: alignment });
            focusTarget.focus();
        };
        this.onChildListChange = (mutations, 
        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */
        observer) => {
            if (mutations && mutations.length) {
                mutations.forEach((mutation) => {
                    mutation.addedNodes.forEach((newNode) => {
                        if (newNode.nodeType === 1 &&
                            newNode.getAttribute("role") === "row") {
                            newNode.columnDefinitions = this.columnDefinitions;
                        }
                    });
                });
                this.queueRowIndexUpdate();
            }
        };
        this.queueRowIndexUpdate = () => {
            if (!this.rowindexUpdateQueued) {
                this.rowindexUpdateQueued = true;
                _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.Updates.enqueue(this.updateRowIndexes);
            }
        };
        this.updateRowIndexes = () => {
            let newGridTemplateColumns = this.gridTemplateColumns;
            if (newGridTemplateColumns === undefined) {
                // try to generate columns based on manual rows
                if (this.generatedGridTemplateColumns === "" && this.rowElements.length > 0) {
                    const firstRow = this.rowElements[0];
                    this.generatedGridTemplateColumns = new Array(firstRow.cellElements.length)
                        .fill("1fr")
                        .join(" ");
                }
                newGridTemplateColumns = this.generatedGridTemplateColumns;
            }
            this.rowElements.forEach((element, index) => {
                const thisRow = element;
                thisRow.rowIndex = index;
                thisRow.gridTemplateColumns = newGridTemplateColumns;
                if (this.columnDefinitionsStale) {
                    thisRow.columnDefinitions = this.columnDefinitions;
                }
            });
            this.rowindexUpdateQueued = false;
            this.columnDefinitionsStale = false;
        };
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        if (this.rowItemTemplate === undefined) {
            this.rowItemTemplate = this.defaultRowItemTemplate;
        }
        if (this.behaviorOrchestrator === null) {
            this.behaviorOrchestrator = _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_3__.ViewBehaviorOrchestrator.create(this);
            this.$fastController.addBehavior(this.behaviorOrchestrator);
            this.behaviorOrchestrator.addBehaviorFactory(new _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.RepeatDirective((0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.bind)(x => x.rowsData), (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.bind)(x => x.rowItemTemplate), { positioning: true }), this.appendChild((this.rowsPlaceholder = document.createComment(""))));
        }
        this.toggleGeneratedHeader();
        this.addEventListener("row-focused", this.handleRowFocus);
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.eventFocus, this.handleFocus);
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.eventKeyDown, this.handleKeydown);
        this.addEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.eventFocusOut, this.handleFocusOut);
        this.observer = new MutationObserver(this.onChildListChange);
        // only observe if nodes are added or removed
        this.observer.observe(this, { childList: true });
        if (this.noTabbing) {
            this.setAttribute("tabindex", "-1");
        }
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.Updates.enqueue(this.queueRowIndexUpdate);
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.removeEventListener("row-focused", this.handleRowFocus);
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.eventFocus, this.handleFocus);
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.eventKeyDown, this.handleKeydown);
        this.removeEventListener(_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.eventFocusOut, this.handleFocusOut);
        this.observer.disconnect();
        if (this.generatedHeader !== null) {
            this.removeChild(this.generatedHeader);
            this.generatedHeader = null;
        }
    }
    /**
     * @internal
     */
    handleRowFocus(e) {
        this.isUpdatingFocus = true;
        const focusRow = e.target;
        this.focusRowIndex = this.rowElements.indexOf(focusRow);
        this.focusColumnIndex = focusRow.focusColumnIndex;
        this.setAttribute("tabIndex", "-1");
        this.isUpdatingFocus = false;
    }
    /**
     * @internal
     */
    handleFocus(e) {
        this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, "nearest");
    }
    /**
     * @internal
     */
    handleFocusOut(e) {
        if (e.relatedTarget === null || !this.contains(e.relatedTarget)) {
            this.setAttribute("tabIndex", this.noTabbing ? "-1" : "0");
        }
    }
    /**
     * @internal
     */
    handleKeydown(e) {
        if (e.defaultPrevented) {
            return;
        }
        let newFocusRowIndex;
        switch (e.key) {
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.keyArrowUp:
                e.preventDefault();
                // focus up one row
                this.focusOnCell(this.focusRowIndex - 1, this.focusColumnIndex, "nearest");
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.keyArrowDown:
                e.preventDefault();
                // focus down one row
                this.focusOnCell(this.focusRowIndex + 1, this.focusColumnIndex, "nearest");
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.keyPageUp:
                e.preventDefault();
                if (this.rowElements.length === 0) {
                    this.focusOnCell(0, 0, "nearest");
                    break;
                }
                newFocusRowIndex = Math.max(0, this.focusRowIndex - this.getPageSize());
                this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, "start");
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.keyPageDown:
                e.preventDefault();
                if (this.rowElements.length === 0) {
                    this.focusOnCell(0, 0, "nearest");
                    break;
                }
                newFocusRowIndex = Math.min(this.rowElements.length - 1, this.focusRowIndex + this.getPageSize());
                this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, "end");
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.keyHome:
                if (e.ctrlKey) {
                    e.preventDefault();
                    // focus first cell of first row
                    this.focusOnCell(0, 0, "nearest");
                }
                break;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.keyEnd:
                if (e.ctrlKey && this.columnDefinitions !== null) {
                    e.preventDefault();
                    // focus last cell of last row
                    this.focusOnCell(this.rowElements.length - 1, this.columnDefinitions.length - 1, "nearest");
                }
                break;
        }
    }
    getPageSize() {
        if (this.pageSize) {
            return this.pageSize;
        }
        let rowHeight = 50;
        this.rowElements.forEach(element => {
            var _a;
            if (!element.hasAttribute("rowType") ||
                !((_a = element.getAttribute("rowType")) === null || _a === void 0 ? void 0 : _a.includes("header"))) {
                rowHeight = element.clientHeight;
            }
        });
        let pageSize = 1;
        if (rowHeight === 0) {
            return pageSize;
        }
        if (this.clientHeight < this.scrollHeight) {
            pageSize = this.clientHeight / rowHeight;
        }
        else {
            pageSize = document.body.clientHeight / rowHeight;
        }
        pageSize = Math.max(Math.round(pageSize), 1);
        return pageSize;
    }
    queueFocusUpdate() {
        if (this.isUpdatingFocus &&
            (this.contains(document.activeElement) || this === document.activeElement)) {
            return;
        }
        if (this.pendingFocusUpdate === false) {
            this.pendingFocusUpdate = true;
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.Updates.enqueue(() => this.updateFocus());
        }
    }
    updateFocus() {
        this.pendingFocusUpdate = false;
        this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, "nearest");
    }
    toggleGeneratedHeader() {
        if (this.generatedHeader !== null) {
            this.removeChild(this.generatedHeader);
            this.generatedHeader = null;
        }
        if (this.generateHeader !== _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.GenerateHeaderOptions.none &&
            this.rowsData.length > 0) {
            const generatedHeaderElement = document.createElement(this.rowElementTag);
            this.generatedHeader = generatedHeaderElement;
            this.generatedHeader.columnDefinitions = this.columnDefinitions;
            this.generatedHeader.gridTemplateColumns = this.gridTemplateColumns;
            this.generatedHeader.rowType =
                this.generateHeader === _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.GenerateHeaderOptions.sticky
                    ? _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridRowTypes.stickyHeader
                    : _data_grid_options_js__WEBPACK_IMPORTED_MODULE_0__.DataGridRowTypes.header;
            if (this.firstChild !== null || this.rowsPlaceholder !== null) {
                this.insertBefore(generatedHeaderElement, this.firstChild !== null ? this.firstChild : this.rowsPlaceholder);
            }
            return;
        }
    }
}
/**
 *  generates a basic column definition by examining sample row data
 */
FASTDataGrid.generateColumns = (row) => {
    return Object.getOwnPropertyNames(row).map((property, index) => {
        return {
            columnDataKey: property,
            gridColumn: `${index}`,
        };
    });
};
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ attribute: "no-tabbing", mode: "boolean" })
], FASTDataGrid.prototype, "noTabbing", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ attribute: "generate-header" })
], FASTDataGrid.prototype, "generateHeader", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ attribute: "grid-template-columns" })
], FASTDataGrid.prototype, "gridTemplateColumns", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ attribute: "page-size", converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.nullableNumberConverter })
], FASTDataGrid.prototype, "pageSize", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "rowsData", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "columnDefinitions", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "rowItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "cellItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "headerCellItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "focusRowIndex", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "focusColumnIndex", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "defaultRowItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "rowElementTag", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTDataGrid.prototype, "rowElements", void 0);


/***/ }),

/***/ "./src/data-grid/stories/data-grid-cell.register.ts":
/*!**********************************************************!*\
  !*** ./src/data-grid/stories/data-grid-cell.register.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _data_grid_cell_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data-grid-cell.js */ "./src/data-grid/data-grid-cell.ts");
/* harmony import */ var _data_grid_cell_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data-grid-cell.template.js */ "./src/data-grid/data-grid-cell.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        color: var(--neutral-foreground-rest);
        box-sizing: border-box;
        padding: calc(var(--design-unit) * 1px) calc(var(--design-unit) * 3px);
        font-size: var(--type-ramp-base-font-size);
        border: transparent calc(var(--stroke-width) * 1px) solid;
        overflow: hidden;
        outline: none;
        white-space: nowrap;
        border-radius: calc(var(--control-corner-radius) * 1px);
    }

    :host([cell-type="column-header"]) {
        font-weight: 600;
    }

    :host(:focus-visible) {
        border-color: var(--focus-stroke-outer);
    }
`;
_data_grid_cell_js__WEBPACK_IMPORTED_MODULE_0__.FASTDataGridCell.define({
    name: "fast-data-grid-cell",
    template: (0,_data_grid_cell_template_js__WEBPACK_IMPORTED_MODULE_1__.dataGridCellTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/data-grid/stories/data-grid-cell.stories.ts":
/*!*********************************************************!*\
  !*** ./src/data-grid/stories/data-grid-cell.stories.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataGridCell": () => (/* binding */ DataGridCell),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _data_grid_cell_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data-grid-cell.js */ "./src/data-grid/data-grid-cell.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-data-grid-cell
        :columnDefinition="${x => x.columnDefinition}"
        :rowData="${x => x.rowData}"
        cell-type="${x => x.cellType}"
        grid-column="${x => x.gridColumn}"
    >
        ${x => x.storyContent}
    </fast-data-grid-cell>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Data Grid/Data Grid Cell",
    argTypes: {
        cellType: { control: "select", options: Object.values(_data_grid_cell_js__WEBPACK_IMPORTED_MODULE_1__.DataGridCellTypes) },
        columnDefinition: { control: "object" },
        gridColumn: { control: "text" },
        rowData: { control: "object" },
        storyContent: { table: { disable: true } },
    },
});
const DataGridCell = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
DataGridCell.args = {
    columnDefinition: { columnDataKey: "item1" },
    rowData: {
        item1: "data grid cell value 1",
        item2: "data grid cell value 2",
        item3: "data grid cell value 3",
        item4: "data grid cell value 4",
    },
};


/***/ }),

/***/ "./src/data-grid/stories/data-grid-row.register.ts":
/*!*********************************************************!*\
  !*** ./src/data-grid/stories/data-grid-row.register.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _data_grid_row_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data-grid-row.js */ "./src/data-grid/data-grid-row.ts");
/* harmony import */ var _data_grid_row_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data-grid-row.template.js */ "./src/data-grid/data-grid-row.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: grid;
        padding: 1px 0;
        box-sizing: border-box;
        width: 100%;
        border-bottom: calc(var(--stroke-width) * 1px) solid
            var(--neutral-stroke-divider-rest);
    }
    :host([row-type="sticky-header"]) {
        background: var(--neutral-fill-rest);
        position: sticky;
        top: 0;
    }
`;
_data_grid_row_js__WEBPACK_IMPORTED_MODULE_0__.FASTDataGridRow.define({
    name: "fast-data-grid-row",
    template: (0,_data_grid_row_template_js__WEBPACK_IMPORTED_MODULE_1__.dataGridRowTemplate)({
        dataGridCell: "fast-data-grid-cell",
    }),
    styles,
});


/***/ }),

/***/ "./src/data-grid/stories/data-grid-row.stories.ts":
/*!********************************************************!*\
  !*** ./src/data-grid/stories/data-grid-row.stories.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataGridRow": () => (/* binding */ DataGridRow),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _data_grid_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data-grid.options.js */ "./src/data-grid/data-grid.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-data-grid-row
        :columnDefinitions="${x => x.columnDefinitions}"
        :rowData="${x => x.rowData}"
        grid-template-columns="${x => x.gridTemplateColumns}"
        row-type="${x => x.rowType}"
    >
        ${x => x.storyContent}
    </fast-data-grid-row>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Data Grid/Data Grid Row",
    args: {
        columnDefinitions: [{ columnDataKey: "name" }, { columnDataKey: "value1" }],
        rowData: { name: "row 1", value1: "Value 1" },
    },
    argTypes: {
        columnDefinitions: { control: "object" },
        gridTemplateColumns: { control: "text" },
        rowType: { control: "select", options: Object.values(_data_grid_options_js__WEBPACK_IMPORTED_MODULE_1__.DataGridRowTypes) },
        storyContent: { table: { disable: true } },
    },
});
const DataGridRow = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/data-grid/stories/data-grid.register.ts":
/*!*****************************************************!*\
  !*** ./src/data-grid/stories/data-grid.register.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _data_grid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data-grid.js */ "./src/data-grid/data-grid.ts");
/* harmony import */ var _data_grid_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data-grid.template.js */ "./src/data-grid/data-grid.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: block;
    }
`;
_data_grid_js__WEBPACK_IMPORTED_MODULE_0__.FASTDataGrid.define({
    name: "fast-data-grid",
    template: (0,_data_grid_template_js__WEBPACK_IMPORTED_MODULE_1__.dataGridTemplate)({
        dataGridRow: "fast-data-grid-row",
    }),
    styles,
});


/***/ }),

/***/ "./src/data-grid/stories/data-grid.stories.ts":
/*!****************************************************!*\
  !*** ./src/data-grid/stories/data-grid.stories.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataGrid": () => (/* binding */ DataGrid),
/* harmony export */   "DataGridFixedHeight": () => (/* binding */ DataGridFixedHeight),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-data-grid
        style="${x => x.style}"
        :rowsData="${x => x.rowsData}"
        no-tabbing="${x => x.noTabbing}"
        generate-header="${x => x.generateHeader}"
        grid-template-columns="${x => x.gridTemplateColumns}"
        page-size="${x => x.pageSize}"
    >
        ${x => x.content}
    </fast-data-grid>
`;
function newDataRow(id) {
    return {
        rowId: `rowid-${id}`,
        item1: `value 1-${id}`,
        item2: `value 2-${id}`,
        item3: `value 3-${id}`,
        item4: `value 4-${id}`,
        item5: `value 5-${id}`,
        item6: `value 6-${id}`,
    };
}
function newDataSet(rowCount) {
    return Array.from({ length: rowCount }, (v, i) => newDataRow(`${i + 1}`));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Data Grid",
    args: {
        rowsData: newDataSet(100),
    },
    argTypes: {
        style: {
            control: { type: "text" },
        },
        content: { table: { disable: true } },
        noTabbing: {
            control: { type: "boolean" },
        },
        generateHeader: {
            options: ["none", "default", "sticky"],
            control: { type: "select" },
        },
        pageSize: {
            control: { type: "number" },
        },
        gridTemplateColumns: {
            control: { type: "text" },
        },
    },
});
const DataGrid = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const DataGridFixedHeight = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
DataGridFixedHeight.args = {
    style: "height: 200px; overflow-y: scroll;",
};


/***/ }),

/***/ "./src/design-token/core/design-token-node.ts":
/*!****************************************************!*\
  !*** ./src/design-token/core/design-token-node.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DesignTokenChangeRecordImpl": () => (/* binding */ DesignTokenChangeRecordImpl),
/* harmony export */   "DesignTokenMutationType": () => (/* binding */ DesignTokenMutationType),
/* harmony export */   "DesignTokenNode": () => (/* binding */ DesignTokenNode)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");

class DerivedValueEvaluator {
    constructor(value) {
        this.value = value;
        this.notifier = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Observable.getNotifier(this);
        this.dependencies = new Set();
        this.binding = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Observable.binding(value, this);
        this.binding.setMode(false);
    }
    static getOrCreate(value) {
        let v = DerivedValueEvaluator.cache.get(value);
        if (v) {
            return v;
        }
        v = new DerivedValueEvaluator(value);
        DerivedValueEvaluator.cache.set(value, v);
        return v;
    }
    evaluate(node, tokenContext) {
        const resolve = (token) => {
            this.dependencies.add(token);
            if (tokenContext === token) {
                if (node.parent) {
                    return node.parent.getTokenValue(token);
                }
                throw new Error("DesignTokenNode has encountered a circular token reference. Avoid this by setting the token value for an ancestor node.");
            }
            else {
                return node.getTokenValue(token);
            }
        };
        return this.binding.observe(resolve);
    }
    handleChange() {
        this.notifier.notify(undefined);
    }
}
DerivedValueEvaluator.cache = new WeakMap();
class DerivedValue {
    constructor(token, evaluator, node, subscriber) {
        this.token = token;
        this.evaluator = evaluator;
        this.node = node;
        this.subscriber = subscriber;
        this.value = evaluator.evaluate(node, token);
        if (this.subscriber) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Observable.getNotifier(this.evaluator).subscribe(this.subscriber);
        }
    }
    dispose() {
        if (this.subscriber) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Observable.getNotifier(this.evaluator).unsubscribe(this.subscriber);
        }
    }
    update() {
        this.value = this.evaluator.evaluate(this.node, this.token);
        return this;
    }
}
/**
 * @internal
 */
class DesignTokenChangeRecordImpl {
    constructor(target, type, token, value) {
        this.target = target;
        this.type = type;
        this.token = token;
        this.value = value;
    }
    notify() {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Observable.getNotifier(this.token).notify(this);
    }
}
/**
 * @public
 */
var DesignTokenMutationType;
(function (DesignTokenMutationType) {
    DesignTokenMutationType[DesignTokenMutationType["add"] = 0] = "add";
    DesignTokenMutationType[DesignTokenMutationType["change"] = 1] = "change";
    DesignTokenMutationType[DesignTokenMutationType["delete"] = 2] = "delete";
})(DesignTokenMutationType || (DesignTokenMutationType = {}));
/**
 * @public
 */
class DesignTokenNode {
    constructor() {
        this._parent = null;
        this._children = new Set();
        this._values = new Map();
        this._derived = new Map();
        this.dependencyGraph = new Map();
    }
    /**
     * Determines if a value is a {@link DerivedDesignTokenValue}
     * @param value - The value to test
     */
    static isDerivedTokenValue(value) {
        return typeof value === "function";
    }
    /**
     * Determines if a token has a derived value for a node.
     */
    static isDerivedFor(node, token) {
        return node._derived.has(token);
    }
    /**
     * Collects token/value pairs for all derived token / values set on upstream nodes.
     */
    static collectDerivedContext(node) {
        const collected = new Map();
        // Exit early if  there is no parent
        if (node.parent === null) {
            return collected;
        }
        let ignored = DesignTokenNode.getAssignedTokensForNode(node);
        let current = node.parent;
        do {
            const assigned = DesignTokenNode.getAssignedTokensForNode(current);
            for (let i = 0, l = assigned.length; i < l; i++) {
                const token = assigned[i];
                if (!ignored.includes(token) &&
                    DesignTokenNode.isDerivedFor(current, token)) {
                    collected.set(token, current._derived.get(token));
                }
            }
            ignored = Array.from(new Set(ignored.concat(assigned)));
            current = current.parent;
        } while (current !== null);
        return collected;
    }
    /**
     * Resolves the local value for a token if it is assigned, otherwise returns undefined.
     */
    static getLocalTokenValue(node, token) {
        return !DesignTokenNode.isAssigned(node, token)
            ? undefined
            : DesignTokenNode.isDerivedFor(node, token)
                ? node._derived.get(token).value
                : node._values.get(token);
    }
    static getOrCreateDependencyGraph(node, token) {
        let dependents = node.dependencyGraph.get(token);
        if (dependents) {
            return dependents;
        }
        dependents = new Set();
        node.dependencyGraph.set(token, dependents);
        return dependents;
    }
    /**
     * Emit all queued notifications
     */
    static notify() {
        const notifications = this._notifications;
        this._notifications = [];
        for (const record of notifications) {
            record.notify();
        }
    }
    static queueNotification(...records) {
        this._notifications.push(...records);
    }
    /**
     * Retrieves all tokens assigned directly to a node.
     * @param node - the node to retrieve assigned tokens for
     * @returns
     */
    static getAssignedTokensForNode(node) {
        return Array.from(node._values.keys());
    }
    /**
     * Retrieves all tokens assigned to the node and ancestor nodes.
     * @param node - the node to compose assigned tokens for
     */
    static composeAssignedTokensForNode(node) {
        const tokens = new Set(DesignTokenNode.getAssignedTokensForNode(node));
        let current = node.parent;
        while (current !== null) {
            const assignedTokens = DesignTokenNode.getAssignedTokensForNode(current);
            for (const token of assignedTokens) {
                tokens.add(token);
            }
            current = current.parent;
        }
        return Array.from(tokens);
    }
    /**
     * Tests if a token is assigned directly to a node
     * @param node - The node to test
     * @param token  - The token to test
     * @returns
     */
    static isAssigned(node, token) {
        return node._values.has(token);
    }
    /**
     * The parent node
     */
    get parent() {
        return this._parent;
    }
    get children() {
        return Array.from(this._children);
    }
    /**
     * Appends a child to the node, notifying for any tokens set for the node's context.
     */
    appendChild(child) {
        var _a, _b;
        let prevContext = null;
        // If this node is already attached, get it's context so change record
        // types can be determined
        if (child.parent !== null) {
            prevContext = DesignTokenNode.composeAssignedTokensForNode(child.parent);
            child.parent._children.delete(child);
        }
        const context = DesignTokenNode.composeAssignedTokensForNode(this);
        const derivedContext = DesignTokenNode.collectDerivedContext(this);
        child._parent = this;
        this._children.add(child);
        for (const token of context) {
            let type = DesignTokenMutationType.add;
            if (prevContext !== null) {
                const prevContextIndex = prevContext.indexOf(token);
                if (prevContextIndex !== -1) {
                    type = DesignTokenMutationType.change;
                    prevContext.splice(prevContextIndex, 1);
                }
            }
            child.dispatch(new DesignTokenChangeRecordImpl(this, type, token, (_a = derivedContext.get(token)) === null || _a === void 0 ? void 0 : _a.evaluator.value));
        }
        if (prevContext !== null && prevContext.length > 0) {
            for (const token of prevContext) {
                child.dispatch(new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.delete, token, (_b = derivedContext.get(token)) === null || _b === void 0 ? void 0 : _b.evaluator.value));
            }
        }
        DesignTokenNode.notify();
    }
    /**
     * Appends a child to the node, notifying for any tokens set for the node's context.
     */
    removeChild(child) {
        if (child.parent === this) {
            const context = DesignTokenNode.composeAssignedTokensForNode(this);
            child._parent = null;
            this._children.delete(child);
            for (const token of context) {
                child.dispatch(new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.delete, token));
            }
            DesignTokenNode.notify();
        }
    }
    /**
     * Dispose of the node, removing parent/child relationships and
     * unsubscribing all observable binding subscribers. Does not emit
     * notifications.
     */
    dispose() {
        if (this.parent) {
            this.parent._children.delete(this);
            this._parent = null;
        }
        for (const [, derived] of this._derived) {
            derived.dispose();
        }
    }
    /**
     * Sets a token to a value
     */
    setTokenValue(token, value) {
        const changeType = DesignTokenNode.isAssigned(this, token) ||
            DesignTokenNode.isDerivedFor(this, token)
            ? DesignTokenMutationType.change
            : DesignTokenMutationType.add;
        const prev = DesignTokenNode.getLocalTokenValue(this, token);
        this._values.set(token, value);
        if (DesignTokenNode.isDerivedFor(this, token)) {
            this.tearDownDerivedTokenValue(token);
        }
        const isDerived = DesignTokenNode.isDerivedTokenValue(value);
        const derivedContext = DesignTokenNode.collectDerivedContext(this);
        let result;
        if (isDerived) {
            const evaluator = this.setupDerivedTokenValue(token, value, true);
            result = evaluator.value;
        }
        else {
            result = value;
        }
        if (prev !== result) {
            DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, changeType, token, value));
        }
        this.dispatch(new DesignTokenChangeRecordImpl(this, changeType, token, value));
        derivedContext.forEach((derivedValue, token) => {
            // Skip over any derived values already established locally, because
            // those will get updated via this.notifyDerived and this.notifyStatic
            if (!DesignTokenNode.isDerivedFor(this, token)) {
                const prev = DesignTokenNode.getLocalTokenValue(this, token);
                derivedValue = this.setupDerivedTokenValue(token, derivedValue.evaluator.value);
                const result = derivedValue.value;
                if (prev !== result) {
                    DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.change, token, derivedValue.evaluator.value));
                }
                this.dispatch(new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.add, token, derivedValue.evaluator.value));
            }
        });
        DesignTokenNode.notify();
    }
    /**
     * Returns the resolve value for a token
     */
    getTokenValue(token) {
        /* eslint-disable-next-line */
        let node = this;
        let value;
        while (node !== null) {
            if (DesignTokenNode.isDerivedFor(node, token)) {
                value = node._derived.get(token).value;
                break;
            }
            if (DesignTokenNode.isAssigned(node, token)) {
                value = node._values.get(token);
                break;
            }
            node = node._parent;
        }
        if (value !== undefined) {
            return value;
        }
        else {
            throw new Error(`No value set for token ${token} in node tree.`);
        }
    }
    /**
     * Deletes the token value for a node
     */
    deleteTokenValue(token) {
        if (DesignTokenNode.isAssigned(this, token)) {
            const prev = DesignTokenNode.getLocalTokenValue(this, token);
            this._values.delete(token);
            this.tearDownDerivedTokenValue(token);
            let newValue;
            try {
                newValue = this.getTokenValue(token);
            }
            catch (e) {
                newValue = undefined;
            }
            DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.delete, token));
            if (prev !== newValue) {
                this.dispatch(new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.delete, token));
            }
            DesignTokenNode.notify();
        }
    }
    /**
     * Notifies that a token has been mutated
     */
    dispatch(record) {
        var _a, _b, _c;
        if (this !== record.target) {
            const { token } = record;
            // If the node is assigned the token being dispatched and the assigned value does not depend on the token
            // (circular token reference) then terminate the dispatch.
            const isAssigned = DesignTokenNode.isAssigned(this, token);
            const containsCircularForToken = isAssigned && ((_a = this._derived.get(token)) === null || _a === void 0 ? void 0 : _a.evaluator.dependencies.has(token));
            if (isAssigned && !containsCircularForToken) {
                return;
            }
            // Delete token evaluations if the token is not assigned explicitly but is derived for the node and
            // the record is a delete type.
            if (record.type === DesignTokenMutationType.delete &&
                !isAssigned &&
                DesignTokenNode.isDerivedFor(this, token)) {
                this.tearDownDerivedTokenValue(token);
                DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.delete, token));
            }
            if (containsCircularForToken) {
                record = new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.change, token, (_b = this._derived.get(token)) === null || _b === void 0 ? void 0 : _b.evaluator.value);
            }
            const { value } = record;
            if (value && DesignTokenNode.isDerivedTokenValue(value)) {
                const dependencies = DerivedValueEvaluator.getOrCreate(value)
                    .dependencies;
                // If this is not the originator, check to see if this node
                // has any dependencies of the token value. If so, we need to evaluate for this node
                let evaluate = false;
                for (const dependency of dependencies) {
                    if (DesignTokenNode.isAssigned(this, dependency)) {
                        evaluate = true;
                        break;
                    }
                }
                if (evaluate) {
                    const prev = (_c = this._derived.get(token)) === null || _c === void 0 ? void 0 : _c.value;
                    const derivedValue = this.setupDerivedTokenValue(token, value);
                    if (prev !== derivedValue.value) {
                        const type = prev === undefined
                            ? DesignTokenMutationType.add
                            : DesignTokenMutationType.change;
                        const notification = new DesignTokenChangeRecordImpl(this, type, token, derivedValue.evaluator.value);
                        DesignTokenNode.queueNotification(notification);
                        record = notification;
                    }
                }
            }
        }
        this.collectLocalChangeRecords(record).forEach(_record => {
            DesignTokenNode.queueNotification(_record);
            this.dispatch(_record);
        });
        this.notifyChildren(record);
    }
    /**
     * Generate change-records for local dependencies of a change record
     */
    collectLocalChangeRecords(record) {
        const collected = new Map();
        for (const dependent of DesignTokenNode.getOrCreateDependencyGraph(this, record.token)) {
            if (dependent.value !== dependent.update().value) {
                collected.set(dependent.token, new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.change, dependent.token, dependent.evaluator.value));
            }
        }
        return collected;
    }
    /**
     *
     * Notify children of changes to the node
     */
    notifyChildren(...records) {
        if (this.children.length) {
            for (let i = 0, l = this.children.length; i < l; i++) {
                for (let j = 0; j < records.length; j++) {
                    this.children[i].dispatch(records[j]);
                }
            }
        }
    }
    tearDownDerivedTokenValue(token) {
        if (DesignTokenNode.isDerivedFor(this, token)) {
            const value = this._derived.get(token);
            value.dispose();
            this._derived.delete(token);
            value.evaluator.dependencies.forEach(dependency => {
                DesignTokenNode.getOrCreateDependencyGraph(this, dependency).delete(value);
            });
        }
    }
    setupDerivedTokenValue(token, value, subscribeNode = false) {
        const deriver = new DerivedValue(token, DerivedValueEvaluator.getOrCreate(value), this, subscribeNode
            ? {
                handleChange: () => {
                    if (deriver.value !== deriver.update().value) {
                        const record = new DesignTokenChangeRecordImpl(this, DesignTokenMutationType.change, deriver.token, deriver.evaluator.value);
                        DesignTokenNode.queueNotification(record);
                        this.dispatch(record);
                        DesignTokenNode.notify();
                    }
                },
            }
            : undefined);
        this._derived.set(token, deriver);
        deriver.evaluator.dependencies.forEach(dependency => {
            if (dependency !== token) {
                DesignTokenNode.getOrCreateDependencyGraph(this, dependency).add(deriver);
            }
        });
        return deriver;
    }
}
DesignTokenNode._notifications = [];


/***/ }),

/***/ "./src/design-token/custom-property-manager.ts":
/*!*****************************************************!*\
  !*** ./src/design-token/custom-property-manager.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PropertyTargetManager": () => (/* binding */ PropertyTargetManager),
/* harmony export */   "RootStyleSheetTarget": () => (/* binding */ RootStyleSheetTarget)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/element-styles.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");


class QueuedStyleSheetTarget {
    setProperty(name, value) {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Updates.enqueue(() => this.target.setProperty(name, value));
    }
    removeProperty(name) {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Updates.enqueue(() => this.target.removeProperty(name));
    }
}
/**
 * Handles setting properties for a FASTElement using Constructable Stylesheets
 */
class ConstructableStyleSheetTarget extends QueuedStyleSheetTarget {
    constructor(source) {
        super();
        const sheet = new CSSStyleSheet();
        this.target = sheet.cssRules[sheet.insertRule(":host{}")].style;
        source.$fastController.addStyles(new _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.ElementStyles([sheet]));
    }
}
class DocumentStyleSheetTarget extends QueuedStyleSheetTarget {
    constructor() {
        super();
        const sheet = new CSSStyleSheet();
        this.target = sheet.cssRules[sheet.insertRule(":root{}")].style;
        document.adoptedStyleSheets = [
            ...document.adoptedStyleSheets,
            sheet,
        ];
    }
}
class HeadStyleElementStyleSheetTarget extends QueuedStyleSheetTarget {
    constructor() {
        super();
        this.style = document.createElement("style");
        document.head.appendChild(this.style);
        const { sheet } = this.style;
        // Because the HTMLStyleElement has been appended,
        // there shouldn't exist a case where `sheet` is null,
        // but if-check it just in case.
        if (sheet) {
            // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,
            // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.
            const index = sheet.insertRule(":root{}", sheet.cssRules.length);
            this.target = sheet.cssRules[index].style;
        }
    }
}
/**
 * Handles setting properties for a FASTElement using an HTMLStyleElement
 */
class StyleElementStyleSheetTarget {
    targetChanged() {
        if (this.target !== null) {
            for (const [key, value] of this.store.entries()) {
                this.target.setProperty(key, value);
            }
        }
    }
    constructor(target) {
        this.store = new Map();
        this.target = null;
        const controller = target.$fastController;
        this.style = document.createElement("style");
        controller.addStyles(this.style);
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.Observable.getNotifier(controller).subscribe(this, "isConnected");
        this.handleChange(controller, "isConnected");
    }
    setProperty(name, value) {
        this.store.set(name, value);
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Updates.enqueue(() => {
            if (this.target !== null) {
                this.target.setProperty(name, value);
            }
        });
    }
    removeProperty(name) {
        this.store.delete(name);
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.Updates.enqueue(() => {
            if (this.target !== null) {
                this.target.removeProperty(name);
            }
        });
    }
    handleChange(source, key) {
        // HTMLStyleElement.sheet is null if the element isn't connected to the DOM,
        // so this method reacts to changes in DOM connection for the element hosting
        // the HTMLStyleElement.
        //
        // All rules applied via the CSSOM also get cleared when the element disconnects,
        // so we need to add a new rule each time and populate it with the stored properties
        const { sheet } = this.style;
        if (sheet) {
            // Safari will throw if we try to use the return result of insertRule()
            // to index the rule inline, so store as a const prior to indexing.
            // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,
            // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.
            const index = sheet.insertRule(":host{}", sheet.cssRules.length);
            this.target = sheet.cssRules[index].style;
        }
        else {
            this.target = null;
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.observable
], StyleElementStyleSheetTarget.prototype, "target", void 0);
/**
 * Controls emission for default values. This control is capable
 * of emitting to multiple {@link PropertyTarget | PropertyTargets},
 * and only emits if it has at least one root.
 *
 * @internal
 */
class RootStyleSheetTarget {
    setProperty(name, value) {
        RootStyleSheetTarget.properties[name] = value;
        for (const target of RootStyleSheetTarget.roots.values()) {
            target.setProperty(name, value);
        }
    }
    removeProperty(name) {
        delete RootStyleSheetTarget.properties[name];
        for (const target of RootStyleSheetTarget.roots.values()) {
            target.removeProperty(name);
        }
    }
    static registerRoot(root) {
        const { roots } = RootStyleSheetTarget;
        if (!roots.has(root)) {
            roots.add(root);
            for (const key in RootStyleSheetTarget.properties) {
                root.setProperty(key, RootStyleSheetTarget.properties[key]);
            }
        }
    }
    static unregisterRoot(root) {
        const { roots } = RootStyleSheetTarget;
        if (roots.has(root)) {
            roots.delete(root);
            for (const key in RootStyleSheetTarget.properties) {
                root.removeProperty(key);
            }
        }
    }
}
RootStyleSheetTarget.roots = new Set();
RootStyleSheetTarget.properties = {};
// Caches PropertyTarget instances
const propertyTargetCache = new WeakMap();
// Use Constructable StyleSheets for FAST elements when supported, otherwise use
// HTMLStyleElement instances
const propertyTargetCtor = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.ElementStyles.supportsAdoptedStyleSheets
    ? ConstructableStyleSheetTarget
    : StyleElementStyleSheetTarget;
/**
 * Manages creation and caching of PropertyTarget instances.
 *
 * @internal
 */
const PropertyTargetManager = Object.freeze({
    getOrCreate(source) {
        if (propertyTargetCache.has(source)) {
            /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */
            return propertyTargetCache.get(source);
        }
        let target;
        if (source instanceof Document) {
            target = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.ElementStyles.supportsAdoptedStyleSheets
                ? new DocumentStyleSheetTarget()
                : new HeadStyleElementStyleSheetTarget();
        }
        else {
            target = new propertyTargetCtor(source);
        }
        propertyTargetCache.set(source, target);
        return target;
    },
});


/***/ }),

/***/ "./src/design-token/fast-design-token.ts":
/*!***********************************************!*\
  !*** ./src/design-token/fast-design-token.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CSSDesignToken": () => (/* binding */ CSSDesignToken),
/* harmony export */   "DesignToken": () => (/* binding */ DesignToken)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/html-directive.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/notifier.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css-directive.js");
/* harmony import */ var _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-element/utilities */ "./node_modules/@microsoft/fast-element/dist/esm/utilities.js");
/* harmony import */ var _core_design_token_node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/design-token-node.js */ "./src/design-token/core/design-token-node.ts");
/* harmony import */ var _custom_property_manager_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./custom-property-manager.js */ "./src/design-token/custom-property-manager.ts");






/**
 * @public
 */
class DesignToken {
    /**
     * The default value of the token (alias of {@link DesignToken.default})
     */
    get $value() {
        return this.default;
    }
    /**
     * The default value of the token, or undefined if it has not been set.
     */
    get default() {
        return FASTDesignTokenNode.defaultNode.getTokenValue(this);
    }
    get subscribers() {
        if (this._subscribers) {
            return this._subscribers;
        }
        this._subscribers = new _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.SubscriberSet(this);
        return this._subscribers;
    }
    constructor(configuration) {
        this.subscriberNotifier = {
            handleChange: (source, change) => {
                const record = {
                    target: change.target === FASTDesignTokenNode.defaultNode
                        ? "default"
                        : change.target.target,
                    token: this,
                };
                this.subscribers.notify(record);
            },
        };
        this.name = configuration.name;
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Observable.getNotifier(this).subscribe(this.subscriberNotifier);
    }
    static isCSSDesignTokenConfiguration(config) {
        return (typeof config.cssCustomPropertyName ===
            "string");
    }
    static create(config) {
        if (typeof config === "string") {
            return new CSSDesignToken({ name: config, cssCustomPropertyName: config });
        }
        else {
            return DesignToken.isCSSDesignTokenConfiguration(config)
                ? new CSSDesignToken(config)
                : new DesignToken(config);
        }
    }
    /**
     * Configures the strategy for resolving hierarchical relationships between FASTElement targets.
     */
    static withStrategy(strategy) {
        FASTDesignTokenNode.withStrategy(strategy);
    }
    /**
     * Registers a target for emitting default style values.
     * {@link CSSDesignToken | CSSDesignTokens} with default values assigned via
     * {@link DesignToken.withDefault} will emit CSS custom properties to all
     * registered targets.
     * @param target - The target to register, defaults to the document
     */
    static registerDefaultStyleTarget(target = document) {
        if (target instanceof _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.FASTElement || target instanceof Document) {
            target = _custom_property_manager_js__WEBPACK_IMPORTED_MODULE_1__.PropertyTargetManager.getOrCreate(target);
        }
        _custom_property_manager_js__WEBPACK_IMPORTED_MODULE_1__.RootStyleSheetTarget.registerRoot(target);
    }
    /**
     * Unregister a target for default style emission.
     * @param target - The root to deregister, defaults to the document
     */
    static unregisterDefaultStyleTarget(target = document) {
        if (target instanceof _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.FASTElement || target instanceof Document) {
            target = _custom_property_manager_js__WEBPACK_IMPORTED_MODULE_1__.PropertyTargetManager.getOrCreate(target);
        }
        _custom_property_manager_js__WEBPACK_IMPORTED_MODULE_1__.RootStyleSheetTarget.unregisterRoot(target);
    }
    /**
     * Retrieves the value of the token for a target element.
     */
    getValueFor(target) {
        return FASTDesignTokenNode.getOrCreate(target).getTokenValue(this);
    }
    /**
     * Sets the value of the token for a target element.
     */
    setValueFor(target, value) {
        FASTDesignTokenNode.getOrCreate(target).setTokenValue(this, this.normalizeValue(value));
    }
    /**
     * Deletes the value of the token for a target element.
     */
    deleteValueFor(target) {
        FASTDesignTokenNode.getOrCreate(target).deleteTokenValue(this);
        return this;
    }
    /**
     * Sets the default value of the token.
     */
    withDefault(value) {
        FASTDesignTokenNode.defaultNode.setTokenValue(this, this.normalizeValue(value));
        return this;
    }
    /**
     * Subscribes a subscriber to notifications for the token.
     */
    subscribe(subscriber) {
        this.subscribers.subscribe(subscriber);
    }
    /**
     * Unsubscribes a subscriber to notifications for the token.
     */
    unsubscribe(subscriber) {
        this.subscribers.unsubscribe(subscriber);
    }
    /**
     * Alias the token to the provided token.
     * @param token - the token to alias to
     */
    alias(token) {
        return ((resolve) => resolve(token));
    }
    normalizeValue(value) {
        if (value instanceof DesignToken) {
            value = this.alias(value);
        }
        return value;
    }
}
/**
 * @public
 */
let CSSDesignToken = class CSSDesignToken extends DesignToken {
    /**
     * The DesignToken represented as a string that can be used in CSS.
     */
    createCSS() {
        return this.cssVar;
    }
    /**
     * Creates HTML to be used within a template.
     */
    createHTML() {
        return this.cssVar;
    }
    constructor(configuration) {
        super(configuration);
        this.cssReflector = {
            handleChange: (source, record) => {
                const target = record.target === FASTDesignTokenNode.defaultNode
                    ? FASTDesignTokenNode.rootStyleSheetTarget
                    : record.target instanceof FASTDesignTokenNode
                        ? _custom_property_manager_js__WEBPACK_IMPORTED_MODULE_1__.PropertyTargetManager.getOrCreate(record.target.target)
                        : null;
                if (target) {
                    if (record.type === _core_design_token_node_js__WEBPACK_IMPORTED_MODULE_0__.DesignTokenMutationType["delete"]) {
                        target.removeProperty(this.cssCustomProperty);
                    }
                    else {
                        target.setProperty(this.cssCustomProperty, this.resolveCSSValue(record.target.getTokenValue(this)));
                    }
                }
            },
        };
        this.cssCustomProperty = `--${configuration.cssCustomPropertyName}`;
        this.cssVar = `var(${this.cssCustomProperty})`;
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Observable.getNotifier(this).subscribe(this.cssReflector);
    }
    resolveCSSValue(value) {
        return value && typeof value.createCSS === "function" ? value.createCSS() : value;
    }
};
CSSDesignToken = (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.cssDirective)(),
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.htmlDirective)()
], CSSDesignToken);

const defaultDesignTokenResolutionStrategy = {
    contains: _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_8__.composedContains,
    parent(element) {
        let parent = (0,_microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_8__.composedParent)(element);
        while (parent !== null) {
            if (parent instanceof _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.FASTElement) {
                return parent;
            }
            parent = (0,_microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_8__.composedParent)(parent);
        }
        return null;
    },
};
class FASTDesignTokenNode extends _core_design_token_node_js__WEBPACK_IMPORTED_MODULE_0__.DesignTokenNode {
    static get strategy() {
        if (this._strategy === undefined) {
            FASTDesignTokenNode.withStrategy(defaultDesignTokenResolutionStrategy);
        }
        return this._strategy;
    }
    connectedCallback(controller) {
        let parent = FASTDesignTokenNode.findParent(controller.source);
        if (parent === null) {
            parent = FASTDesignTokenNode.defaultNode;
        }
        if (parent !== this.parent) {
            const reparent = [];
            for (const child of parent.children) {
                if (child instanceof FASTDesignTokenNode &&
                    FASTDesignTokenNode.strategy.contains(controller.source, child.target)) {
                    reparent.push(child);
                }
            }
            parent.appendChild(this);
            for (const child of reparent) {
                this.appendChild(child);
            }
        }
    }
    disconnectedCallback(controller) {
        FASTDesignTokenNode.cache.delete(this.target);
        this.dispose();
    }
    static getOrCreate(target) {
        let found = FASTDesignTokenNode.cache.get(target);
        if (found) {
            return found;
        }
        found = new FASTDesignTokenNode(target);
        FASTDesignTokenNode.cache.set(target, found);
        target.$fastController.addBehavior(FASTDesignTokenNode.strategy);
        target.$fastController.addBehavior(found);
        return found;
    }
    static withStrategy(strategy) {
        this._strategy = strategy;
    }
    static findParent(target) {
        let current = FASTDesignTokenNode.strategy.parent(target);
        while (current !== null) {
            const node = FASTDesignTokenNode.cache.get(current);
            if (node) {
                return node;
            }
            current = FASTDesignTokenNode.strategy.parent(current);
        }
        return null;
    }
    constructor(target) {
        super();
        this.target = target;
        // By default, nodes are not attached to the defaultNode for performance
        // reasons. However, that behavior can throw if retrieval for a node
        // happens before the bind() method is called. To guard against that,
        //  lazily attach to the defaultNode when get/set/delete methods are called.
        this.setTokenValue = this.lazyAttachToDefault(super.setTokenValue);
        this.getTokenValue = this.lazyAttachToDefault(super.getTokenValue);
        this.deleteTokenValue = this.lazyAttachToDefault(super.deleteTokenValue);
    }
    /**
     * Creates a function from a function that lazily attaches the node to the default node.
     */
    lazyAttachToDefault(fn) {
        const cb = ((...args) => {
            if (this.parent === null) {
                FASTDesignTokenNode.defaultNode.appendChild(this);
            }
            return fn.apply(this, args);
        });
        return cb;
    }
}
FASTDesignTokenNode.defaultNode = new _core_design_token_node_js__WEBPACK_IMPORTED_MODULE_0__.DesignTokenNode();
FASTDesignTokenNode.rootStyleSheetTarget = new _custom_property_manager_js__WEBPACK_IMPORTED_MODULE_1__.RootStyleSheetTarget();
FASTDesignTokenNode.cache = new WeakMap();


/***/ }),

/***/ "./src/design-token/stories/design-token.stories.ts":
/*!**********************************************************!*\
  !*** ./src/design-token/stories/design-token.stories.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DesignToken": () => (/* binding */ DesignToken),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element_testing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element/testing */ "./node_modules/@microsoft/fast-element/dist/esm/testing/fixture.js");
/* harmony import */ var _fast_design_token_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../fast-design-token.js */ "./src/design-token/fast-design-token.ts");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Debug/DesignToken",
});
const DesignToken = () => {
    const controllerElementName = (0,_microsoft_fast_element_testing__WEBPACK_IMPORTED_MODULE_1__.uniqueElementName)();
    const fixtureElementName = (0,_microsoft_fast_element_testing__WEBPACK_IMPORTED_MODULE_1__.uniqueElementName)();
    // Define element that can have token mutated for it
    (class extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    }.define({
        name: fixtureElementName,
        template: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <slot></slot>
        `,
    }));
    const elementCache = new Set();
    // The objects required for unit-testing
    // DesignToken. These get installed on the
    // globalThis during story connection, and
    // removed during disconnection
    const requiredTestObject = {
        DesignToken: _fast_design_token_js__WEBPACK_IMPORTED_MODULE_0__.DesignToken,
        CSSDesignToken: _fast_design_token_js__WEBPACK_IMPORTED_MODULE_0__.CSSDesignToken,
        uniqueTokenName() {
            return (0,_microsoft_fast_element_testing__WEBPACK_IMPORTED_MODULE_1__.uniqueElementName)() + "token";
        },
        createElement() {
            const element = document.createElement(fixtureElementName);
            elementCache.add(element);
            return element;
        },
        addElement(parent = document.body) {
            const el = requiredTestObject.createElement();
            el.setAttribute("id", "id" + (0,_microsoft_fast_element_testing__WEBPACK_IMPORTED_MODULE_1__.uniqueElementName)());
            parent.appendChild(el);
            return el;
        },
        css: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.css,
        threw(fn) {
            try {
                fn();
                return false;
            }
            catch (e) {
                return true;
            }
        },
        spy(fn) {
            let calls = 0;
            const callArgs = [];
            const f = (...args) => {
                calls += 1;
                callArgs[calls] = args;
            };
            Object.defineProperties(f, {
                calls: {
                    get() {
                        return calls;
                    },
                },
                calledWith: {
                    value: function (n) {
                        return callArgs[n];
                    },
                },
            });
            return f;
        },
        Updates: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Updates,
        Observable: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Observable,
        cleanup() {
            elementCache.forEach(value => {
                var _a;
                (_a = value.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(value);
                elementCache.delete(value);
            });
        },
    };
    (class extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
        connectedCallback() {
            super.connectedCallback();
            // Set up global variables necessary to execute unit tests
            Object.entries(requiredTestObject).forEach(([key, value]) => {
                Object.defineProperty(globalThis, key, { value, configurable: true });
            });
        }
        disconnectedCallback() {
            super.disconnectedCallback();
            // Tear down global variables set up during connectedCallback
            Object.keys(requiredTestObject).forEach(key => {
                delete globalThis[key];
            });
        }
    }.define({
        name: controllerElementName,
        template: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <h1>Nothing to see here, folks.</h1>
            <p>
                This page is an entrypoint for DesignToken unit tests and should only be
                used for programmatic purposes
            </p>
        `,
    }));
    return document.createElement(controllerElementName);
};


/***/ }),

/***/ "./src/dialog/dialog.template.ts":
/*!***************************************!*\
  !*** ./src/dialog/dialog.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dialogTemplate": () => (/* binding */ dialogTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTDialog} component.
 * @public
 */
function dialogTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <div class="positioning-region" part="positioning-region">
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.when)(x => x.modal, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
                    <div
                        class="overlay"
                        part="overlay"
                        role="presentation"
                        @click="${x => x.dismiss()}"
                    ></div>
                `)}
            <div
                role="dialog"
                tabindex="-1"
                class="control"
                part="control"
                aria-modal="${x => (x.modal ? x.modal : void 0)}"
                aria-describedby="${x => x.ariaDescribedby}"
                aria-labelledby="${x => x.ariaLabelledby}"
                aria-label="${x => x.ariaLabel}"
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("dialog")}
            >
                <slot></slot>
            </div>
        </div>
    `;
}


/***/ }),

/***/ "./src/dialog/dialog.ts":
/*!******************************!*\
  !*** ./src/dialog/dialog.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTDialog": () => (/* binding */ FASTDialog)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tabbable */ "./node_modules/tabbable/dist/index.esm.js");




/**
 * A Switch Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#dialog | ARIA dialog }.
 *
 * @slot - The default slot for the dialog content
 * @csspart positioning-region - A wrapping element used to center the dialog and position the modal overlay
 * @csspart overlay - The modal dialog overlay
 * @csspart control - The dialog element
 * @fires cancel - Fires a custom 'cancel' event when the modal overlay is clicked
 * @fires close - Fires a custom 'close' event when the dialog is hidden
 *
 * @public
 */
class FASTDialog extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Indicates the element is modal. When modal, user mouse interaction will be limited to the contents of the element by a modal
         * overlay.  Clicks on the overlay will cause the dialog to emit a "dismiss" event.
         * @public
         * @defaultValue - false
         * @remarks
         * HTML Attribute: modal
         */
        this.modal = false;
        /**
         * The hidden state of the element.
         *
         * @public
         * @defaultValue - false
         * @remarks
         * HTML Attribute: hidden
         */
        this.hidden = false;
        /**
         * Indicates that the dialog should not trap focus.
         *
         * @public
         * @defaultValue - true
         * @remarks
         * HTML Attribute: no-focus-trap
         */
        this.noFocusTrap = false;
        this.noFocusTrapChanged = () => {
            if (this.$fastController.isConnected) {
                this.updateTrapFocus();
            }
        };
        /**
         * @internal
         */
        this.isTrappingFocus = false;
        this.handleDocumentKeydown = (e) => {
            if (!e.defaultPrevented && !this.hidden) {
                switch (e.key) {
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.keyEscape:
                        this.dismiss();
                        e.preventDefault();
                        break;
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.keyTab:
                        this.handleTabKeyDown(e);
                        break;
                }
            }
        };
        this.handleDocumentFocus = (e) => {
            if (!e.defaultPrevented && this.shouldForceFocus(e.target)) {
                this.focusFirstElement();
                e.preventDefault();
            }
        };
        this.handleTabKeyDown = (e) => {
            if (this.noFocusTrap || this.hidden) {
                return;
            }
            const bounds = this.getTabQueueBounds();
            if (bounds.length === 0) {
                return;
            }
            if (bounds.length === 1) {
                // keep focus on single element
                bounds[0].focus();
                e.preventDefault();
                return;
            }
            if (e.shiftKey && e.target === bounds[0]) {
                bounds[bounds.length - 1].focus();
                e.preventDefault();
            }
            else if (!e.shiftKey && e.target === bounds[bounds.length - 1]) {
                bounds[0].focus();
                e.preventDefault();
            }
            return;
        };
        this.getTabQueueBounds = () => {
            const bounds = [];
            return FASTDialog.reduceTabbableItems(bounds, this);
        };
        /**
         * focus on first element of tab queue
         */
        this.focusFirstElement = () => {
            const bounds = this.getTabQueueBounds();
            if (bounds.length > 0) {
                bounds[0].focus();
            }
            else {
                if (this.dialog instanceof HTMLElement) {
                    this.dialog.focus();
                }
            }
        };
        /**
         * we should only focus if focus has not already been brought to the dialog
         */
        this.shouldForceFocus = (currentFocusElement) => {
            return this.isTrappingFocus && !this.contains(currentFocusElement);
        };
        /**
         * we should we be active trapping focus
         */
        this.shouldTrapFocus = () => {
            return !this.noFocusTrap && !this.hidden;
        };
        /**
         *
         *
         * @internal
         */
        this.updateTrapFocus = (shouldTrapFocusOverride) => {
            const shouldTrapFocus = shouldTrapFocusOverride === undefined
                ? this.shouldTrapFocus()
                : shouldTrapFocusOverride;
            if (shouldTrapFocus && !this.isTrappingFocus) {
                this.isTrappingFocus = true;
                // Add an event listener for focusin events if we are trapping focus
                document.addEventListener("focusin", this.handleDocumentFocus);
                _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.Updates.enqueue(() => {
                    if (this.shouldForceFocus(document.activeElement)) {
                        this.focusFirstElement();
                    }
                });
            }
            else if (!shouldTrapFocus && this.isTrappingFocus) {
                this.isTrappingFocus = false;
                // remove event listener if we are not trapping focus
                document.removeEventListener("focusin", this.handleDocumentFocus);
            }
        };
    }
    /**
     * @internal
     */
    dismiss() {
        this.$emit("dismiss");
        // implement `<dialog>` interface
        this.$emit("cancel");
    }
    /**
     * The method to show the dialog.
     *
     * @public
     */
    show() {
        this.hidden = false;
    }
    /**
     * The method to hide the dialog.
     *
     * @public
     */
    hide() {
        this.hidden = true;
        // implement `<dialog>` interface
        this.$emit("close");
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        document.addEventListener("keydown", this.handleDocumentKeydown);
        this.notifier = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Observable.getNotifier(this);
        this.notifier.subscribe(this, "hidden");
        this.updateTrapFocus();
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        // remove keydown event listener
        document.removeEventListener("keydown", this.handleDocumentKeydown);
        // if we are trapping focus remove the focusin listener
        this.updateTrapFocus(false);
        this.notifier.unsubscribe(this, "hidden");
    }
    /**
     * @internal
     */
    handleChange(source, propertyName) {
        switch (propertyName) {
            case "hidden":
                this.updateTrapFocus();
                break;
            default:
                break;
        }
    }
    /**
     * Reduce a collection to only its focusable elements.
     *
     * @param elements - Collection of elements to reduce
     * @param element - The current element
     *
     * @internal
     */
    static reduceTabbableItems(elements, element) {
        if (element.getAttribute("tabindex") === "-1") {
            return elements;
        }
        if ((0,tabbable__WEBPACK_IMPORTED_MODULE_4__.isTabbable)(element) ||
            (FASTDialog.isFocusableFastElement(element) &&
                FASTDialog.hasTabbableShadow(element))) {
            elements.push(element);
            return elements;
        }
        if (element.childElementCount) {
            return elements.concat(Array.from(element.children).reduce(FASTDialog.reduceTabbableItems, []));
        }
        return elements;
    }
    /**
     * Test if element is focusable fast element
     *
     * @param element - The element to check
     *
     * @internal
     */
    static isFocusableFastElement(element) {
        var _a, _b;
        return !!((_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus);
    }
    /**
     * Test if the element has a focusable shadow
     *
     * @param element - The element to check
     *
     * @internal
     */
    static hasTabbableShadow(element) {
        var _a, _b;
        return Array.from((_b = (_a = element.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll("*")) !== null && _b !== void 0 ? _b : []).some(x => {
            return (0,tabbable__WEBPACK_IMPORTED_MODULE_4__.isTabbable)(x);
        });
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ mode: "boolean" })
], FASTDialog.prototype, "modal", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ mode: "boolean" })
], FASTDialog.prototype, "hidden", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "no-focus-trap", mode: "boolean" })
], FASTDialog.prototype, "noFocusTrap", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "aria-describedby" })
], FASTDialog.prototype, "ariaDescribedby", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "aria-labelledby" })
], FASTDialog.prototype, "ariaLabelledby", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "aria-label" })
], FASTDialog.prototype, "ariaLabel", void 0);


/***/ }),

/***/ "./src/dialog/stories/dialog.register.ts":
/*!***********************************************!*\
  !*** ./src/dialog/stories/dialog.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _dialog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dialog.js */ "./src/dialog/dialog.ts");
/* harmony import */ var _dialog_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dialog.template.js */ "./src/dialog/dialog.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }

    :host {
        --elevation: 14;
        --dialog-height: 480px;
        --dialog-width: 640px;
        display: block;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.3);
        touch-action: none;
    }

    .positioning-region {
        display: flex;
        justify-content: center;
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: auto;
    }

    .control {
        box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px)
                rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))),
            0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px))
                rgba(0, 0, 0, calc(0.13 * (2 - var(--background-luminance, 1))));
        margin-top: auto;
        margin-bottom: auto;
        width: var(--dialog-width);
        height: var(--dialog-height);
        background-color: var(--fill-color);
        z-index: 1;
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid transparent;
    }
`;
_dialog_js__WEBPACK_IMPORTED_MODULE_0__.FASTDialog.define({
    name: "fast-dialog",
    template: (0,_dialog_template_js__WEBPACK_IMPORTED_MODULE_1__.dialogTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/dialog/stories/dialog.stories.ts":
/*!**********************************************!*\
  !*** ./src/dialog/stories/dialog.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Dialog": () => (/* binding */ Dialog),
/* harmony export */   "DialogModal": () => (/* binding */ DialogModal),
/* harmony export */   "DialogWithDismiss": () => (/* binding */ DialogWithDismiss),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-dialog
        ?modal="${x => x.modal}"
        ?hidden="${x => x.hidden}"
        ?no-focus-trap="${x => x.noFocusTrap}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLabel="${x => x.ariaLabel}"
    >
        ${x => x.storyContent}
    </fast-dialog>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Dialog",
    args: {
        hidden: false,
        modal: false,
        noFocusTrap: false,
    },
    argTypes: {
        hidden: { control: "boolean" },
        modal: { control: "boolean" },
        noFocusTrap: { control: "boolean" },
        ariaDescribedby: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        storyContent: { table: { disable: true } },
    },
    // docs are disabled since the modals would all load at once on the docs page
    parameters: { docs: { disable: true } },
});
const Dialog = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Dialog.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fast-button>Button A</fast-button>
        <button>Button B</button>
        <fast-checkbox>A checkbox</fast-checkbox>
        <fast-toolbar>
            <fast-button>One</fast-button>
            <fast-button>Three</fast-button>
        </fast-toolbar>
    `,
};
const DialogModal = Dialog.bind({});
DialogModal.args = {
    modal: true,
    storyContent: "A modal dialog element",
};
const DialogWithDismiss = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <div>
            <fast-button @click="${x => x.dialogRef.show()}" class="show-dialog">
                show dialog
            </fast-button>
            <fast-dialog
                ?modal="${x => x.modal}"
                ?no-focus-trap="${x => x.noFocusTrap}"
                @dismiss="${x => x.dialogRef.hide()}"
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("dialogRef")}
            >
                ${x => x.storyContent}
            </fast-dialog>
        </div>
    `).bind({});
DialogWithDismiss.args = {
    modal: true,
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <p>press Escape or click the button below to close</p>
        <fast-button @click="${x => x.dialogRef.hide()}" class="hide-dialog">
            dismiss dialog
        </fast-button>
    `,
};


/***/ }),

/***/ "./src/disclosure/disclosure.template.ts":
/*!***********************************************!*\
  !*** ./src/disclosure/disclosure.template.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "disclosureTemplate": () => (/* binding */ disclosureTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTDisclosure:class)} component.
 * @public
 */
function disclosureTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <details class="disclosure" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("details")}>
            <summary
                class="invoker"
                role="button"
                aria-controls="disclosure-content"
                aria-expanded="${x => x.expanded}"
            >
                ${(0,_patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
                <slot name="summary">${x => x.summary}</slot>
                ${(0,_patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
            </summary>
            <div id="disclosure-content"><slot></slot></div>
        </details>
    `;
}


/***/ }),

/***/ "./src/disclosure/disclosure.ts":
/*!**************************************!*\
  !*** ./src/disclosure/disclosure.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTDisclosure": () => (/* binding */ FASTDisclosure)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");




/**
 * A Disclosure Custom HTML Element.
 * Based largely on the {@link https://w3c.github.io/aria-practices/#disclosure | disclosure element }.
 *
 * @slot start - Content which can be provided before the summary content
 * @slot end - Content which can be provided after the summary content
 * @slot title - The summary content
 * @slot - The default slot for the disclosure content
 * @fires toggle - fires a toggle event when the summary is toggled
 *
 * @public
 */
class FASTDisclosure extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Determines if the element should show the extra content or not.
         *
         * @public
         */
        this.expanded = false;
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.setup();
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.details.removeEventListener("toggle", this.onToggle);
    }
    /**
     * Show extra content.
     */
    show() {
        this.details.open = true;
    }
    /**
     * Hide extra content.
     */
    hide() {
        this.details.open = false;
    }
    /**
     * Toggle the current(expanded/collapsed) state.
     */
    toggle() {
        this.details.open = !this.details.open;
    }
    /**
     * Register listener and set default disclosure mode
     */
    setup() {
        this.onToggle = this.onToggle.bind(this);
        this.details.addEventListener("toggle", this.onToggle);
        if (this.expanded) {
            this.show();
        }
    }
    /**
     * Update the aria attr and fire `toggle` event
     */
    onToggle() {
        this.expanded = this.details.open;
        this.$emit("toggle");
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr)({ mode: "boolean" })
], FASTDisclosure.prototype, "expanded", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr
], FASTDisclosure.prototype, "summary", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTDisclosure, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd);


/***/ }),

/***/ "./src/disclosure/stories/disclosure.register.ts":
/*!*******************************************************!*\
  !*** ./src/disclosure/stories/disclosure.register.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _disclosure_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../disclosure.js */ "./src/disclosure/disclosure.ts");
/* harmony import */ var _disclosure_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../disclosure.template.js */ "./src/disclosure/disclosure.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    .disclosure {
        transition: height 0.35s;
    }
    .invoker::-webkit-details-marker {
        display: none;
    }
    .invoker {
        list-style-type: none;
        background: var(--accent-fill-rest);
        color: var(--foreground-accent-rest);
        fill: currentcolor;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        border-radius: calc(var(--control-corner-radius) * 1px);
        outline: none;
        cursor: pointer;
        margin: 16px 0;
        padding: 12px;
        max-width: max-content;
    }
    .invoker:focus-visible,
    .invoker:active {
        background: var(--accent-fill-active);
        color: var(--foreground-accent-active);
    }
    .invoker:hover {
        background: var(--accent-fill-hover);
        color: var(--foreground-on-accent-hover);
    }
    .invoker {
        display: flex;
        align-items: center;
        background: transparent;
        color: var(--accent-foreground-rest);
        cursor: pointer;
        width: max-content;
        margin: 16px 0;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }

    .disclosure[open] .invoker ~ * {
        animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
`;
_disclosure_js__WEBPACK_IMPORTED_MODULE_0__.FASTDisclosure.define({
    name: "fast-disclosure",
    shadowOptions: {
        delegatesFocus: true,
    },
    styles,
    template: (0,_disclosure_template_js__WEBPACK_IMPORTED_MODULE_1__.disclosureTemplate)(),
});


/***/ }),

/***/ "./src/disclosure/stories/disclosure.stories.ts":
/*!******************************************************!*\
  !*** ./src/disclosure/stories/disclosure.stories.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Disclosure": () => (/* binding */ Disclosure),
/* harmony export */   "DisclosureWithSlottedStartEnd": () => (/* binding */ DisclosureWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-disclosure summary="${x => x.summary}" ?expanded="${x => x.expanded}">
        ${x => x.storyContent}
    </fast-disclosure>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Disclosure",
    args: {
        expanded: false,
    },
    argTypes: {
        expanded: { control: "boolean" },
        storyContent: { table: { disable: true } },
        summary: { control: "text" },
    },
});
const Disclosure = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Disclosure.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <span slot="end"></span>
        <div style="color: var(--neutral-foreground-rest)">
            Created by writer Gardner Fox and artist Harry Lampert, the original Flash
            first appeared in Flash Comics #1 (cover date January 1940/release month
            November 1939). Nicknamed the "Scarlet Speedster", all incarnations of the
            Flash possess "super speed", which includes the ability to run, move, and
            think extremely fast, use superhuman reflexes, and seemingly violate certain
            laws of physics.
        </div>
    `,
    summary: "More about Flash",
};
const DisclosureWithSlottedStartEnd = Disclosure.bind({});
DisclosureWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Disclosure content
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
    summary: "Summary",
};


/***/ }),

/***/ "./src/divider/divider.options.ts":
/*!****************************************!*\
  !*** ./src/divider/divider.options.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DividerOrientation": () => (/* binding */ DividerOrientation),
/* harmony export */   "DividerRole": () => (/* binding */ DividerRole)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/aria.js");

/**
 * Divider roles
 * @public
 */
const DividerRole = {
    /**
     * The divider semantically separates content
     */
    separator: "separator",
    /**
     * The divider has no semantic value and is for visual presentation only.
     */
    presentation: "presentation",
};
/**
 * Divider orientation
 * @public
 */
const DividerOrientation = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.Orientation;


/***/ }),

/***/ "./src/divider/divider.template.ts":
/*!*****************************************!*\
  !*** ./src/divider/divider.template.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dividerTemplate": () => (/* binding */ dividerTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTDivider} component.
 * @public
 */
function dividerTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template role="${x => x.role}" aria-orientation="${x => x.orientation}">
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/divider/divider.ts":
/*!********************************!*\
  !*** ./src/divider/divider.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTDivider": () => (/* binding */ FASTDivider)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _divider_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./divider.options.js */ "./src/divider/divider.options.ts");



/**
 * A Divider Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#separator | ARIA separator } or {@link https://www.w3.org/TR/wai-aria-1.1/#presentation | ARIA presentation}.
 *
 * @public
 */
class FASTDivider extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The role of the element.
         *
         * @public
         * @remarks
         * HTML Attribute: role
         */
        this.role = _divider_options_js__WEBPACK_IMPORTED_MODULE_0__.DividerRole.separator;
        /**
         * The orientation of the divider.
         *
         * @public
         * @remarks
         * HTML Attribute: orientation
         */
        this.orientation = _divider_options_js__WEBPACK_IMPORTED_MODULE_0__.DividerOrientation.horizontal;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr
], FASTDivider.prototype, "role", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr
], FASTDivider.prototype, "orientation", void 0);


/***/ }),

/***/ "./src/divider/stories/divider.register.ts":
/*!*************************************************!*\
  !*** ./src/divider/stories/divider.register.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _divider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../divider.js */ "./src/divider/divider.ts");
/* harmony import */ var _divider_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../divider.template.js */ "./src/divider/divider.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        border-left: none;
        border-top: calc(var(--stroke-width) * 1px) solid
            var(--neutral-stroke-divider-rest);
        box-sizing: content-box;
        display: block;
        height: 0;
        margin: calc(var(--design-unit) * 1px) 0;
    }
    :host([orientation="vertical"]) {
        border-top: none;
        border-left: calc(var(--stroke-width) * 1px) solid
            var(--neutral-stroke-divider-rest);
        height: 100%;
        margin: 0 calc(var(--design-unit) * 1px);
    }
`;
_divider_js__WEBPACK_IMPORTED_MODULE_0__.FASTDivider.define({
    name: "fast-divider",
    styles,
    template: (0,_divider_template_js__WEBPACK_IMPORTED_MODULE_1__.dividerTemplate)(),
});


/***/ }),

/***/ "./src/divider/stories/divider.stories.ts":
/*!************************************************!*\
  !*** ./src/divider/stories/divider.stories.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Divider": () => (/* binding */ Divider),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _divider_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../divider.options.js */ "./src/divider/divider.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-divider
        orientation="${x => x.orientation}"
        role="${x => x.role}"
    ></fast-divider>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Divider",
    excludeStories: ["storyTemplate"],
    argTypes: {
        orientation: { control: "radio", options: Object.values(_divider_options_js__WEBPACK_IMPORTED_MODULE_1__.DividerOrientation) },
        role: { control: "select", options: Object.values(_divider_options_js__WEBPACK_IMPORTED_MODULE_1__.DividerRole) },
    },
});
const Divider = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/flipper/flipper.options.ts":
/*!****************************************!*\
  !*** ./src/flipper/flipper.options.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FlipperDirection": () => (/* binding */ FlipperDirection)
/* harmony export */ });
/**
 * The direction options for flipper.
 * @public
 */
const FlipperDirection = {
    next: "next",
    previous: "previous",
};


/***/ }),

/***/ "./src/flipper/flipper.template.ts":
/*!*****************************************!*\
  !*** ./src/flipper/flipper.template.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "flipperTemplate": () => (/* binding */ flipperTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#FASTFlipper} component.
 * @public
 */
function flipperTemplate(options = {}) {
    const templateCache = {};
    function setFlipperTemplateByDirection(direction, options) {
        let existing = templateCache[direction];
        if (!existing) {
            templateCache[direction] = existing = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                <span part="${direction}" class="${direction}">
                    <slot name="${direction}">
                        ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options[direction])}
                    </slot>
                </span>
            `;
        }
        return existing;
    }
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="button"
            aria-disabled="${x => (x.disabled ? true : void 0)}"
            tabindex="${x => (x.hiddenFromAT ? -1 : 0)}"
            @keyup="${(x, c) => x.keyupHandler(c.event)}"
        >
            ${x => setFlipperTemplateByDirection(x.direction, options)}
        </template>
    `;
}


/***/ }),

/***/ "./src/flipper/flipper.ts":
/*!********************************!*\
  !*** ./src/flipper/flipper.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTFlipper": () => (/* binding */ FASTFlipper),
/* harmony export */   "FlipperDirection": () => (/* reexport safe */ _flipper_options_js__WEBPACK_IMPORTED_MODULE_0__.FlipperDirection)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _flipper_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./flipper.options.js */ "./src/flipper/flipper.options.ts");




/**
 * A Flipper Custom HTML Element.
 * Flippers are a form of button that implies directional content navigation, such as in a carousel.
 *
 * @slot next - The next flipper content
 * @slot previous - The previous flipper content
 * @csspart next - Wraps the next flipper content
 * @csspart previous - Wraps the previous flipper content
 * @fires click - Fires a custom 'click' event when Enter or Space is invoked via keyboard and the flipper is exposed to assistive technologies.
 *
 * @public
 */
class FASTFlipper extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Indicates the flipper should be hidden from assistive technology. Because flippers are often supplementary navigation, they are often hidden from assistive technology.
         *
         * @public
         * @defaultValue - true
         * @remarks
         * HTML Attribute: aria-hidden
         */
        this.hiddenFromAT = true;
        /**
         * The direction that the flipper implies navigating.
         *
         * @public
         * @remarks
         * HTML Attribute: direction
         */
        this.direction = _flipper_options_js__WEBPACK_IMPORTED_MODULE_0__.FlipperDirection.next;
    }
    /**
     * Simulate a click event when the flipper has focus and the user hits enter or space keys
     * Blur focus if the user hits escape key
     * @param e - Keyboard event
     * @public
     */
    keyupHandler(e) {
        if (!this.hiddenFromAT) {
            const key = e.key;
            if (key === "Enter" || key === "Space") {
                this.$emit("click", e);
            }
            if (key === "Escape") {
                this.blur();
            }
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ mode: "boolean" })
], FASTFlipper.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ attribute: "aria-hidden", converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.booleanConverter })
], FASTFlipper.prototype, "hiddenFromAT", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr
], FASTFlipper.prototype, "direction", void 0);


/***/ }),

/***/ "./src/flipper/stories/flipper.register.ts":
/*!*************************************************!*\
  !*** ./src/flipper/stories/flipper.register.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _statics_svg_chevron_left_16_regular_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../statics/svg/chevron_left_16_regular.svg */ "./statics/svg/chevron_left_16_regular.svg");
/* harmony import */ var _statics_svg_chevron_left_16_regular_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_statics_svg_chevron_left_16_regular_svg__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _statics_svg_chevron_right_16_regular_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../statics/svg/chevron_right_16_regular.svg */ "./statics/svg/chevron_right_16_regular.svg");
/* harmony import */ var _statics_svg_chevron_right_16_regular_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_statics_svg_chevron_right_16_regular_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _flipper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../flipper.js */ "./src/flipper/flipper.ts");
/* harmony import */ var _flipper_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../flipper.template.js */ "./src/flipper/flipper.template.ts");





const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        --size: calc(var(--height-number) * 1px);
        align-items: center;
        background: transparent;
        border: none;
        color: var(--foreground-on-accent-rest);
        display: inline-flex;
        fill: currentcolor;
        height: var(--size);
        justify-content: center;
        margin: 0;
        outline: none;
        padding: 0;
        position: relative;
        width: var(--size);
    }
    :host::before {
        background: var(--accent-fill-rest);
        border-radius: 50%;
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        bottom: 0;
        content: "";
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        transition: all 0.1s ease-in-out;
    }

    .next,
    .previous {
        display: grid;
        height: 16px;
        position: relative;
        width: 16px;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
        cursor: var(--disabled-cursor);
        fill: currentcolor;
        color: var(--neutral-foreground-rest);
        pointer-events: none;
    }
    :host([disabled])::before,
    :host([disabled]:hover)::before,
    :host([disabled]:active)::before {
        background: var(--neutral-fill-stealth-rest);
        border-color: var(--neutral-stroke-rest);
    }
    :host(:hover) {
        color: var(--foreground-on-accent-hover);
    }
    :host(:hover)::before {
        background: var(--accent-fill-hover);
        border-color: var(--accent-fill-hover);
    }
    :host(:active) {
        color: var(--foreground-on-accent-active);
    }
    :host(:active)::before {
        background: var(--accent-fill-active);
        border-color: var(--accent-fill-active);
    }
    :host(:focus-visible) {
        outline: none;
    }
    :host(:focus-visible)::before {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc((var(--focus-stroke-width) - var(--stroke-width)) * 1px)
                var(--focus-stroke-outer) inset,
            0 0 0 calc((var(--focus-stroke-width) + var(--stroke-width)) * 1px)
                var(--focus-stroke-inner) inset;
    }
    :host::-moz-focus-inner {
        border: 0;
    }
`;
_flipper_js__WEBPACK_IMPORTED_MODULE_0__.FASTFlipper.define({
    name: "fast-flipper",
    template: (0,_flipper_template_js__WEBPACK_IMPORTED_MODULE_1__.flipperTemplate)({
        next: (_statics_svg_chevron_right_16_regular_svg__WEBPACK_IMPORTED_MODULE_3___default()),
        previous: (_statics_svg_chevron_left_16_regular_svg__WEBPACK_IMPORTED_MODULE_4___default()),
    }),
    styles,
});


/***/ }),

/***/ "./src/flipper/stories/flipper.stories.ts":
/*!************************************************!*\
  !*** ./src/flipper/stories/flipper.stories.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Flipper": () => (/* binding */ Flipper),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _flipper_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../flipper.options.js */ "./src/flipper/flipper.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-flipper
        ?disabled="${x => x.disabled}"
        :hiddenFromAT="${x => x.hiddenFromAT}"
        direction="${x => x.direction}"
    ></fast-flipper>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Flipper",
    args: {
        disabled: false,
        hiddenFromAT: true,
    },
    argTypes: {
        direction: { control: "radio", options: Object.values(_flipper_options_js__WEBPACK_IMPORTED_MODULE_1__.FlipperDirection) },
        disabled: { control: "boolean" },
        hiddenFromAT: { control: "boolean" },
    },
});
const Flipper = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/form-associated/form-associated.ts":
/*!************************************************!*\
  !*** ./src/form-associated/form-associated.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckableFormAssociated": () => (/* binding */ CheckableFormAssociated),
/* harmony export */   "FormAssociated": () => (/* binding */ FormAssociated),
/* harmony export */   "supportsElementInternals": () => (/* binding */ supportsElementInternals)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/platform.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");


const proxySlotName = "form-associated-proxy";
const ElementInternalsKey = "ElementInternals";
/**
 * @alpha
 */
const supportsElementInternals = ElementInternalsKey in window &&
    "setFormValue" in window[ElementInternalsKey].prototype;
const InternalsMap = new WeakMap();
/**
 * Base function for providing Custom Element Form Association.
 *
 * @beta
 */
function FormAssociated(BaseCtor) {
    const C = class extends BaseCtor {
        /**
         * Must evaluate to true to enable elementInternals.
         * Feature detects API support and resolve respectively
         *
         * @internal
         */
        static get formAssociated() {
            return supportsElementInternals;
        }
        /**
         * Returns the validity state of the element
         *
         * @beta
         */
        get validity() {
            return this.elementInternals
                ? this.elementInternals.validity
                : this.proxy.validity;
        }
        /**
         * Retrieve a reference to the associated form.
         * Returns null if not associated to any form.
         *
         * @beta
         */
        get form() {
            return this.elementInternals ? this.elementInternals.form : this.proxy.form;
        }
        /**
         * Retrieve the localized validation message,
         * or custom validation message if set.
         *
         * @beta
         */
        get validationMessage() {
            return this.elementInternals
                ? this.elementInternals.validationMessage
                : this.proxy.validationMessage;
        }
        /**
         * Whether the element will be validated when the
         * form is submitted
         */
        get willValidate() {
            return this.elementInternals
                ? this.elementInternals.willValidate
                : this.proxy.willValidate;
        }
        /**
         * A reference to all associated label elements
         */
        get labels() {
            if (this.elementInternals) {
                return Object.freeze(Array.from(this.elementInternals.labels));
            }
            else if (this.proxy instanceof HTMLElement &&
                this.proxy.ownerDocument &&
                this.id) {
                // Labels associated by wrapping the element: <label><custom-element></custom-element></label>
                const parentLabels = this.proxy.labels;
                // Labels associated using the `for` attribute
                const forLabels = Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`));
                const labels = parentLabels
                    ? forLabels.concat(Array.from(parentLabels))
                    : forLabels;
                return Object.freeze(labels);
            }
            else {
                return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.emptyArray;
            }
        }
        /**
         * Invoked when the `value` property changes
         * @param previous - the previous value
         * @param next - the new value
         *
         * @remarks
         * If elements extending `FormAssociated` implement a `valueChanged` method
         * They must be sure to invoke `super.valueChanged(previous, next)` to ensure
         * proper functioning of `FormAssociated`
         */
        valueChanged(previous, next) {
            this.dirtyValue = true;
            if (this.proxy instanceof HTMLElement) {
                this.proxy.value = this.value;
            }
            this.currentValue = this.value;
            this.setFormValue(this.value);
            this.validate();
        }
        currentValueChanged() {
            this.value = this.currentValue;
        }
        /**
         * Invoked when the `initialValue` property changes
         *
         * @param previous - the previous value
         * @param next - the new value
         *
         * @remarks
         * If elements extending `FormAssociated` implement a `initialValueChanged` method
         * They must be sure to invoke `super.initialValueChanged(previous, next)` to ensure
         * proper functioning of `FormAssociated`
         */
        initialValueChanged(previous, next) {
            // If the value is clean and the component is connected to the DOM
            // then set value equal to the attribute value.
            if (!this.dirtyValue) {
                this.value = this.initialValue;
                this.dirtyValue = false;
            }
        }
        /**
         * Invoked when the `disabled` property changes
         *
         * @param previous - the previous value
         * @param next - the new value
         *
         * @remarks
         * If elements extending `FormAssociated` implement a `disabledChanged` method
         * They must be sure to invoke `super.disabledChanged(previous, next)` to ensure
         * proper functioning of `FormAssociated`
         */
        disabledChanged(previous, next) {
            if (this.proxy instanceof HTMLElement) {
                this.proxy.disabled = this.disabled;
            }
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.Updates.enqueue(() => this.classList.toggle("disabled", this.disabled));
        }
        /**
         * Invoked when the `name` property changes
         *
         * @param previous - the previous value
         * @param next - the new value
         *
         * @remarks
         * If elements extending `FormAssociated` implement a `nameChanged` method
         * They must be sure to invoke `super.nameChanged(previous, next)` to ensure
         * proper functioning of `FormAssociated`
         */
        nameChanged(previous, next) {
            if (this.proxy instanceof HTMLElement) {
                this.proxy.name = this.name;
            }
        }
        /**
         * Invoked when the `required` property changes
         *
         * @param previous - the previous value
         * @param next - the new value
         *
         * @remarks
         * If elements extending `FormAssociated` implement a `requiredChanged` method
         * They must be sure to invoke `super.requiredChanged(previous, next)` to ensure
         * proper functioning of `FormAssociated`
         */
        requiredChanged(prev, next) {
            if (this.proxy instanceof HTMLElement) {
                this.proxy.required = this.required;
            }
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.Updates.enqueue(() => this.classList.toggle("required", this.required));
            this.validate();
        }
        /**
         * The element internals object. Will only exist
         * in browsers supporting the attachInternals API
         */
        get elementInternals() {
            if (!supportsElementInternals) {
                return null;
            }
            let internals = InternalsMap.get(this);
            if (!internals) {
                internals = this.attachInternals();
                InternalsMap.set(this, internals);
            }
            return internals;
        }
        constructor(...args) {
            super(...args);
            /**
             * Track whether the value has been changed from the initial value
             */
            this.dirtyValue = false;
            /**
             * Sets the element's disabled state. A disabled element will not be included during form submission.
             *
             * @remarks
             * HTML Attribute: disabled
             */
            this.disabled = false;
            /**
             * These are events that are still fired by the proxy
             * element based on user / programmatic interaction.
             *
             * The proxy implementation should be transparent to
             * the app author, so block these events from emitting.
             */
            this.proxyEventsToBlock = ["change", "click"];
            this.proxyInitialized = false;
            this.required = false;
            this.initialValue = this.initialValue || "";
            if (!this.elementInternals) {
                // When elementInternals is not supported, formResetCallback is
                // bound to an event listener, so ensure the handler's `this`
                // context is correct.
                this.formResetCallback = this.formResetCallback.bind(this);
            }
        }
        /**
         * @internal
         */
        connectedCallback() {
            super.connectedCallback();
            this.addEventListener("keypress", this._keypressHandler);
            if (!this.value) {
                this.value = this.initialValue;
                this.dirtyValue = false;
            }
            if (!this.elementInternals) {
                this.attachProxy();
                if (this.form) {
                    this.form.addEventListener("reset", this.formResetCallback);
                }
            }
        }
        /**
         * @internal
         */
        disconnectedCallback() {
            this.proxyEventsToBlock.forEach(name => this.proxy.removeEventListener(name, this.stopPropagation));
            if (!this.elementInternals && this.form) {
                this.form.removeEventListener("reset", this.formResetCallback);
            }
        }
        /**
         * Return the current validity of the element.
         */
        checkValidity() {
            return this.elementInternals
                ? this.elementInternals.checkValidity()
                : this.proxy.checkValidity();
        }
        /**
         * Return the current validity of the element.
         * If false, fires an invalid event at the element.
         */
        reportValidity() {
            return this.elementInternals
                ? this.elementInternals.reportValidity()
                : this.proxy.reportValidity();
        }
        /**
         * Set the validity of the control. In cases when the elementInternals object is not
         * available (and the proxy element is used to report validity), this function will
         * do nothing unless a message is provided, at which point the setCustomValidity method
         * of the proxy element will be invoked with the provided message.
         * @param flags - Validity flags
         * @param message - Optional message to supply
         * @param anchor - Optional element used by UA to display an interactive validation UI
         */
        setValidity(flags, message, anchor) {
            if (this.elementInternals) {
                this.elementInternals.setValidity(flags, message, anchor);
            }
            else if (typeof message === "string") {
                this.proxy.setCustomValidity(message);
            }
        }
        /**
         * Invoked when a connected component's form or fieldset has its disabled
         * state changed.
         * @param disabled - the disabled value of the form / fieldset
         */
        formDisabledCallback(disabled) {
            this.disabled = disabled;
        }
        formResetCallback() {
            this.value = this.initialValue;
            this.dirtyValue = false;
        }
        /**
         * Attach the proxy element to the DOM
         */
        attachProxy() {
            var _a;
            if (!this.proxyInitialized) {
                this.proxyInitialized = true;
                this.proxy.style.display = "none";
                this.proxyEventsToBlock.forEach(name => this.proxy.addEventListener(name, this.stopPropagation));
                // These are typically mapped to the proxy during
                // property change callbacks, but during initialization
                // on the initial call of the callback, the proxy is
                // still undefined. We should find a better way to address this.
                this.proxy.disabled = this.disabled;
                this.proxy.required = this.required;
                if (typeof this.name === "string") {
                    this.proxy.name = this.name;
                }
                if (typeof this.value === "string") {
                    this.proxy.value = this.value;
                }
                this.proxy.setAttribute("slot", proxySlotName);
                this.proxySlot = document.createElement("slot");
                this.proxySlot.setAttribute("name", proxySlotName);
            }
            (_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.appendChild(this.proxySlot);
            this.appendChild(this.proxy);
        }
        /**
         * Detach the proxy element from the DOM
         */
        detachProxy() {
            var _a;
            this.removeChild(this.proxy);
            (_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.removeChild(this.proxySlot);
        }
        /** {@inheritDoc (FormAssociated:interface).validate} */
        validate(anchor) {
            if (this.proxy instanceof HTMLElement) {
                this.setValidity(this.proxy.validity, this.proxy.validationMessage, anchor);
            }
        }
        /**
         * Associates the provided value (and optional state) with the parent form.
         * @param value - The value to set
         * @param state - The state object provided to during session restores and when autofilling.
         */
        setFormValue(value, state) {
            if (this.elementInternals) {
                this.elementInternals.setFormValue(value, state || value);
            }
        }
        _keypressHandler(e) {
            switch (e.key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyEnter:
                    if (this.form instanceof HTMLFormElement) {
                        // Implicit submission
                        const defaultButton = this.form.querySelector("[type=submit]");
                        defaultButton === null || defaultButton === void 0 ? void 0 : defaultButton.click();
                    }
                    break;
            }
        }
        /**
         * Used to stop propagation of proxy element events
         * @param e - Event object
         */
        stopPropagation(e) {
            e.stopPropagation();
        }
    };
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ mode: "boolean" })(C.prototype, "disabled");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ mode: "fromView", attribute: "value" })(C.prototype, "initialValue");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ attribute: "current-value" })(C.prototype, "currentValue");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)(C.prototype, "name");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ mode: "boolean" })(C.prototype, "required");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable)(C.prototype, "value");
    return C;
}
/**
 * Creates a checkable form associated component.
 * @beta
 */
function CheckableFormAssociated(BaseCtor) {
    class C extends FormAssociated(BaseCtor) {
    }
    class D extends C {
        checkedAttributeChanged() {
            this.defaultChecked = this.checkedAttribute;
        }
        /**
         * @internal
         */
        defaultCheckedChanged() {
            if (!this.dirtyChecked) {
                // Setting this.checked will cause us to enter a dirty state,
                // but if we are clean when defaultChecked is changed, we want to stay
                // in a clean state, so reset this.dirtyChecked
                this.checked = this.defaultChecked;
                this.dirtyChecked = false;
            }
        }
        checkedChanged(prev, next) {
            if (!this.dirtyChecked) {
                this.dirtyChecked = true;
            }
            this.currentChecked = this.checked;
            this.updateForm();
            if (this.proxy instanceof HTMLInputElement) {
                this.proxy.checked = this.checked;
            }
            if (prev !== undefined) {
                this.$emit("change");
            }
            this.validate();
        }
        currentCheckedChanged(prev, next) {
            this.checked = this.currentChecked;
        }
        constructor(...args) {
            super(args);
            /**
             * Tracks whether the "checked" property has been changed.
             * This is necessary to provide consistent behavior with
             * normal input checkboxes
             */
            this.dirtyChecked = false;
            /**
             * Provides the default checkedness of the input element
             * Passed down to proxy
             *
             * @public
             * @remarks
             * HTML Attribute: checked
             */
            this.checkedAttribute = false;
            /**
             * The checked state of the control.
             *
             * @public
             */
            this.checked = false;
            // Re-initialize dirtyChecked because initialization of other values
            // causes it to become true
            this.dirtyChecked = false;
        }
        updateForm() {
            const value = this.checked ? this.value : null;
            this.setFormValue(value, value);
        }
        connectedCallback() {
            super.connectedCallback();
            this.updateForm();
        }
        formResetCallback() {
            super.formResetCallback();
            this.checked = !!this.checkedAttribute;
            this.dirtyChecked = false;
        }
    }
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ attribute: "checked", mode: "boolean" })(D.prototype, "checkedAttribute");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ attribute: "current-checked", converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.booleanConverter })(D.prototype, "currentChecked");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable)(D.prototype, "defaultChecked");
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable)(D.prototype, "checked");
    return D;
}


/***/ }),

/***/ "./src/form-associated/stories/form-associated.register.ts":
/*!*****************************************************************!*\
  !*** ./src/form-associated/stories/form-associated.register.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckableFormAssociatedElement": () => (/* binding */ CheckableFormAssociatedElement),
/* harmony export */   "FormAssociatedElement": () => (/* binding */ FormAssociatedElement)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated.js */ "./src/form-associated/form-associated.ts");


const template = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <slot></slot>
`;
class FormAssociatedElement extends (0,_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(class extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}) {
    constructor() {
        super();
        this.proxy.setAttribute("type", "text");
    }
}
FormAssociatedElement.define({
    name: "test-element",
    template,
});
class CustomInitialValueElement extends FormAssociatedElement {
    constructor() {
        super();
        this.initialValue = "foobar";
        this.proxy.setAttribute("type", "text");
    }
}
CustomInitialValueElement.define({
    name: "custom-initial-value",
    template,
});
class CheckableFormAssociatedElement extends (0,_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.CheckableFormAssociated)(class extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}) {
    constructor() {
        super();
        this.proxy.setAttribute("type", "checkbox");
    }
}
CheckableFormAssociatedElement.define({
    name: "checkable-form-associated",
    template,
});


/***/ }),

/***/ "./src/horizontal-scroll/horizontal-scroll.options.ts":
/*!************************************************************!*\
  !*** ./src/horizontal-scroll/horizontal-scroll.options.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HorizontalScrollView": () => (/* binding */ HorizontalScrollView),
/* harmony export */   "ScrollEasing": () => (/* binding */ ScrollEasing)
/* harmony export */ });
/**
 * View options for the {@link @microsoft/fast-foundation#(FASTHorizontalScroll:class)|FASTHorizontalScroll} component.
 * @public
 */
const HorizontalScrollView = {
    default: "default",
    mobile: "mobile",
};
/**
 * Easing values for the {@link @microsoft/fast-foundation#(FASTHorizontalScroll:class)|FASTHorizontalScroll} component.
 * @public
 */
const ScrollEasing = {
    linear: "linear",
    easeIn: "ease-in",
    easeOut: "ease-out",
    easeInOut: "ease-in-out",
};


/***/ }),

/***/ "./src/horizontal-scroll/horizontal-scroll.template.ts":
/*!*************************************************************!*\
  !*** ./src/horizontal-scroll/horizontal-scroll.template.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "horizontalScrollTemplate": () => (/* binding */ horizontalScrollTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");



/**
 * @public
 */
function horizontalScrollTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <template @keyup="${(x, c) => x.keyupHandler(c.event)}">
            ${(0,_patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.startSlotTemplate)(options)}
            <div class="scroll-area" part="scroll-area">
                <div
                    class="scroll-view"
                    part="scroll-view"
                    @scroll="${x => x.scrolled()}"
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.ref)("scrollContainer")}
                >
                    <div
                        class="content-container"
                        part="content-container"
                        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.ref)("content")}
                    >
                        <slot
                            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.slotted)({
        property: "scrollItems",
        filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.elements)(),
    })}
                        ></slot>
                    </div>
                </div>
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.when)(x => x.view !== "mobile", _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                        <div
                            class="scroll scroll-prev"
                            part="scroll-prev"
                            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.ref)("previousFlipperContainer")}
                        >
                            <div class="scroll-action" part="scroll-action-previous">
                                <slot name="previous-flipper">
                                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.previousFlipper)}
                                </slot>
                            </div>
                        </div>
                        <div
                            class="scroll scroll-next"
                            part="scroll-next"
                            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.ref)("nextFlipperContainer")}
                        >
                            <div class="scroll-action" part="scroll-action-next">
                                <slot name="next-flipper">
                                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.nextFlipper)}
                                </slot>
                            </div>
                        </div>
                    `)}
            </div>
            ${(0,_patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.endSlotTemplate)(options)}
        </template>
    `;
}


/***/ }),

/***/ "./src/horizontal-scroll/horizontal-scroll.ts":
/*!****************************************************!*\
  !*** ./src/horizontal-scroll/horizontal-scroll.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTHorizontalScroll": () => (/* binding */ FASTHorizontalScroll)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _horizontal_scroll_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./horizontal-scroll.options.js */ "./src/horizontal-scroll/horizontal-scroll.options.ts");





/**
 * A HorizontalScroll Custom HTML Element
 *
 * @slot start - Content which can be provided before the scroll area
 * @slot end - Content which can be provided after the scroll area
 * @csspart scroll-area - Wraps the entire scrollable region
 * @csspart scroll-view - The visible scroll area
 * @csspart content-container - The container for the content
 * @csspart scroll-prev - The previous flipper container
 * @csspart scroll-action-previous - The element wrapping the previous flipper
 * @csspart scroll-next - The next flipper container
 * @csspart scroll-action-next - The element wrapping the next flipper
 * @fires scrollstart - Fires a custom 'scrollstart' event when scrolling
 * @fires scrollend - Fires a custom 'scrollend' event when scrolling stops
 *
 * @public
 */
class FASTHorizontalScroll extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * @internal
         */
        this.framesPerSecond = 60;
        /**
         * Flag indicating that the items are being updated
         *
         * @internal
         */
        this.updatingItems = false;
        /**
         * Speed of scroll in pixels per second
         * @public
         */
        this.speed = 600;
        /**
         * Attribute used for easing, defaults to ease-in-out
         * @public
         */
        this.easing = _horizontal_scroll_options_js__WEBPACK_IMPORTED_MODULE_2__.ScrollEasing.easeInOut;
        /**
         * Attribute to hide flippers from assistive technology
         * @public
         */
        this.flippersHiddenFromAT = false;
        /**
         * Scrolling state
         * @internal
         */
        this.scrolling = false;
        /**
         * Detects if the component has been resized
         * @internal
         */
        this.resizeDetector = null;
    }
    /**
     * The calculated duration for a frame.
     *
     * @internal
     */
    get frameTime() {
        return 1000 / this.framesPerSecond;
    }
    /**
     * Firing scrollstart and scrollend events
     * @internal
     */
    scrollingChanged(prev, next) {
        if (this.scrollContainer) {
            const event = this.scrolling == true ? "scrollstart" : "scrollend";
            this.$emit(event, this.scrollContainer.scrollLeft);
        }
    }
    /**
     * In RTL mode
     * @internal
     */
    get isRtl() {
        return (this.scrollItems.length > 1 &&
            this.scrollItems[0].offsetLeft > this.scrollItems[1].offsetLeft);
    }
    connectedCallback() {
        super.connectedCallback();
        this.initializeResizeDetector();
    }
    disconnectedCallback() {
        this.disconnectResizeDetector();
        super.disconnectedCallback();
    }
    /**
     * Updates scroll stops and flippers when scroll items change
     * @param previous - current scroll items
     * @param next - new updated scroll items
     * @public
     */
    scrollItemsChanged(previous, next) {
        if (next && !this.updatingItems) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Updates.enqueue(() => this.setStops());
        }
    }
    /**
     * destroys the instance's resize observer
     * @internal
     */
    disconnectResizeDetector() {
        if (this.resizeDetector) {
            this.resizeDetector.disconnect();
            this.resizeDetector = null;
        }
    }
    /**
     * initializes the instance's resize observer
     * @internal
     */
    initializeResizeDetector() {
        this.disconnectResizeDetector();
        this.resizeDetector = new window.ResizeObserver(this.resized.bind(this));
        this.resizeDetector.observe(this);
    }
    /**
     * Looks for slots and uses child nodes instead
     * @internal
     */
    updateScrollStops() {
        this.updatingItems = true;
        const updatedItems = this.scrollItems.reduce((scrollItems, scrollItem) => {
            if (scrollItem instanceof HTMLSlotElement) {
                return scrollItems.concat(scrollItem.assignedElements());
            }
            scrollItems.push(scrollItem);
            return scrollItems;
        }, []);
        this.scrollItems = updatedItems;
        this.updatingItems = false;
    }
    /**
     * Finds all of the scroll stops between elements
     * @internal
     */
    setStops() {
        this.updateScrollStops();
        const { scrollContainer: container } = this;
        const { scrollLeft } = container;
        const { width: containerWidth, left: containerLeft, } = container.getBoundingClientRect();
        this.width = containerWidth;
        let lastStop = 0;
        let stops = this.scrollItems
            .map((item, index) => {
            const { left, width } = item.getBoundingClientRect();
            const leftPosition = Math.round(left + scrollLeft - containerLeft);
            const right = Math.round(leftPosition + width);
            if (this.isRtl) {
                return -right;
            }
            lastStop = right;
            return index === 0 ? 0 : leftPosition;
        })
            .concat(lastStop);
        /* Fixes a FireFox bug where it doesn't scroll to the start */
        stops = this.fixScrollMisalign(stops);
        /* Sort to zero */
        stops.sort((a, b) => Math.abs(a) - Math.abs(b));
        this.scrollStops = stops;
        this.setFlippers();
    }
    /**
     * Checks to see if the stops are returning values
     *  otherwise it will try to reinitialize them
     *
     * @returns boolean indicating that current scrollStops are valid non-zero values
     * @internal
     */
    validateStops(reinit = true) {
        const hasStops = () => !!this.scrollStops.find((stop) => stop > 0);
        if (!hasStops() && reinit) {
            this.setStops();
        }
        return hasStops();
    }
    /**
     *
     */
    fixScrollMisalign(stops) {
        if (this.isRtl && stops.some(stop => stop > 0)) {
            stops.sort((a, b) => b - a);
            const offset = stops[0];
            stops = stops.map(stop => stop - offset);
        }
        return stops;
    }
    /**
     * Sets the controls view if enabled
     * @internal
     */
    setFlippers() {
        var _a, _b;
        const position = this.scrollContainer.scrollLeft;
        (_a = this.previousFlipperContainer) === null || _a === void 0 ? void 0 : _a.classList.toggle("disabled", position === 0);
        if (this.scrollStops) {
            const lastStop = Math.abs(this.scrollStops[this.scrollStops.length - 1]);
            (_b = this.nextFlipperContainer) === null || _b === void 0 ? void 0 : _b.classList.toggle("disabled", this.validateStops(false) && Math.abs(position) + this.width >= lastStop);
        }
    }
    /**
     * Function that can scroll an item into view.
     * @param item - An item index, a scroll item or a child of one of the scroll items
     * @param padding - Padding of the viewport where the active item shouldn't be
     * @param rightPadding - Optional right padding. Uses the padding if not defined
     *
     * @public
     */
    scrollInView(item, padding = 0, rightPadding) {
        var _a;
        if (typeof item !== "number" && item) {
            item = this.scrollItems.findIndex(scrollItem => scrollItem === item || scrollItem.contains(item));
        }
        if (item !== undefined) {
            rightPadding = rightPadding !== null && rightPadding !== void 0 ? rightPadding : padding;
            const { scrollContainer: container, scrollStops, scrollItems: items } = this;
            const { scrollLeft } = this.scrollContainer;
            const { width: containerWidth } = container.getBoundingClientRect();
            const itemStart = scrollStops[item];
            const { width } = items[item].getBoundingClientRect();
            const itemEnd = itemStart + width;
            const isBefore = scrollLeft + padding > itemStart;
            if (isBefore || scrollLeft + containerWidth - rightPadding < itemEnd) {
                const stops = [...scrollStops].sort((a, b) => (isBefore ? b - a : a - b));
                const scrollTo = (_a = stops.find(position => isBefore
                    ? position + padding < itemStart
                    : position + containerWidth - (rightPadding !== null && rightPadding !== void 0 ? rightPadding : 0) > itemEnd)) !== null && _a !== void 0 ? _a : 0;
                this.scrollToPosition(scrollTo);
            }
        }
    }
    /**
     * Lets the user arrow left and right through the horizontal scroll
     * @param e - Keyboard event
     * @public
     */
    keyupHandler(e) {
        const key = e.key;
        switch (key) {
            case "ArrowLeft":
                this.scrollToPrevious();
                break;
            case "ArrowRight":
                this.scrollToNext();
                break;
        }
    }
    /**
     * Scrolls items to the left
     * @public
     */
    scrollToPrevious() {
        this.validateStops();
        const scrollPosition = this.scrollContainer.scrollLeft;
        const current = this.scrollStops.findIndex((stop, index) => stop >= scrollPosition &&
            (this.isRtl ||
                index === this.scrollStops.length - 1 ||
                this.scrollStops[index + 1] > scrollPosition));
        const right = Math.abs(this.scrollStops[current + 1]);
        let nextIndex = this.scrollStops.findIndex(stop => Math.abs(stop) + this.width > right);
        if (nextIndex >= current || nextIndex === -1) {
            nextIndex = current > 0 ? current - 1 : 0;
        }
        this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);
    }
    /**
     * Scrolls items to the right
     * @public
     */
    scrollToNext() {
        this.validateStops();
        const scrollPosition = this.scrollContainer.scrollLeft;
        const current = this.scrollStops.findIndex(stop => Math.abs(stop) >= Math.abs(scrollPosition));
        const outOfView = this.scrollStops.findIndex(stop => Math.abs(scrollPosition) + this.width <= Math.abs(stop));
        let nextIndex = current;
        if (outOfView > current + 2) {
            nextIndex = outOfView - 2;
        }
        else if (current < this.scrollStops.length - 2) {
            nextIndex = current + 1;
        }
        this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);
    }
    /**
     * Handles scrolling with easing
     * @param position - starting position
     * @param newPosition - position to scroll to
     * @public
     */
    scrollToPosition(newPosition, position = this.scrollContainer.scrollLeft) {
        var _a;
        if (this.scrolling) {
            return;
        }
        this.scrolling = true;
        const seconds = (_a = this.duration) !== null && _a !== void 0 ? _a : `${Math.abs(newPosition - position) / this.speed}s`;
        this.content.style.setProperty("transition-duration", seconds);
        const computedDuration = parseFloat(getComputedStyle(this.content).getPropertyValue("transition-duration"));
        const transitionendHandler = (e) => {
            if (e && e.target !== e.currentTarget) {
                return;
            }
            this.content.style.setProperty("transition-duration", "0s");
            this.content.style.removeProperty("transform");
            this.scrollContainer.style.setProperty("scroll-behavior", "auto");
            this.scrollContainer.scrollLeft = newPosition;
            this.setFlippers();
            this.content.removeEventListener("transitionend", transitionendHandler);
            this.scrolling = false;
        };
        if (computedDuration === 0) {
            transitionendHandler();
            return;
        }
        this.content.addEventListener("transitionend", transitionendHandler);
        const maxScrollValue = this.scrollContainer.scrollWidth - this.scrollContainer.clientWidth;
        let transitionStop = this.scrollContainer.scrollLeft - Math.min(newPosition, maxScrollValue);
        if (this.isRtl) {
            transitionStop =
                this.scrollContainer.scrollLeft +
                    Math.min(Math.abs(newPosition), maxScrollValue);
        }
        this.content.style.setProperty("transition-property", "transform");
        this.content.style.setProperty("transition-timing-function", this.easing);
        this.content.style.setProperty("transform", `translateX(${transitionStop}px)`);
    }
    /**
     * Monitors resize event on the horizontal-scroll element
     * @public
     */
    resized() {
        if (this.resizeTimeout) {
            this.resizeTimeout = clearTimeout(this.resizeTimeout);
        }
        this.resizeTimeout = setTimeout(() => {
            this.width = this.scrollContainer.offsetWidth;
            this.setFlippers();
        }, this.frameTime);
    }
    /**
     * Monitors scrolled event on the content container
     * @public
     */
    scrolled() {
        if (this.scrollTimeout) {
            this.scrollTimeout = clearTimeout(this.scrollTimeout);
        }
        this.scrollTimeout = setTimeout(() => {
            this.setFlippers();
        }, this.frameTime);
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.nullableNumberConverter })
], FASTHorizontalScroll.prototype, "speed", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTHorizontalScroll.prototype, "duration", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTHorizontalScroll.prototype, "easing", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "flippers-hidden-from-at", converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.booleanConverter })
], FASTHorizontalScroll.prototype, "flippersHiddenFromAT", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTHorizontalScroll.prototype, "scrolling", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTHorizontalScroll.prototype, "scrollItems", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "view" })
], FASTHorizontalScroll.prototype, "view", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_0__.applyMixins)(FASTHorizontalScroll, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.StartEnd);


/***/ }),

/***/ "./src/horizontal-scroll/stories/horizontal-scroll.register.ts":
/*!*********************************************************************!*\
  !*** ./src/horizontal-scroll/stories/horizontal-scroll.register.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _horizontal_scroll_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../horizontal-scroll.js */ "./src/horizontal-scroll/horizontal-scroll.ts");
/* harmony import */ var _horizontal_scroll_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../horizontal-scroll.template.js */ "./src/horizontal-scroll/horizontal-scroll.template.ts");



const ActionsStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    .scroll-area {
        position: relative;
    }

    div.scroll-view {
        overflow-x: hidden;
    }

    .scroll {
        bottom: 0;
        pointer-events: none;
        position: absolute;
        right: 0;
        top: 0;
        user-select: none;
        width: 100px;
    }

    .scroll.disabled {
        display: none;
    }

    .scroll::before,
    .scroll-action {
        left: 0;
        position: absolute;
    }

    .scroll::before {
        background: linear-gradient(to right, var(--scroll-fade-previous), transparent);
        content: "";
        display: block;
        height: 100%;
        width: 100%;
    }

    .scroll-action {
        pointer-events: auto;
        right: auto;
        top: 50%;
        transform: translate(-50%, -50%);
    }

    .scroll-prev {
        right: auto;
        left: 0;
    }
    .scroll.scroll-next::before,
    .scroll-next .scroll-action {
        left: auto;
        right: 0;
    }
    .scroll.scroll-next::before {
        background: linear-gradient(to right, transparent, var(--scroll-fade-next));
    }
    .scroll-next .scroll-action {
        transform: translate(50%, -50%);
    }
`;
const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        --scroll-align: center;
        --scroll-item-spacing: 5px;
        contain: layout;
        display: block;
        position: relative;
    }

    .scroll-view {
        overflow-x: auto;
        scrollbar-width: none;
    }

    ::-webkit-scrollbar {
        display: none;
    }

    .content-container {
        align-items: var(--scroll-align);
        display: inline-flex;
        flex-wrap: nowrap;
        position: relative;
    }

    .content-container ::slotted(*) {
        margin-right: var(--scroll-item-spacing);
    }

    .content-container ::slotted(*:last-child) {
        margin-right: 0;
    }
`;
class HorizontalScroll extends _horizontal_scroll_js__WEBPACK_IMPORTED_MODULE_0__.FASTHorizontalScroll {
    /**
     * @public
     */
    connectedCallback() {
        super.connectedCallback();
        if (this.view !== "mobile") {
            this.$fastController.addStyles(ActionsStyles);
        }
    }
}
HorizontalScroll.define({
    name: "fast-horizontal-scroll",
    template: (0,_horizontal_scroll_template_js__WEBPACK_IMPORTED_MODULE_1__.horizontalScrollTemplate)({
        nextFlipper: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <fast-flipper
                @click="${x => x.scrollToNext()}"
                aria-hidden="${x => x.flippersHiddenFromAT}"
            ></fast-flipper>
        `,
        previousFlipper: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <fast-flipper
                @click="${x => x.scrollToPrevious()}"
                direction="previous"
                aria-hidden="${x => x.flippersHiddenFromAT}"
            ></fast-flipper>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/horizontal-scroll/stories/horizontal-scroll.stories.ts":
/*!********************************************************************!*\
  !*** ./src/horizontal-scroll/stories/horizontal-scroll.stories.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HorizontalScroll": () => (/* binding */ HorizontalScroll),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _card_stories_card_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../card/stories/card.stories.js */ "./src/card/stories/card.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _horizontal_scroll_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../horizontal-scroll.options.js */ "./src/horizontal-scroll/horizontal-scroll.options.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fast-horizontal-scroll
        speed="${x => x.speed}"
        duration="${x => x.duration}"
        easing="${x => x.easing}"
        flippers-hidden-from-at="${x => x.flippersHiddenFromAT}"
        view="${x => x.view}"
    >
        ${x => x.storyContent}
    </fast-horizontal-scroll>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Horizontal Scroll",
    args: {
        flippersHiddenFromAT: false,
        storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _card_stories_card_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        `,
        storyItems: new Array(16).fill(null).map((_, i) => ({
            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                <div>Card ${i + 1}</div>
                <fast-button>button</fast-button>
            `,
        })),
    },
    argTypes: {
        duration: { control: "text" },
        flippersHiddenFromAT: { control: "boolean" },
        easing: { control: "text", options: Object.values(_horizontal_scroll_options_js__WEBPACK_IMPORTED_MODULE_2__.ScrollEasing) },
        speed: { control: { type: "number", min: 0 } },
        storyContent: { table: { disable: true } },
        storyItems: { table: { disable: true } },
        view: { control: "radio", options: Object.values(_horizontal_scroll_options_js__WEBPACK_IMPORTED_MODULE_2__.HorizontalScrollView) },
    },
    decorators: [
        Story => {
            const renderedStory = Story();
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Updates.enqueue(() => {
                renderedStory.$fastController.addStyles(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.css `
                    ::slotted(fast-card) {
                        color: var(--neutral-foreground-rest);
                        height: 200px;
                        width: 120px;
                    }

                    :host {
                        max-width: 620px;
                        margin: 20px;
                    }
                `);
            });
            return renderedStory;
        },
    ],
});
const HorizontalScroll = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/listbox-option/listbox-option.template.ts":
/*!*******************************************************!*\
  !*** ./src/listbox-option/listbox-option.template.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "listboxOptionTemplate": () => (/* binding */ listboxOptionTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTListboxOption:class)} component.
 * @public
 */
function listboxOptionTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            aria-checked="${x => x.ariaChecked}"
            aria-disabled="${x => x.ariaDisabled}"
            aria-posinset="${x => x.ariaPosInSet}"
            aria-selected="${x => x.ariaSelected}"
            aria-setsize="${x => x.ariaSetSize}"
            role="option"
        >
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
            <span class="content" part="content">
                <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)("content")}></slot>
            </span>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        </template>
    `;
}


/***/ }),

/***/ "./src/listbox-option/listbox-option.ts":
/*!**********************************************!*\
  !*** ./src/listbox-option/listbox-option.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIAListboxOption": () => (/* binding */ DelegatesARIAListboxOption),
/* harmony export */   "FASTListboxOption": () => (/* binding */ FASTListboxOption),
/* harmony export */   "isListboxOption": () => (/* binding */ isListboxOption)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/dom.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");





/**
 * Determines if the element is a {@link (FASTListboxOption:class)}
 *
 * @param element - the element to test.
 * @public
 */
function isListboxOption(el) {
    return ((0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(el) &&
        (el.getAttribute("role") === "option" ||
            el instanceof HTMLOptionElement));
}
/**
 * An Option Custom HTML Element.
 * Implements {@link https://www.w3.org/TR/wai-aria-1.1/#option | ARIA option }.
 *
 * @slot start - Content which can be provided before the listbox option content
 * @slot end - Content which can be provided after the listbox option content
 * @slot - The default slot for listbox option content
 * @csspart content - Wraps the listbox option content
 *
 * @public
 */
class FASTListboxOption extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    /**
     * Updates the ariaChecked property when the checked property changes.
     *
     * @param prev - the previous checked value
     * @param next - the current checked value
     *
     * @public
     */
    checkedChanged(prev, next) {
        if (typeof next === "boolean") {
            this.ariaChecked = next ? "true" : "false";
            return;
        }
        this.ariaChecked = null;
    }
    /**
     * Updates the proxy's text content when the default slot changes.
     * @param prev - the previous content value
     * @param next - the current content value
     *
     * @internal
     */
    contentChanged(prev, next) {
        if (this.proxy instanceof HTMLOptionElement) {
            this.proxy.textContent = this.textContent;
        }
        this.$emit("contentchange", null, { bubbles: true });
    }
    defaultSelectedChanged() {
        if (!this.dirtySelected) {
            this.selected = this.defaultSelected;
            if (this.proxy instanceof HTMLOptionElement) {
                this.proxy.selected = this.defaultSelected;
            }
        }
    }
    disabledChanged(prev, next) {
        this.ariaDisabled = this.disabled ? "true" : "false";
        if (this.proxy instanceof HTMLOptionElement) {
            this.proxy.disabled = this.disabled;
        }
    }
    selectedAttributeChanged() {
        this.defaultSelected = this.selectedAttribute;
        if (this.proxy instanceof HTMLOptionElement) {
            this.proxy.defaultSelected = this.defaultSelected;
        }
    }
    selectedChanged() {
        this.ariaSelected = this.selected ? "true" : "false";
        if (!this.dirtySelected) {
            this.dirtySelected = true;
        }
        if (this.proxy instanceof HTMLOptionElement) {
            this.proxy.selected = this.selected;
        }
    }
    initialValueChanged(previous, next) {
        // If the value is clean and the component is connected to the DOM
        // then set value equal to the attribute value.
        if (!this.dirtyValue) {
            this.value = this.initialValue;
            this.dirtyValue = false;
        }
    }
    get label() {
        var _a;
        return (_a = this.value) !== null && _a !== void 0 ? _a : this.text;
    }
    get text() {
        var _a, _b;
        return (_b = (_a = this.textContent) === null || _a === void 0 ? void 0 : _a.replace(/\s+/g, " ").trim()) !== null && _b !== void 0 ? _b : "";
    }
    set value(next) {
        const newValue = `${next !== null && next !== void 0 ? next : ""}`;
        this._value = newValue;
        this.dirtyValue = true;
        if (this.proxy instanceof HTMLOptionElement) {
            this.proxy.value = newValue;
        }
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Observable.notify(this, "value");
    }
    get value() {
        var _a;
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Observable.track(this, "value");
        return (_a = this._value) !== null && _a !== void 0 ? _a : this.text;
    }
    get form() {
        return this.proxy ? this.proxy.form : null;
    }
    constructor(text, value, defaultSelected, selected) {
        super();
        /**
         * The defaultSelected state of the option.
         * @public
         */
        this.defaultSelected = false;
        /**
         * Tracks whether the "selected" property has been changed.
         * @internal
         */
        this.dirtySelected = false;
        /**
         * The checked state of the control.
         *
         * @public
         */
        this.selected = this.defaultSelected;
        /**
         * Track whether the value has been changed from the initial value
         */
        this.dirtyValue = false;
        if (text) {
            this.textContent = text;
        }
        if (value) {
            this.initialValue = value;
        }
        if (defaultSelected) {
            this.defaultSelected = defaultSelected;
        }
        if (selected) {
            this.selected = selected;
        }
        this.proxy = new Option(`${this.textContent}`, this.initialValue, this.defaultSelected, this.selected);
        this.proxy.disabled = this.disabled;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListboxOption.prototype, "checked", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListboxOption.prototype, "content", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListboxOption.prototype, "defaultSelected", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ mode: "boolean" })
], FASTListboxOption.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "selected", mode: "boolean" })
], FASTListboxOption.prototype, "selectedAttribute", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListboxOption.prototype, "selected", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "value", mode: "fromView" })
], FASTListboxOption.prototype, "initialValue", void 0);
/**
 * States and properties relating to the ARIA `option` role.
 *
 * @public
 */
class DelegatesARIAListboxOption {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListboxOption.prototype, "ariaChecked", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListboxOption.prototype, "ariaPosInSet", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListboxOption.prototype, "ariaSelected", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListboxOption.prototype, "ariaSetSize", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(DelegatesARIAListboxOption, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.ARIAGlobalStatesAndProperties);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTListboxOption, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd, DelegatesARIAListboxOption);


/***/ }),

/***/ "./src/listbox-option/stories/listbox-option.register.ts":
/*!***************************************************************!*\
  !*** ./src/listbox-option/stories/listbox-option.register.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _listbox_option_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../listbox-option.js */ "./src/listbox-option/listbox-option.ts");
/* harmony import */ var _listbox_option_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../listbox-option.template.js */ "./src/listbox-option/listbox-option.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        align-items: center;
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--focus-stroke-width) * 1px) solid var(--neutral-layer-floating);
        box-sizing: border-box;
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        display: inline-flex;
        fill: currentcolor;
        flex: 0 0 auto;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        line-height: var(--type-ramp-base-line-height);
        margin: 0 calc((var(--design-unit) - var(--focus-stroke-width)) * 1px);
        outline: none;
        overflow: hidden;
        padding: 0 1ch;
        user-select: none;
        white-space: nowrap;
    }

    :host([hidden]) {
        display: none;
    }

    :host(:focus-visible) {
        background: var(--accent-fill-focus);
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc(var(--focus-stroke-width) * 1px) inset
            var(--focus-stroke-inner);
        color: var(--foreground-on-accent-focus);
    }

    :host([aria-selected="true"]) {
        background: var(--accent-fill-rest);
        color: var(--foreground-on-accent-rest);
    }

    :host(:hover) {
        background: var(--accent-fill-hover);
        color: var(--foreground-on-accent-hover);
    }

    :host(:active) {
        background: var(--accent-fill-active);
        color: var(--foreground-on-accent-active);
    }

    :host(:not([aria-selected="true"]):hover),
    :host(:not([aria-selected="true"]):active) {
        background: var(--neutral-fill-hover);
        color: var(--neutral-foreground-rest);
    }

    :host([disabled]) {
        cursor: not-allowed;
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        background-color: inherit;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }

    :host([aria-checked="true"][aria-selected="false"]) {
        border-color: var(--neutral-stroke-rest);
        background: var(--neutral-layer-3);
        color: var(--neutral-foreground-rest);
    }

    :host([aria-checked="true"][aria-selected="false"]:not([disabled]):hover) {
        background: var(--neutral-fill-hover);
    }

    :host([aria-checked="true"][aria-selected="true"]) {
        border-color: var(--focus-stroke-outer);
        background: var(--accent-fill-focus);
        color: var(--foreground-on-accent-focus);
    }

    :host([aria-checked="true"][aria-selected="true"]:hover) {
        background: var(--accent-fill-hover);
        color: var(--foreground-on-accent-hover);
    }
`;
_listbox_option_js__WEBPACK_IMPORTED_MODULE_0__.FASTListboxOption.define({
    name: "fast-option",
    template: (0,_listbox_option_template_js__WEBPACK_IMPORTED_MODULE_1__.listboxOptionTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/listbox-option/stories/listbox-option.stories.ts":
/*!**************************************************************!*\
  !*** ./src/listbox-option/stories/listbox-option.stories.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ListboxOption": () => (/* binding */ ListboxOption),
/* harmony export */   "ListboxOptionWithSlottedStartEnd": () => (/* binding */ ListboxOptionWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-option
        ?disabled="${x => x.disabled}"
        ?selected="${x => x.selected}"
        id="${x => x.id}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-option>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Listbox Option",
    excludeStories: ["storyTemplate"],
    args: {
        selected: false,
        disabled: false,
        storyContent: "Listbox option",
        value: "listbox-value",
    },
    argTypes: {
        disabled: { control: "boolean" },
        selected: { control: "boolean" },
        value: { control: "text" },
        ariaChecked: { control: "text" },
        ariaPosInSet: { control: "text" },
        ariaSelected: { control: "text" },
        ariaSetSize: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const ListboxOption = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const ListboxOptionWithSlottedStartEnd = ListboxOption.bind({});
ListboxOptionWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Listbox option
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};


/***/ }),

/***/ "./src/listbox/listbox.element.ts":
/*!****************************************!*\
  !*** ./src/listbox/listbox.element.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTListboxElement": () => (/* binding */ FASTListboxElement)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/numbers.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _listbox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./listbox.js */ "./src/listbox/listbox.ts");




/**
 * A Listbox Custom HTML Element.
 * Implements the {@link https://w3c.github.io/aria/#listbox | ARIA listbox }.
 *
 * @public
 */
class FASTListboxElement extends _listbox_js__WEBPACK_IMPORTED_MODULE_0__.FASTListbox {
    constructor() {
        super(...arguments);
        /**
         * The index of the most recently checked option.
         *
         * @internal
         * @remarks
         * Multiple-selection mode only.
         */
        this.activeIndex = -1;
        /**
         * The start index when checking a range of options.
         *
         * @internal
         */
        this.rangeStartIndex = -1;
    }
    /**
     * Returns the last checked option.
     *
     * @internal
     */
    get activeOption() {
        return this.options[this.activeIndex];
    }
    /**
     * Returns the list of checked options.
     *
     * @internal
     */
    get checkedOptions() {
        var _a;
        return (_a = this.options) === null || _a === void 0 ? void 0 : _a.filter(o => o.checked);
    }
    /**
     * Returns the index of the first selected option.
     *
     * @internal
     */
    get firstSelectedOptionIndex() {
        return this.options.indexOf(this.firstSelectedOption);
    }
    /**
     * Updates the `ariaActiveDescendant` property when the active index changes.
     *
     * @param prev - the previous active index
     * @param next - the next active index
     *
     * @internal
     */
    activeIndexChanged(prev, next) {
        var _a, _b;
        this.ariaActiveDescendant = (_b = (_a = this.options[next]) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : "";
        this.focusAndScrollOptionIntoView();
    }
    /**
     * Toggles the checked state for the currently active option.
     *
     * @remarks
     * Multiple-selection mode only.
     *
     * @internal
     */
    checkActiveIndex() {
        if (!this.multiple) {
            return;
        }
        const activeItem = this.activeOption;
        if (activeItem) {
            activeItem.checked = true;
        }
    }
    /**
     * Sets the active index to the first option and marks it as checked.
     *
     * @remarks
     * Multi-selection mode only.
     *
     * @param preserveChecked - mark all options unchecked before changing the active index
     *
     * @internal
     */
    checkFirstOption(preserveChecked = false) {
        if (preserveChecked) {
            if (this.rangeStartIndex === -1) {
                this.rangeStartIndex = this.activeIndex + 1;
            }
            this.options.forEach((o, i) => {
                o.checked = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.inRange)(i, this.rangeStartIndex);
            });
        }
        else {
            this.uncheckAllOptions();
        }
        this.activeIndex = 0;
        this.checkActiveIndex();
    }
    /**
     * Decrements the active index and sets the matching option as checked.
     *
     * @remarks
     * Multi-selection mode only.
     *
     * @param preserveChecked - mark all options unchecked before changing the active index
     *
     * @internal
     */
    checkLastOption(preserveChecked = false) {
        if (preserveChecked) {
            if (this.rangeStartIndex === -1) {
                this.rangeStartIndex = this.activeIndex;
            }
            this.options.forEach((o, i) => {
                o.checked = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.inRange)(i, this.rangeStartIndex, this.options.length);
            });
        }
        else {
            this.uncheckAllOptions();
        }
        this.activeIndex = this.options.length - 1;
        this.checkActiveIndex();
    }
    /**
     * @override
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.addEventListener("focusout", this.focusoutHandler);
    }
    /**
     * @override
     * @internal
     */
    disconnectedCallback() {
        this.removeEventListener("focusout", this.focusoutHandler);
        super.disconnectedCallback();
    }
    /**
     * Increments the active index and marks the matching option as checked.
     *
     * @remarks
     * Multiple-selection mode only.
     *
     * @param preserveChecked - mark all options unchecked before changing the active index
     *
     * @internal
     */
    checkNextOption(preserveChecked = false) {
        if (preserveChecked) {
            if (this.rangeStartIndex === -1) {
                this.rangeStartIndex = this.activeIndex;
            }
            this.options.forEach((o, i) => {
                o.checked = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.inRange)(i, this.rangeStartIndex, this.activeIndex + 1);
            });
        }
        else {
            this.uncheckAllOptions();
        }
        this.activeIndex += this.activeIndex < this.options.length - 1 ? 1 : 0;
        this.checkActiveIndex();
    }
    /**
     * Decrements the active index and marks the matching option as checked.
     *
     * @remarks
     * Multiple-selection mode only.
     *
     * @param preserveChecked - mark all options unchecked before changing the active index
     *
     * @internal
     */
    checkPreviousOption(preserveChecked = false) {
        if (preserveChecked) {
            if (this.rangeStartIndex === -1) {
                this.rangeStartIndex = this.activeIndex;
            }
            if (this.checkedOptions.length === 1) {
                this.rangeStartIndex += 1;
            }
            this.options.forEach((o, i) => {
                o.checked = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.inRange)(i, this.activeIndex, this.rangeStartIndex);
            });
        }
        else {
            this.uncheckAllOptions();
        }
        this.activeIndex -= this.activeIndex > 0 ? 1 : 0;
        this.checkActiveIndex();
    }
    /**
     * Handles click events for listbox options.
     *
     * @param e - the event object
     *
     * @override
     * @internal
     */
    clickHandler(e) {
        var _a;
        if (!this.multiple) {
            return super.clickHandler(e);
        }
        const captured = (_a = e.target) === null || _a === void 0 ? void 0 : _a.closest(`[role=option]`);
        if (!captured || captured.disabled) {
            return;
        }
        this.uncheckAllOptions();
        this.activeIndex = this.options.indexOf(captured);
        this.checkActiveIndex();
        this.toggleSelectedForAllCheckedOptions();
        return true;
    }
    /**
     * @override
     * @internal
     */
    focusAndScrollOptionIntoView() {
        super.focusAndScrollOptionIntoView(this.activeOption);
    }
    /**
     * In multiple-selection mode:
     * If any options are selected, the first selected option is checked when
     * the listbox receives focus. If no options are selected, the first
     * selectable option is checked.
     *
     * @override
     * @internal
     */
    focusinHandler(e) {
        if (!this.multiple) {
            return super.focusinHandler(e);
        }
        if (!this.shouldSkipFocus && e.target === e.currentTarget) {
            this.uncheckAllOptions();
            if (this.activeIndex === -1) {
                this.activeIndex =
                    this.firstSelectedOptionIndex !== -1
                        ? this.firstSelectedOptionIndex
                        : 0;
            }
            this.checkActiveIndex();
            this.setSelectedOptions();
            this.focusAndScrollOptionIntoView();
        }
        this.shouldSkipFocus = false;
    }
    /**
     * Unchecks all options when the listbox loses focus.
     *
     * @internal
     */
    focusoutHandler(e) {
        if (this.multiple) {
            this.uncheckAllOptions();
        }
    }
    /**
     * Handles keydown actions for listbox navigation and typeahead
     *
     * @override
     * @internal
     */
    keydownHandler(e) {
        if (!this.multiple) {
            return super.keydownHandler(e);
        }
        if (this.disabled) {
            return true;
        }
        const { key, shiftKey } = e;
        this.shouldSkipFocus = false;
        switch (key) {
            // Select the first available option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyHome: {
                this.checkFirstOption(shiftKey);
                return;
            }
            // Select the next selectable option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyArrowDown: {
                this.checkNextOption(shiftKey);
                return;
            }
            // Select the previous selectable option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyArrowUp: {
                this.checkPreviousOption(shiftKey);
                return;
            }
            // Select the last available option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyEnd: {
                this.checkLastOption(shiftKey);
                return;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyTab: {
                this.focusAndScrollOptionIntoView();
                return true;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyEscape: {
                this.uncheckAllOptions();
                this.checkActiveIndex();
                return true;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keySpace: {
                e.preventDefault();
                if (this.typeAheadExpired) {
                    this.toggleSelectedForAllCheckedOptions();
                    return;
                }
            }
            // Send key to Typeahead handler
            default: {
                if (key.length === 1) {
                    this.handleTypeAhead(`${key}`);
                }
                return true;
            }
        }
    }
    /**
     * Prevents `focusin` events from firing before `click` events when the
     * element is unfocused.
     *
     * @override
     * @internal
     */
    mousedownHandler(e) {
        if (e.offsetX >= 0 && e.offsetX <= this.scrollWidth) {
            return super.mousedownHandler(e);
        }
    }
    /**
     * Switches between single-selection and multi-selection mode.
     *
     * @internal
     */
    multipleChanged(prev, next) {
        var _a;
        this.ariaMultiSelectable = next ? "true" : null;
        (_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach(o => {
            o.checked = next ? false : undefined;
        });
        this.setSelectedOptions();
    }
    /**
     * Sets an option as selected and gives it focus.
     *
     * @override
     * @public
     */
    setSelectedOptions() {
        if (!this.multiple) {
            super.setSelectedOptions();
            return;
        }
        if (this.$fastController.isConnected && this.options) {
            this.selectedOptions = this.options.filter(o => o.selected);
            this.focusAndScrollOptionIntoView();
        }
    }
    /**
     * Ensures the size is a positive integer when the property is updated.
     *
     * @param prev - the previous size value
     * @param next - the current size value
     *
     * @internal
     */
    sizeChanged(prev, next) {
        var _a;
        const size = Math.max(0, parseInt((_a = next === null || next === void 0 ? void 0 : next.toFixed()) !== null && _a !== void 0 ? _a : "", 10));
        if (size !== next) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Updates.enqueue(() => {
                this.size = size;
            });
        }
    }
    /**
     * Toggles the selected state of the provided options. If any provided items
     * are in an unselected state, all items are set to selected. If every
     * provided item is selected, they are all unselected.
     *
     * @internal
     */
    toggleSelectedForAllCheckedOptions() {
        const enabledCheckedOptions = this.checkedOptions.filter(o => !o.disabled);
        const force = !enabledCheckedOptions.every(o => o.selected);
        enabledCheckedOptions.forEach(o => (o.selected = force));
        this.selectedIndex = this.options.indexOf(enabledCheckedOptions[enabledCheckedOptions.length - 1]);
        this.setSelectedOptions();
    }
    /**
     * @override
     * @internal
     */
    typeaheadBufferChanged(prev, next) {
        if (!this.multiple) {
            super.typeaheadBufferChanged(prev, next);
            return;
        }
        if (this.$fastController.isConnected) {
            const typeaheadMatches = this.getTypeaheadMatches();
            const activeIndex = this.options.indexOf(typeaheadMatches[0]);
            if (activeIndex > -1) {
                this.activeIndex = activeIndex;
                this.uncheckAllOptions();
                this.checkActiveIndex();
            }
            this.typeAheadExpired = false;
        }
    }
    /**
     * Unchecks all options.
     *
     * @remarks
     * Multiple-selection mode only.
     *
     * @param preserveChecked - reset the rangeStartIndex
     *
     * @internal
     */
    uncheckAllOptions(preserveChecked = false) {
        this.options.forEach(o => (o.checked = this.multiple ? false : undefined));
        if (!preserveChecked) {
            this.rangeStartIndex = -1;
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.observable
], FASTListboxElement.prototype, "activeIndex", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ mode: "boolean" })
], FASTListboxElement.prototype, "multiple", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.nullableNumberConverter })
], FASTListboxElement.prototype, "size", void 0);


/***/ }),

/***/ "./src/listbox/listbox.template.ts":
/*!*****************************************!*\
  !*** ./src/listbox/listbox.template.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "listboxTemplate": () => (/* binding */ listboxTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _listbox_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./listbox.element.js */ "./src/listbox/listbox.element.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTListbox:class)} component.
 * @public
 */
function listboxTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            aria-activedescendant="${x => x.ariaActiveDescendant}"
            aria-multiselectable="${x => x.ariaMultiSelectable}"
            role="listbox"
            tabindex="${x => (!x.disabled ? "0" : null)}"
            @click="${(x, c) => x.clickHandler(c.event)}"
            @focusin="${(x, c) => x.focusinHandler(c.event)}"
            @keydown="${(x, c) => x.keydownHandler(c.event)}"
            @mousedown="${(x, c) => x.mousedownHandler(c.event)}"
        >
            <slot
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)({
        filter: _listbox_element_js__WEBPACK_IMPORTED_MODULE_0__.FASTListboxElement.slottedOptionFilter,
        flatten: true,
        property: "slottedOptions",
    })}
            ></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/listbox/listbox.ts":
/*!********************************!*\
  !*** ./src/listbox/listbox.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIAListbox": () => (/* binding */ DelegatesARIAListbox),
/* harmony export */   "FASTListbox": () => (/* binding */ FASTListbox)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/array.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _listbox_option_listbox_option_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../listbox-option/listbox-option.js */ "./src/listbox-option/listbox-option.ts");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");






/**
 * A Listbox Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#listbox | ARIA listbox }.
 *
 * @slot - The default slot for the listbox options
 *
 * @public
 */
class FASTListbox extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The internal unfiltered list of selectable options.
         *
         * @internal
         */
        this._options = [];
        /**
         * The index of the selected option.
         *
         * @public
         */
        this.selectedIndex = -1;
        /**
         * A collection of the selected options.
         *
         * @public
         */
        this.selectedOptions = [];
        /**
         * A standard `click` event creates a `focus` event before firing, so a
         * `mousedown` event is used to skip that initial focus.
         *
         * @internal
         */
        this.shouldSkipFocus = false;
        /**
         * The current typeahead buffer string.
         *
         * @internal
         */
        this.typeaheadBuffer = "";
        /**
         * Flag for the typeahead timeout expiration.
         *
         * @internal
         */
        this.typeaheadExpired = true;
        /**
         * The timeout ID for the typeahead handler.
         *
         * @internal
         */
        this.typeaheadTimeout = -1;
    }
    /**
     * The first selected option.
     *
     * @internal
     */
    get firstSelectedOption() {
        var _a;
        return (_a = this.selectedOptions[0]) !== null && _a !== void 0 ? _a : null;
    }
    /**
     * Returns true if there is one or more selectable option.
     *
     * @internal
     */
    get hasSelectableOptions() {
        return this.options.length > 0 && !this.options.every(o => o.disabled);
    }
    /**
     * The number of options.
     *
     * @public
     */
    get length() {
        var _a, _b;
        return (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;
    }
    /**
     * The list of options.
     *
     * @public
     */
    get options() {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Observable.track(this, "options");
        return this._options;
    }
    set options(value) {
        this._options = value;
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Observable.notify(this, "options");
    }
    /**
     * Flag for the typeahead timeout expiration.
     *
     * @deprecated use `Listbox.typeaheadExpired`
     * @internal
     */
    get typeAheadExpired() {
        return this.typeaheadExpired;
    }
    set typeAheadExpired(value) {
        this.typeaheadExpired = value;
    }
    /**
     * Handle click events for listbox options.
     *
     * @internal
     */
    clickHandler(e) {
        const captured = e.target.closest(`option,[role=option]`);
        if (captured && !captured.disabled) {
            this.selectedIndex = this.options.indexOf(captured);
            return true;
        }
    }
    /**
     * Ensures that the provided option is focused and scrolled into view.
     *
     * @param optionToFocus - The option to focus
     * @internal
     */
    focusAndScrollOptionIntoView(optionToFocus = this.firstSelectedOption) {
        // To ensure that the browser handles both `focus()` and `scrollIntoView()`, the
        // timing here needs to guarantee that they happen on different frames. Since this
        // function is typically called from the `openChanged` observer, `DOM.queueUpdate`
        // causes the calls to be grouped into the same frame. To prevent this,
        // `requestAnimationFrame` is used instead of `DOM.queueUpdate`.
        if (this.contains(document.activeElement) && optionToFocus !== null) {
            optionToFocus.focus();
            requestAnimationFrame(() => {
                optionToFocus.scrollIntoView({ block: "nearest" });
            });
        }
    }
    /**
     * Handles `focusin` actions for the component. When the component receives focus,
     * the list of selected options is refreshed and the first selected option is scrolled
     * into view.
     *
     * @internal
     */
    focusinHandler(e) {
        if (!this.shouldSkipFocus && e.target === e.currentTarget) {
            this.setSelectedOptions();
            this.focusAndScrollOptionIntoView();
        }
        this.shouldSkipFocus = false;
    }
    /**
     * Returns the options which match the current typeahead buffer.
     *
     * @internal
     */
    getTypeaheadMatches() {
        const pattern = this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g, "\\$&");
        const re = new RegExp(`^${pattern}`, "gi");
        return this.options.filter((o) => o.text.trim().match(re));
    }
    /**
     * Determines the index of the next option which is selectable, if any.
     *
     * @param prev - the previous selected index
     * @param next - the next index to select
     *
     * @internal
     */
    getSelectableIndex(prev = this.selectedIndex, next) {
        const direction = prev > next ? -1 : prev < next ? 1 : 0;
        const potentialDirection = prev + direction;
        let nextSelectableOption = null;
        switch (direction) {
            case -1: {
                nextSelectableOption = this.options.reduceRight((nextSelectableOption, thisOption, index) => !nextSelectableOption &&
                    !thisOption.disabled &&
                    index < potentialDirection
                    ? thisOption
                    : nextSelectableOption, nextSelectableOption);
                break;
            }
            case 1: {
                nextSelectableOption = this.options.reduce((nextSelectableOption, thisOption, index) => !nextSelectableOption &&
                    !thisOption.disabled &&
                    index > potentialDirection
                    ? thisOption
                    : nextSelectableOption, nextSelectableOption);
                break;
            }
        }
        return this.options.indexOf(nextSelectableOption);
    }
    /**
     * Handles external changes to child options.
     *
     * @param source - the source object
     * @param propertyName - the property
     *
     * @internal
     */
    handleChange(source, propertyName) {
        switch (propertyName) {
            case "selected": {
                if (FASTListbox.slottedOptionFilter(source)) {
                    this.selectedIndex = this.options.indexOf(source);
                }
                this.setSelectedOptions();
                break;
            }
        }
    }
    /**
     * Moves focus to an option whose label matches characters typed by the user.
     * Consecutive keystrokes are batched into a buffer of search text used
     * to match against the set of options.  If `TYPE_AHEAD_TIMEOUT_MS` passes
     * between consecutive keystrokes, the search restarts.
     *
     * @param key - the key to be evaluated
     *
     * @internal
     */
    handleTypeAhead(key) {
        if (this.typeaheadTimeout) {
            window.clearTimeout(this.typeaheadTimeout);
        }
        this.typeaheadTimeout = window.setTimeout(() => (this.typeaheadExpired = true), FASTListbox.TYPE_AHEAD_TIMEOUT_MS);
        if (key.length > 1) {
            return;
        }
        this.typeaheadBuffer = `${this.typeaheadExpired ? "" : this.typeaheadBuffer}${key}`;
    }
    /**
     * Handles `keydown` actions for listbox navigation and typeahead.
     *
     * @internal
     */
    keydownHandler(e) {
        if (this.disabled) {
            return true;
        }
        this.shouldSkipFocus = false;
        const key = e.key;
        switch (key) {
            // Select the first available option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyHome: {
                if (!e.shiftKey) {
                    e.preventDefault();
                    this.selectFirstOption();
                }
                break;
            }
            // Select the next selectable option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyArrowDown: {
                if (!e.shiftKey) {
                    e.preventDefault();
                    this.selectNextOption();
                }
                break;
            }
            // Select the previous selectable option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyArrowUp: {
                if (!e.shiftKey) {
                    e.preventDefault();
                    this.selectPreviousOption();
                }
                break;
            }
            // Select the last available option
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyEnd: {
                e.preventDefault();
                this.selectLastOption();
                break;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyTab: {
                this.focusAndScrollOptionIntoView();
                return true;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyEnter:
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyEscape: {
                return true;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keySpace: {
                if (this.typeaheadExpired) {
                    return true;
                }
            }
            // Send key to Typeahead handler
            default: {
                if (key.length === 1) {
                    this.handleTypeAhead(`${key}`);
                }
                return true;
            }
        }
    }
    /**
     * Prevents `focusin` events from firing before `click` events when the
     * element is unfocused.
     *
     * @internal
     */
    mousedownHandler(e) {
        this.shouldSkipFocus = !this.contains(document.activeElement);
        return true;
    }
    /**
     * Switches between single-selection and multi-selection mode.
     *
     * @param prev - the previous value of the `multiple` attribute
     * @param next - the next value of the `multiple` attribute
     *
     * @internal
     */
    multipleChanged(prev, next) {
        this.ariaMultiSelectable = next ? "true" : null;
    }
    /**
     * Updates the list of selected options when the `selectedIndex` changes.
     *
     * @param prev - the previous selected index value
     * @param next - the current selected index value
     *
     * @internal
     */
    selectedIndexChanged(prev, next) {
        var _a;
        if (!this.hasSelectableOptions) {
            this.selectedIndex = -1;
            return;
        }
        if (((_a = this.options[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.disabled) && typeof prev === "number") {
            const selectableIndex = this.getSelectableIndex(prev, next);
            const newNext = selectableIndex > -1 ? selectableIndex : prev;
            this.selectedIndex = newNext;
            if (next === newNext) {
                this.selectedIndexChanged(next, newNext);
            }
            return;
        }
        this.setSelectedOptions();
    }
    /**
     * Updates the selectedness of each option when the list of selected options changes.
     *
     * @param prev - the previous list of selected options
     * @param next - the current list of selected options
     *
     * @internal
     */
    selectedOptionsChanged(prev, next) {
        var _a;
        const filteredNext = next.filter(FASTListbox.slottedOptionFilter);
        (_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach(o => {
            const notifier = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Observable.getNotifier(o);
            notifier.unsubscribe(this, "selected");
            o.selected = filteredNext.includes(o);
            notifier.subscribe(this, "selected");
        });
    }
    /**
     * Moves focus to the first selectable option.
     *
     * @public
     */
    selectFirstOption() {
        var _a, _b;
        if (!this.disabled) {
            this.selectedIndex = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.findIndex(o => !o.disabled)) !== null && _b !== void 0 ? _b : -1;
        }
    }
    /**
     * Moves focus to the last selectable option.
     *
     * @internal
     */
    selectLastOption() {
        if (!this.disabled) {
            this.selectedIndex = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.findLastIndex)(this.options, o => !o.disabled);
        }
    }
    /**
     * Moves focus to the next selectable option.
     *
     * @internal
     */
    selectNextOption() {
        if (!this.disabled && this.selectedIndex < this.options.length - 1) {
            this.selectedIndex += 1;
        }
    }
    /**
     * Moves focus to the previous selectable option.
     *
     * @internal
     */
    selectPreviousOption() {
        if (!this.disabled && this.selectedIndex > 0) {
            this.selectedIndex = this.selectedIndex - 1;
        }
    }
    /**
     * Updates the selected index to match the first selected option.
     *
     * @internal
     */
    setDefaultSelectedOption() {
        var _a, _b;
        this.selectedIndex = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.findIndex(el => el.defaultSelected)) !== null && _b !== void 0 ? _b : -1;
    }
    /**
     * Sets an option as selected and gives it focus.
     *
     * @public
     */
    setSelectedOptions() {
        var _a, _b, _c;
        if ((_a = this.options) === null || _a === void 0 ? void 0 : _a.length) {
            this.selectedOptions = [this.options[this.selectedIndex]];
            this.ariaActiveDescendant = (_c = (_b = this.firstSelectedOption) === null || _b === void 0 ? void 0 : _b.id) !== null && _c !== void 0 ? _c : "";
            this.focusAndScrollOptionIntoView();
        }
    }
    /**
     * Updates the list of options and resets the selected option when the slotted option content changes.
     *
     * @param prev - the previous list of slotted options
     * @param next - the current list of slotted options
     *
     * @internal
     */
    slottedOptionsChanged(prev, next) {
        this.options = next.reduce((options, item) => {
            if ((0,_listbox_option_listbox_option_js__WEBPACK_IMPORTED_MODULE_0__.isListboxOption)(item)) {
                options.push(item);
            }
            return options;
        }, []);
        const setSize = `${this.options.length}`;
        this.options.forEach((option, index) => {
            if (!option.id) {
                option.id = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.uniqueId)("option-");
            }
            option.ariaPosInSet = `${index + 1}`;
            option.ariaSetSize = setSize;
        });
        if (this.$fastController.isConnected) {
            this.setSelectedOptions();
            this.setDefaultSelectedOption();
        }
    }
    /**
     * Updates the filtered list of options when the typeahead buffer changes.
     *
     * @param prev - the previous typeahead buffer value
     * @param next - the current typeahead buffer value
     *
     * @internal
     */
    typeaheadBufferChanged(prev, next) {
        if (this.$fastController.isConnected) {
            const typeaheadMatches = this.getTypeaheadMatches();
            if (typeaheadMatches.length) {
                const selectedIndex = this.options.indexOf(typeaheadMatches[0]);
                if (selectedIndex > -1) {
                    this.selectedIndex = selectedIndex;
                }
            }
            this.typeaheadExpired = false;
        }
    }
}
/**
 * A static filter to include only selectable options.
 *
 * @param n - element to filter
 * @public
 */
FASTListbox.slottedOptionFilter = (n) => (0,_listbox_option_listbox_option_js__WEBPACK_IMPORTED_MODULE_0__.isListboxOption)(n) && !n.hidden;
/**
 * Typeahead timeout in milliseconds.
 *
 * @internal
 */
FASTListbox.TYPE_AHEAD_TIMEOUT_MS = 1000;
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ mode: "boolean" })
], FASTListbox.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListbox.prototype, "selectedIndex", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListbox.prototype, "selectedOptions", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListbox.prototype, "slottedOptions", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTListbox.prototype, "typeaheadBuffer", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA listbox role
 *
 * @public
 */
class DelegatesARIAListbox {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListbox.prototype, "ariaActiveDescendant", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListbox.prototype, "ariaDisabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListbox.prototype, "ariaExpanded", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], DelegatesARIAListbox.prototype, "ariaMultiSelectable", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__.applyMixins)(DelegatesARIAListbox, _patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.ARIAGlobalStatesAndProperties);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__.applyMixins)(FASTListbox, DelegatesARIAListbox);


/***/ }),

/***/ "./src/listbox/stories/listbox.register.ts":
/*!*************************************************!*\
  !*** ./src/listbox/stories/listbox.register.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _listbox_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../listbox.element.js */ "./src/listbox/listbox.element.ts");
/* harmony import */ var _listbox_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../listbox.template.js */ "./src/listbox/listbox.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        background: var(--neutral-layer-floating);
        border: calc(var(--stroke-width) * 1px) solid var(--neutral-stroke-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        box-sizing: border-box;
        display: inline-flex;
        flex-direction: column;
        padding: calc(var(--design-unit) * 1px) 0;
    }

    :host([hidden]) {
        display: none !important;
    }

    :host(:focus-within:not([disabled])) {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc((var(--focus-stroke-width) - var(--stroke-width)) * 1px)
            var(--focus-stroke-outer) inset;
    }

    :host([disabled]) ::slotted(*) {
        opacity: var(--disabled-opacity);
        cursor: not-allowed;
        pointer-events: none;
    }

    :host([size]) {
        max-height: calc(
            (
                    var(--size) * (var(--base-height-multiplier) + var(--density)) *
                        var(--design-unit) +
                        ((var(--design-unit) + var(--stroke-width)) * 2)
                ) * 1px
        );
        overflow-y: auto;
    }
`;
class Listbox extends _listbox_element_js__WEBPACK_IMPORTED_MODULE_0__.FASTListboxElement {
    sizeChanged(prev, next) {
        super.sizeChanged(prev, next);
        this.updateComputedStylesheet();
    }
    updateComputedStylesheet() {
        if (this.computedStylesheet) {
            this.$fastController.removeStyles(this.computedStylesheet);
        }
        const listboxSize = `${this.size}`;
        this.computedStylesheet = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
            :host {
                --size: ${listboxSize};
            }
        `;
        this.$fastController.addStyles(this.computedStylesheet);
    }
}
Listbox.define({
    name: "fast-listbox",
    template: (0,_listbox_template_js__WEBPACK_IMPORTED_MODULE_1__.listboxTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/listbox/stories/listbox.stories.ts":
/*!************************************************!*\
  !*** ./src/listbox/stories/listbox.stories.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Listbox": () => (/* binding */ Listbox),
/* harmony export */   "ListboxMultiple": () => (/* binding */ ListboxMultiple),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../listbox-option/stories/listbox-option.stories.js */ "./src/listbox-option/stories/listbox-option.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-listbox
        ?multiple="${x => x.multiple}"
        size="${x => x.size}"
        ?disabled="${x => x.disabled}"
    >
        ${x => x.storyContent}
    </fast-listbox>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Listbox",
    args: {
        disabled: false,
        multiple: false,
        storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.storyItems, _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        `,
        storyItems: [
            { storyContent: "William Hartnell" },
            { storyContent: "Patrick Troughton" },
            { storyContent: "Jon Pertwee" },
            { storyContent: "Tom Baker" },
            { storyContent: "Peter Davidson" },
            { storyContent: "Colin Baker" },
            { storyContent: "Sylvester McCoy" },
            { storyContent: "Paul McGann" },
            { storyContent: "Christopher Eccleston" },
            { storyContent: "David Tenant" },
            { storyContent: "Matt Smith" },
            { storyContent: "Peter Capaldi" },
            { storyContent: "Jodie Whittaker" },
            { storyContent: "Ncuti Gatwa" },
        ],
    },
    argTypes: {
        disabled: { control: "boolean" },
        multiple: { control: "boolean" },
        size: { control: "number" },
        storyContent: { table: { disable: true } },
        storyItems: { table: { disable: true } },
    },
});
const Listbox = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(storyTemplate).bind({});
const ListboxMultiple = Listbox.bind({});
ListboxMultiple.storyName = "Listbox in multiple-selection mode";
ListboxMultiple.args = {
    multiple: true,
};


/***/ }),

/***/ "./src/menu-item/index.ts":
/*!********************************!*\
  !*** ./src/menu-item/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTMenuItem": () => (/* reexport safe */ _menu_item_js__WEBPACK_IMPORTED_MODULE_1__.FASTMenuItem),
/* harmony export */   "MenuItemRole": () => (/* reexport safe */ _menu_item_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole),
/* harmony export */   "menuItemTemplate": () => (/* reexport safe */ _menu_item_template_js__WEBPACK_IMPORTED_MODULE_0__.menuItemTemplate),
/* harmony export */   "roleForMenuItem": () => (/* reexport safe */ _menu_item_js__WEBPACK_IMPORTED_MODULE_1__.roleForMenuItem)
/* harmony export */ });
/* harmony import */ var _menu_item_template_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu-item.template.js */ "./src/menu-item/menu-item.template.ts");
/* harmony import */ var _menu_item_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./menu-item.js */ "./src/menu-item/menu-item.ts");




/***/ }),

/***/ "./src/menu-item/menu-item.options.ts":
/*!********************************************!*\
  !*** ./src/menu-item/menu-item.options.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MenuItemRole": () => (/* binding */ MenuItemRole),
/* harmony export */   "roleForMenuItem": () => (/* binding */ roleForMenuItem)
/* harmony export */ });
/**
 * Menu items roles.
 * @public
 */
const MenuItemRole = {
    /**
     * The menu item has a "menuitem" role
     */
    menuitem: "menuitem",
    /**
     * The menu item has a "menuitemcheckbox" role
     */
    menuitemcheckbox: "menuitemcheckbox",
    /**
     * The menu item has a "menuitemradio" role
     */
    menuitemradio: "menuitemradio",
};
/**
 * @internal
 */
const roleForMenuItem = {
    [MenuItemRole.menuitem]: "menuitem",
    [MenuItemRole.menuitemcheckbox]: "menuitemcheckbox",
    [MenuItemRole.menuitemradio]: "menuitemradio",
};


/***/ }),

/***/ "./src/menu-item/menu-item.template.ts":
/*!*********************************************!*\
  !*** ./src/menu-item/menu-item.template.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "menuItemTemplate": () => (/* binding */ menuItemTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./menu-item.options.js */ "./src/menu-item/menu-item.options.ts");




/**
 * Generates a template for the {@link @microsoft/fast-foundation#(FASTMenuItem:class)} component using
 * the provided prefix.
 *
 * @public
 */
function menuItemTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <template
        aria-haspopup="${x => (x.hasSubmenu ? "menu" : void 0)}"
        aria-checked="${x => (x.role !== _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole.menuitem ? x.checked : void 0)}"
        aria-disabled="${x => x.disabled}"
        aria-expanded="${x => x.expanded}"
        @keydown="${(x, c) => x.handleMenuItemKeyDown(c.event)}"
        @click="${(x, c) => x.handleMenuItemClick(c.event)}"
        @mouseover="${(x, c) => x.handleMouseOver(c.event)}"
        @mouseout="${(x, c) => x.handleMouseOut(c.event)}"
    >
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.when)(x => x.role === _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole.menuitemcheckbox, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                    <div part="input-container" class="input-container">
                        <span part="checkbox" class="checkbox">
                            <slot name="checkbox-indicator">
                                ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.checkboxIndicator)}
                            </slot>
                        </span>
                    </div>
                `)}
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.when)(x => x.role === _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole.menuitemradio, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                    <div part="input-container" class="input-container">
                        <span part="radio" class="radio">
                            <slot name="radio-indicator">
                                ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.radioIndicator)}
                            </slot>
                        </span>
                    </div>
                `)}
        </div>
        ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.startSlotTemplate)(options)}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.endSlotTemplate)(options)}
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.when)(x => x.hasSubmenu, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                <div
                    part="expand-collapse-glyph-container"
                    class="expand-collapse-glyph-container"
                >
                    <span part="expand-collapse" class="expand-collapse">
                        <slot name="expand-collapse-indicator">
                            ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.expandCollapseGlyph)}
                        </slot>
                    </span>
                </div>
            `)}
        <span
            ?hidden="${x => !x.expanded}"
            class="submenu-container"
            part="submenu-container"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.ref)("submenuContainer")}
        >
            <slot name="submenu" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.slotted)({
        property: "slottedSubmenu",
        filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.elements)("[role='menu']"),
    })}></slot>
        </span>
    </template>
    `;
}


/***/ }),

/***/ "./src/menu-item/menu-item.ts":
/*!************************************!*\
  !*** ./src/menu-item/menu-item.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTMenuItem": () => (/* binding */ FASTMenuItem),
/* harmony export */   "MenuItemRole": () => (/* reexport safe */ _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole),
/* harmony export */   "roleForMenuItem": () => (/* reexport safe */ _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.roleForMenuItem)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.mjs");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/core/dist/floating-ui.core.browser.mjs");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./menu-item.options.js */ "./src/menu-item/menu-item.options.ts");








/**
 * A Switch Custom HTML Element.
 * Implements {@link https://www.w3.org/TR/wai-aria-1.1/#menuitem | ARIA menuitem }, {@link https://www.w3.org/TR/wai-aria-1.1/#menuitemcheckbox | ARIA menuitemcheckbox}, or {@link https://www.w3.org/TR/wai-aria-1.1/#menuitemradio | ARIA menuitemradio }.
 *
 * @slot checked-indicator - The checked indicator
 * @slot radio-indicator - The radio indicator
 * @slot start - Content which can be provided before the menu item content
 * @slot end - Content which can be provided after the menu item content
 * @slot - The default slot for menu item content
 * @slot expand-collapse-indicator - The expand/collapse indicator
 * @slot submenu - Used to nest menu's within menu items
 * @csspart input-container - The element representing the visual checked or radio indicator
 * @csspart checkbox - The element wrapping the `menuitemcheckbox` indicator
 * @csspart radio - The element wrapping the `menuitemradio` indicator
 * @csspart content - The element wrapping the menu item content
 * @csspart expand-collapse-glyph-container - The element wrapping the expand collapse element
 * @csspart expand-collapse - The expand/collapse element
 * @csspart submenu-region - The container for the submenu, used for positioning
 * @fires expanded-change - Fires a custom 'expanded-change' event when the expanded state changes
 * @fires change - Fires a custom 'change' event when a non-submenu item with a role of `menuitemcheckbox`, `menuitemradio`, or `menuitem` is invoked
 *
 * @public
 */
class FASTMenuItem extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The role of the element.
         *
         * @public
         * @remarks
         * HTML Attribute: role
         */
        this.role = _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole.menuitem;
        /**
         * The checked value of the element.
         *
         * @public
         * @remarks
         * HTML Attribute: checked
         */
        this.checked = false;
        this.focusSubmenuOnLoad = false;
        /**
         * @internal
         */
        this.handleMenuItemKeyDown = (e) => {
            if (e.defaultPrevented) {
                return false;
            }
            switch (e.key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEnter:
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keySpace:
                    this.invoke();
                    return false;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowRight:
                    //open/focus on submenu
                    this.expanded && this.submenu
                        ? this.submenu.focus()
                        : this.expandAndFocus();
                    return false;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEscape:
                    // close submenu
                    if (this.expanded) {
                        this.closeSubMenu();
                        return false;
                    }
                    break;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowLeft:
                    //close submenu
                    if (this.expanded) {
                        this.closeSubMenu();
                        return false;
                    }
            }
            return true;
        };
        /**
         * @internal
         */
        this.handleMenuItemClick = (e) => {
            if (e.defaultPrevented || this.disabled) {
                return false;
            }
            this.invoke();
            return false;
        };
        /**
         * @internal
         */
        this.submenuLoaded = () => {
            if (!this.focusSubmenuOnLoad) {
                return;
            }
            this.focusSubmenuOnLoad = false;
            if (this.submenu) {
                this.submenu.focus();
                this.setAttribute("tabindex", "-1");
            }
        };
        /**
         * @internal
         */
        this.handleMouseOver = (e) => {
            if (this.disabled || !this.hasSubmenu || this.expanded) {
                return false;
            }
            this.expanded = true;
            return false;
        };
        /**
         * @internal
         */
        this.handleMouseOut = (e) => {
            if (!this.expanded || this.contains(document.activeElement)) {
                return false;
            }
            this.expanded = false;
            return false;
        };
        /**
         * @internal
         */
        this.closeSubMenu = () => {
            // close submenu
            this.expanded = false;
            this.focus();
        };
        /**
         * @internal
         */
        this.expandAndFocus = () => {
            if (!this.hasSubmenu) {
                return;
            }
            this.focusSubmenuOnLoad = true;
            this.expanded = true;
        };
        /**
         * @internal
         */
        this.invoke = () => {
            if (this.disabled) {
                return;
            }
            switch (this.role) {
                case _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole.menuitemcheckbox:
                    this.checked = !this.checked;
                    break;
                case _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole.menuitem:
                    if (this.hasSubmenu) {
                        this.expandAndFocus();
                        break;
                    }
                    this.$emit("change");
                    break;
                case _menu_item_options_js__WEBPACK_IMPORTED_MODULE_2__.MenuItemRole.menuitemradio:
                    if (!this.checked) {
                        this.checked = true;
                    }
                    break;
            }
        };
    }
    expandedChanged(prev, next) {
        if (this.$fastController.isConnected) {
            if (next && this.submenu) {
                this.updateSubmenu();
            }
            this.$emit("expanded-change", this, { bubbles: false });
        }
    }
    checkedChanged(oldValue, newValue) {
        if (this.$fastController.isConnected) {
            this.$emit("change");
        }
    }
    /**
     * @internal
     */
    get hasSubmenu() {
        return !!this.submenu;
    }
    /**
     * Sets the submenu and updates its position.
     *
     * @internal
     */
    slottedSubmenuChanged(prev, next) {
        if (next.length) {
            this.submenu = next[0];
            this.updateSubmenu();
        }
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        var _a;
        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);
        super.disconnectedCallback();
    }
    /**
     * Calculate and apply submenu positioning.
     *
     * @public
     */
    updateSubmenu() {
        var _a;
        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);
        if (!this.submenu || !this.expanded) {
            return;
        }
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Updates.enqueue(() => {
            this.cleanup = (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_6__.autoUpdate)(this, this.submenuContainer, () => (0,tslib__WEBPACK_IMPORTED_MODULE_7__.__awaiter)(this, void 0, void 0, function* () {
                const fallbackPlacements = ["left-start", "right-start"];
                const { x, y } = yield (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_6__.computePosition)(this, this.submenuContainer, {
                    middleware: [
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_8__.shift)(),
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_8__.size)({
                            apply: ({ availableWidth, rects }) => {
                                if (availableWidth < rects.floating.width) {
                                    fallbackPlacements.push("bottom-end", "top-end");
                                }
                            },
                        }),
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_8__.flip)({ fallbackPlacements }),
                    ],
                    placement: "right-start",
                    strategy: "fixed",
                });
                Object.assign(this.submenuContainer.style, {
                    left: `${x}px`,
                    position: "fixed",
                    top: `${y}px`,
                });
                this.submenuLoaded();
            }));
        });
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ mode: "boolean" })
], FASTMenuItem.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ mode: "boolean" })
], FASTMenuItem.prototype, "expanded", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr
], FASTMenuItem.prototype, "role", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ mode: "boolean" })
], FASTMenuItem.prototype, "checked", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ mode: "boolean" })
], FASTMenuItem.prototype, "hidden", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTMenuItem.prototype, "slottedSubmenu", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTMenuItem.prototype, "submenu", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTMenuItem, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd);


/***/ }),

/***/ "./src/menu-item/stories/menu-item.register.ts":
/*!*****************************************************!*\
  !*** ./src/menu-item/stories/menu-item.register.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styles": () => (/* binding */ styles)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _menu_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../menu-item.js */ "./src/menu-item/menu-item.ts");
/* harmony import */ var _menu_item_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu-item.template.js */ "./src/menu-item/menu-item.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none !important;
    }

    :host {
        --icon-col: minmax(42px, auto);
        align-items: center;
        background: var(--neutral-fill-stealth-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--focus-stroke-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        display: flex;
        fill: currentcolor;
        font: var(--type-ramp-base-font-size) / var(--type-ramp-base-line-height)
            var(--body-font);
        height: calc(var(--height-number) * 1px);
        justify-items: start;
        margin: 0 calc(var(--design-unit) * 1px);
        outline: none;
        overflow: visible;
        padding: 0;
        white-space: nowrap;
    }

    :host(:hover) {
        background: var(--neutral-fill-stealth-hover);
        color: var(--neutral-foreground-rest);
    }

    :host(:active) {
        background: var(--neutral-fill-stealth-active);
    }

    :host(:focus-visible) {
        border-color: var(--focus-stroke-outer);
        background: var(--neutral-fill-stealth-focus);
        color: var(--neutral-foreground-rest);
    }

    :host([role="menuitem"]) .content {
        padding: 0 10px;
    }

    .content {
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    :host([aria-checked="true"]),
    :host(.expanded) {
        background: var(--neutral-fill-rest);
        color: var(--neutral-foreground-rest);
    }
    :host([disabled]) {
        cursor: var(--disabled-cursor);
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
        background: var(--neutral-fill-stealth-rest);
    }

    :host([disabled]:hover) ::slotted([slot="start"]),
    :host([disabled]:hover) ::slotted([slot="end"]),
    :host([disabled]:hover)::slotted(svg) {
        fill: var(--neutral-foreground-rest);
    }

    .expand-collapse-glyph {
        width: 16px;
        height: 16px;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }

    ::slotted([slot="start"]) {
        margin-inline-start: 10px;
    }

    ::slotted([slot="end"]) {
        margin-inline-end: 10px;
    }

    :host(:hover) ::slotted([slot="start"]),
    :host(:hover) ::slotted([slot="end"]),
    :host(:hover)::slotted(svg),
    :host(:active) ::slotted([slot="start"]),
    :host(:active) ::slotted([slot="end"]),
    :host(:active)::slotted(svg) {
        fill: var(--neutral-foreground-rest);
    }

    .input-container,
    .expand-collapse-glyph-container {
        display: none;
    }

    .expand-collapse-glyph-container {
        margin-inline-start: auto;
    }

    :host([aria-haspopup="menu"]) .expand-collapse-glyph-container,
    :host([role="menuitemcheckbox"]) .input-container,
    :host([role="menuitemradio"]) .input-container {
        display: grid;
        margin-inline-end: 10px;
    }

    .expand-collapse,
    .checkbox,
    .radio {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        width: 20px;
        height: 20px;
        box-sizing: border-box;
        outline: none;
        margin-inline-start: 10px;
    }

    .checkbox,
    .radio {
        border: calc(var(--stroke-width) * 1px) solid var(--neutral-foreground-rest);
    }

    :host([aria-checked="true"]) .checkbox,
    :host([aria-checked="true"]) .radio {
        background: var(--accent-fill-rest);
        border-color: var(--accent-fill-rest);
    }

    .checkbox {
        border-radius: calc(var(--control-corner-radius) * 1px);
    }

    .radio {
        border-radius: 999px;
    }

    .checkbox-indicator,
    .radio-indicator,
    .expand-collapse-indicator,
    ::slotted([slot="checkbox-indicator"]),
    ::slotted([slot="radio-indicator"]),
    ::slotted([slot="expand-collapse-indicator"]) {
        display: none;
    }

    ::slotted([slot="end"]:not(svg)) {
        color: var(--neutral-foreground-hint);
        margin-inline-end: 10px;
    }

    :host([aria-checked="true"]) .checkbox-indicator,
    :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]) {
        display: block;
        fill: var(--foreground-on-accent-rest);
        height: 100%;
        pointer-events: none;
        width: 100%;
    }

    :host([aria-checked="true"]) .radio-indicator {
        background: var(--foreground-on-accent-rest);
        border-radius: 999px;
        bottom: 4px;
        display: block;
        left: 4px;
        pointer-events: none;
        position: absolute;
        right: 4px;
        top: 4px;
    }

    :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
        display: block;
        pointer-events: none;
    }

    .submenu-container {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
    }
`;
_menu_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTMenuItem.define({
    name: "fast-menu-item",
    template: (0,_menu_item_template_js__WEBPACK_IMPORTED_MODULE_1__.menuItemTemplate)({
        checkboxIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <svg
                part="checkbox-indicator"
                class="checkbox-indicator"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="m8.1 12.7 7.1-8.2 1.6 1.4-8.6 9.9-4.4-4.5 1.5-1.5L8 12.7Z"
                />
            </svg>
        `,
        expandCollapseGlyph: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <svg
                viewBox="0 0 16 16"
                xmlns="http://www.w3.org/2000/svg"
                class="expand-collapse-glyph"
                part="expand-collapse-glyph"
            >
                <path
                    d="M5 12.3a1 1 0 0 0 1.6.8L11 8.8a1.5 1.5 0 0 0 0-2.3L6.6 2.2A1 1 0 0 0 5 3v9.3Z"
                />
            </svg>
        `,
        radioIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <span part="radio-indicator" class="radio-indicator"></span>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/menu-item/stories/menu-item.stories.ts":
/*!****************************************************!*\
  !*** ./src/menu-item/stories/menu-item.stories.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MenuItem": () => (/* binding */ MenuItem),
/* harmony export */   "MenuItemCheckbox": () => (/* binding */ MenuItemCheckbox),
/* harmony export */   "MenuItemExpanded": () => (/* binding */ MenuItemExpanded),
/* harmony export */   "MenuItemRadio": () => (/* binding */ MenuItemRadio),
/* harmony export */   "MenuItemWithSlottedEnd": () => (/* binding */ MenuItemWithSlottedEnd),
/* harmony export */   "MenuItemWithSlottedStart": () => (/* binding */ MenuItemWithSlottedStart),
/* harmony export */   "MenuItemWithSlottedStartEnd": () => (/* binding */ MenuItemWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu-item.options.js */ "./src/menu-item/menu-item.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-menu-item
        ?expanded="${x => x.expanded}"
        ?checked="${x => x.checked}"
        ?disabled="${x => x.disabled}"
        id="${x => x.id}"
        role="${x => x.role}"
    >
        ${x => x.storyContent}
    </fast-menu-item>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Menu Item",
    excludeStories: ["storyTemplate"],
    args: {
        checked: false,
        disabled: false,
        expanded: false,
    },
    argTypes: {
        checked: { control: "boolean", if: { arg: "role", neq: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitem } },
        disabled: { control: "boolean" },
        expanded: { control: "boolean" },
        role: { control: "select", options: Object.values(_menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole) },
    },
});
const MenuItem = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
MenuItem.args = {
    storyContent: "Menu Item",
};
const MenuItemWithSlottedStart = MenuItem.bind({});
MenuItemWithSlottedStart.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Menu item with slotted start icon
    `,
};
const MenuItemWithSlottedEnd = MenuItem.bind({});
MenuItemWithSlottedEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        Menu item with slotted end icon
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const MenuItemWithSlottedStartEnd = MenuItem.bind({});
MenuItemWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Menu item with slotted start & end icon
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const MenuItemCheckbox = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <div>${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.items, storyTemplate)}</div>
    `).bind({});
MenuItemCheckbox.args = {
    items: [
        {
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemcheckbox,
            storyContent: "Menu item checkbox (unchecked)",
        },
        {
            checked: true,
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemcheckbox,
            storyContent: "Menu item checkbox (checked)",
        },
        {
            checked: false,
            disabled: true,
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemcheckbox,
            storyContent: "Menu item checkbox (unchecked, disabled)",
        },
        {
            checked: true,
            disabled: true,
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemcheckbox,
            storyContent: "Menu item checkbox (checked, disabled)",
        },
    ],
};
const MenuItemRadio = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.items, storyTemplate)}
    `).bind({});
MenuItemRadio.args = {
    items: [
        {
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemradio,
            storyContent: "Menu item radio (unchecked)",
        },
        {
            checked: true,
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemradio,
            storyContent: "Menu item radio (checked)",
        },
        {
            checked: false,
            disabled: true,
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemradio,
            storyContent: "Menu item radio (unchecked, disabled)",
        },
        {
            checked: true,
            disabled: true,
            role: _menu_item_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuItemRole.menuitemradio,
            storyContent: "Menu item radio (checked, disabled)",
        },
    ],
};
const MenuItemExpanded = MenuItem.bind({});
MenuItemExpanded.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        Expanded
        <div slot="submenu" role="menu">submenu slot</div>
    `,
    expanded: true,
};
MenuItemExpanded.decorators = [
    Story => {
        const renderedStory = Story();
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Updates.enqueue(() => {
            // Disable cursor interaction to prevent the state from changing
            renderedStory.$fastController.addStyles(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.css `
                :host {
                    width: 50%;
                    pointer-events: none;
                }

                ::slotted(div) {
                    padding: 10px;
                }
            `);
        });
        return renderedStory;
    },
];


/***/ }),

/***/ "./src/menu/menu.template.ts":
/*!***********************************!*\
  !*** ./src/menu/menu.template.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "menuTemplate": () => (/* binding */ menuTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTMenu} component.
 * @public
 */
function menuTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template
            slot="${x => (x.slot ? x.slot : x.isNestedMenu() ? "submenu" : void 0)}"
            role="menu"
            @keydown="${(x, c) => x.handleMenuKeyDown(c.event)}"
            @focusout="${(x, c) => x.handleFocusOut(c.event)}"
        >
            <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.slotted)("items")}></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/menu/menu.ts":
/*!**************************!*\
  !*** ./src/menu/menu.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTMenu": () => (/* binding */ FASTMenu)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/dom.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../menu-item/index.js */ "./src/menu-item/index.ts");




/**
 * A Menu Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#menu | ARIA menu }.
 *
 * @slot - The default slot for the menu items
 *
 * @public
 */
class FASTMenu extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    constructor() {
        super(...arguments);
        this.expandedItem = null;
        /**
         * The index of the focusable element in the items array
         * defaults to -1
         */
        this.focusIndex = -1;
        /**
         * @internal
         */
        this.isNestedMenu = () => {
            return (this.parentElement !== null &&
                (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(this.parentElement) &&
                this.parentElement.getAttribute("role") === "menuitem");
        };
        /**
         * if focus is moving out of the menu, reset to a stable initial state
         * @internal
         */
        this.handleFocusOut = (e) => {
            if (!this.contains(e.relatedTarget) && this.menuItems !== undefined) {
                this.collapseExpandedItem();
                // find our first focusable element
                const focusIndex = this.menuItems.findIndex(this.isFocusableElement);
                // set the current focus index's tabindex to -1
                this.menuItems[this.focusIndex].setAttribute("tabindex", "-1");
                // set the first focusable element tabindex to 0
                this.menuItems[focusIndex].setAttribute("tabindex", "0");
                // set the focus index
                this.focusIndex = focusIndex;
            }
        };
        this.handleItemFocus = (e) => {
            const targetItem = e.target;
            if (this.menuItems !== undefined &&
                targetItem !== this.menuItems[this.focusIndex]) {
                this.menuItems[this.focusIndex].setAttribute("tabindex", "-1");
                this.focusIndex = this.menuItems.indexOf(targetItem);
                targetItem.setAttribute("tabindex", "0");
            }
        };
        this.handleExpandedChanged = (e) => {
            if (e.defaultPrevented ||
                e.target === null ||
                this.menuItems === undefined ||
                this.menuItems.indexOf(e.target) < 0) {
                return;
            }
            e.preventDefault();
            const changedItem = e.target;
            // closing an expanded item without opening another
            if (this.expandedItem !== null &&
                changedItem === this.expandedItem &&
                changedItem.expanded === false) {
                this.expandedItem = null;
                return;
            }
            if (changedItem.expanded) {
                if (this.expandedItem !== null && this.expandedItem !== changedItem) {
                    this.expandedItem.expanded = false;
                }
                this.menuItems[this.focusIndex].setAttribute("tabindex", "-1");
                this.expandedItem = changedItem;
                this.focusIndex = this.menuItems.indexOf(changedItem);
                changedItem.setAttribute("tabindex", "0");
            }
        };
        /**
         * handle change from child element
         */
        this.changeHandler = (e) => {
            if (this.menuItems === undefined) {
                return;
            }
            const changedMenuItem = e.target;
            const changeItemIndex = this.menuItems.indexOf(changedMenuItem);
            if (changeItemIndex === -1) {
                return;
            }
            if (changedMenuItem.role === "menuitemradio" &&
                changedMenuItem.checked === true) {
                for (let i = changeItemIndex - 1; i >= 0; --i) {
                    const item = this.menuItems[i];
                    const role = item.getAttribute("role");
                    if (role === _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__.MenuItemRole.menuitemradio) {
                        item.checked = false;
                    }
                    if (role === "separator") {
                        break;
                    }
                }
                const maxIndex = this.menuItems.length - 1;
                for (let i = changeItemIndex + 1; i <= maxIndex; ++i) {
                    const item = this.menuItems[i];
                    const role = item.getAttribute("role");
                    if (role === _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__.MenuItemRole.menuitemradio) {
                        item.checked = false;
                    }
                    if (role === "separator") {
                        break;
                    }
                }
            }
        };
        /**
         * check if the item is a menu item
         */
        this.isMenuItemElement = (el) => {
            return (el instanceof _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__.FASTMenuItem ||
                ((0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(el) &&
                    el.getAttribute("role") in FASTMenu.focusableElementRoles));
        };
        /**
         * check if the item is focusable
         */
        this.isFocusableElement = (el) => {
            return this.isMenuItemElement(el);
        };
    }
    itemsChanged(oldValue, newValue) {
        // only update children after the component is connected and
        // the setItems has run on connectedCallback
        // (menuItems is undefined until then)
        if (this.$fastController.isConnected && this.menuItems !== undefined) {
            this.setItems();
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Updates.enqueue(() => {
            // wait until children have had a chance to
            // connect before setting/checking their props/attributes
            this.setItems();
        });
        this.addEventListener("change", this.changeHandler);
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.removeItemListeners();
        this.menuItems = undefined;
        this.removeEventListener("change", this.changeHandler);
    }
    /**
     * Focuses the first item in the menu.
     *
     * @public
     */
    focus() {
        this.setFocus(0, 1);
    }
    /**
     * Collapses any expanded menu items.
     *
     * @public
     */
    collapseExpandedItem() {
        if (this.expandedItem !== null) {
            this.expandedItem.expanded = false;
            this.expandedItem = null;
        }
    }
    /**
     * @internal
     */
    handleMenuKeyDown(e) {
        if (e.defaultPrevented || this.menuItems === undefined) {
            return;
        }
        switch (e.key) {
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowDown:
                // go forward one index
                this.setFocus(this.focusIndex + 1, 1);
                return;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowUp:
                // go back one index
                this.setFocus(this.focusIndex - 1, -1);
                return;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEnd:
                // set focus on last item
                this.setFocus(this.menuItems.length - 1, -1);
                return;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyHome:
                // set focus on first item
                this.setFocus(0, 1);
                return;
            default:
                // if we are not handling the event, do not prevent default
                return true;
        }
    }
    removeItemListeners(items = this.items) {
        items.forEach(item => {
            item.removeEventListener("focus", this.handleItemFocus);
            item.removeEventListener("expanded-changed", this.handleExpandedChanged);
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Observable.getNotifier(item).unsubscribe(this, "hidden");
        });
    }
    setItems() {
        const children = Array.from(this.children);
        this.removeItemListeners(children);
        children.forEach((child) => _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Observable.getNotifier(child).subscribe(this, "hidden"));
        const newItems = children.filter(child => !child.hasAttribute("hidden"));
        this.menuItems = newItems;
        const menuItems = this.menuItems.filter(this.isMenuItemElement);
        // if our focus index is not -1 we have items
        if (menuItems.length) {
            this.focusIndex = 0;
        }
        menuItems.forEach((item, index) => {
            item.setAttribute("tabindex", index === 0 ? "0" : "-1");
            item.addEventListener("expanded-change", this.handleExpandedChanged);
            item.addEventListener("focus", this.handleItemFocus);
        });
    }
    handleChange(source, propertyName) {
        if (propertyName === "hidden") {
            this.setItems();
        }
    }
    setFocus(focusIndex, adjustment) {
        if (this.menuItems === undefined) {
            return;
        }
        while (focusIndex >= 0 && focusIndex < this.menuItems.length) {
            const child = this.menuItems[focusIndex];
            if (this.isFocusableElement(child)) {
                // change the previous index to -1
                if (this.focusIndex > -1 &&
                    this.menuItems.length >= this.focusIndex - 1) {
                    this.menuItems[this.focusIndex].setAttribute("tabindex", "-1");
                }
                // update the focus index
                this.focusIndex = focusIndex;
                // update the tabindex of next focusable element
                child.setAttribute("tabindex", "0");
                // focus the element
                child.focus();
                break;
            }
            focusIndex += adjustment;
        }
    }
}
FASTMenu.focusableElementRoles = _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__.MenuItemRole;
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.observable
], FASTMenu.prototype, "items", void 0);


/***/ }),

/***/ "./src/menu/stories/menu.register.ts":
/*!*******************************************!*\
  !*** ./src/menu/stories/menu.register.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FancyMenu": () => (/* binding */ FancyMenu),
/* harmony export */   "FancyMenuItem": () => (/* binding */ FancyMenuItem)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../menu-item/index.js */ "./src/menu-item/index.ts");
/* harmony import */ var _menu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../menu.js */ "./src/menu/menu.ts");
/* harmony import */ var _menu_template_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../menu.template.js */ "./src/menu/menu.template.ts");







const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.css `
    :host([hidden]) {
        display: none;
    }

    :host {
        --elevation: 11;
        background: var(--neutral-layer-floating);
        border: calc(var(--stroke-width) * 1px) solid transparent;
        border-radius: calc(var(--control-corner-radius) * 1px);
        box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px)
                rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))),
            0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px))
                rgba(0, 0, 0, calc(0.13 * (2 - var(--background-luminance, 1))));
        display: block;
        margin: 0;
        max-width: 368px;
        min-width: 64px;
        padding: calc(var(--design-unit) * 1px) 0;
    }

    :host([slot="submenu"]) {
        margin: 0 calc(var(--design-unit) * 1px);
        width: max-content;
    }

    ::slotted(fast-divider) {
        border: none;
        border-top: calc(var(--stroke-width) * 1px) solid
            var(--neutral-stroke-divider-rest);
        box-sizing: content-box;
        height: 0;
        margin: 0;
    }
`;
_menu_js__WEBPACK_IMPORTED_MODULE_1__.FASTMenu.define({
    name: "fast-menu",
    styles,
    template: (0,_menu_template_js__WEBPACK_IMPORTED_MODULE_2__.menuTemplate)(),
});
class FancyMenu extends _menu_js__WEBPACK_IMPORTED_MODULE_1__.FASTMenu {
    connectedCallback() {
        super.connectedCallback();
    }
    setItems() {
        var _a;
        super.setItems();
        (_a = this.menuItems) === null || _a === void 0 ? void 0 : _a.filter(this.isMenuItemElement).forEach((item, index) => {
            const indent = this.menuItems.reduce((accum, current) => {
                const elementValue = FancyMenu.elementIndent(current);
                return Math.max(accum, elementValue);
            }, 0);
            if (item instanceof FancyMenuItem) {
                item.startColumnCount = indent;
            }
        });
    }
    static elementIndent(el) {
        const role = el.getAttribute("role");
        const startSlot = el.querySelector("[slot=start]");
        if (role && role !== _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__.MenuItemRole.menuitem) {
            return !startSlot ? 1 : 2;
        }
        return !startSlot ? 0 : 1;
    }
}
/**
 * @internal
 */
class FancyMenuItem extends _menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__.FASTMenuItem {
    connectedCallback() {
        super.connectedCallback();
        if (!this.startColumnCount) {
            this.startColumnCount = 1;
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ attribute: "start-column-count" })
], FancyMenuItem.prototype, "startColumnCount", void 0);
FancyMenu.define({
    name: "fancy-menu",
    styles,
    template: (0,_menu_template_js__WEBPACK_IMPORTED_MODULE_2__.menuTemplate)(),
});
FancyMenuItem.define({
    name: "fancy-menu-item",
    template: (0,_menu_item_index_js__WEBPACK_IMPORTED_MODULE_0__.menuItemTemplate)({
        checkboxIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.html `
            <svg
                part="checkbox-indicator"
                class="checkbox-indicator"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="m8.1 12.7 7.1-8.2 1.6 1.4-8.6 9.9-4.4-4.5 1.5-1.5L8 12.7Z"
                />
            </svg>
        `,
        expandCollapseGlyph: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.html `
            <svg
                viewBox="0 0 16 16"
                xmlns="http://www.w3.org/2000/svg"
                class="expand-collapse-glyph"
                part="expand-collapse-glyph"
            >
                <path
                    d="M5 12.3a1 1 0 0 0 1.6.8L11 8.8a1.5 1.5 0 0 0 0-2.3L6.6 2.2A1 1 0 0 0 5 3v9.3Z"
                />
            </svg>
        `,
        radioIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.html `
            <span part="radio-indicator" class="radio-indicator"></span>
        `,
    }),
    styles: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.css `
        :host([hidden]) {
            display: none !important;
        }

        :host {
            --icon-col: minmax(42px, auto);
            align-items: center;
            background: var(--neutral-fill-stealth-rest);
            border-radius: calc(var(--control-corner-radius) * 1px);
            border: calc(var(--focus-stroke-width) * 1px) solid transparent;
            box-sizing: border-box;
            color: var(--neutral-foreground-rest);
            contain: layout;
            cursor: pointer;
            display: grid;
            fill: currentcolor;
            font: var(--type-ramp-base-font-size) / var(--type-ramp-base-line-height)
                var(--body-font);
            grid-template-columns: var(--icon-col) 1fr var(--icon-col);
            grid-template-rows: auto;
            height: calc(var(--height-number) * 1px);
            justify-items: center;
            margin: 0 calc(var(--design-unit) * 1px);
            outline: none;
            overflow: visible;
            padding: 0;
            white-space: nowrap;
        }

        :host(:hover) {
            background: var(--neutral-fill-stealth-hover);
            color: var(--neutral-foreground-rest);
            position: relative;
            z-index: 1;
        }

        :host(:active) {
            background: var(--neutral-fill-stealth-active);
        }

        :host(:focus-visible) {
            border-color: var(--focus-stroke-outer);
            background: var(--neutral-fill-stealth-focus);
            color: var(--neutral-foreground-rest);
        }

        .content {
            grid-column-start: 2;
            justify-self: start;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        :host([start-column-count="0"]) {
            grid-template-columns: auto 1fr var(--icon-col);
        }

        :host([start-column-count="0"]) .content {
            grid-column: 1;
            grid-row: 1;
            margin-inline-start: 10px;
        }

        :host([start-column-count="0"]) .expand-collapse-glyph-container {
            grid-column: 5;
            grid-row: 1;
        }

        :host([start-column-count="2"]) {
            grid-template-columns:
                var(--icon-col) var(--icon-col) 1fr var(--icon-col)
                var(--icon-col);
        }

        :host([start-column-count="2"]) .content {
            grid-column: 3;
            grid-row: 1;
            margin-inline-start: 10px;
        }

        :host([start-column-count="2"]) .expand-collapse-glyph-container {
            grid-column: 5;
            grid-row: 1;
        }

        :host([start-column-count="2"]) ::slotted([slot="start"]) {
            grid-column: 2;
        }

        :host([start-column-count="2"]) ::slotted([slot="end"]) {
            grid-column: 4;
        }

        :host([aria-checked="true"]),
        :host(.expanded) {
            background: var(--neutral-fill-rest);
            color: var(--neutral-foreground-rest);
        }

        :host([disabled]) {
            cursor: var(--disabled-cursor);
            opacity: var(--disabled-opacity);
        }

        :host([disabled]:hover) {
            color: var(--neutral-foreground-rest);
            fill: currentcolor;
            background: var(--neutral-fill-stealth-rest);
        }

        .expand-collapse-glyph {
            width: 16px;
            height: 16px;
        }

        ::slotted([slot="start"]),
        ::slotted([slot="end"]) {
            display: flex;
        }

        ::slotted([slot="start"]) {
            margin-inline-start: 10px;
        }

        ::slotted([slot="end"]) {
            margin-inline-end: 10px;
        }

        :host([start-column-count="0"][aria-haspopup="menu"]),
        :host([start-column-count="1"][aria-haspopup="menu"]),
        :host([start-column-count="1"][role="menuitemcheckbox"]),
        :host([start-column-count="1"][role="menuitemradio"]) {
            align-items: center;
            display: grid;
            grid-template-columns: var(--icon-col) auto 1fr var(--icon-col) var(
                    --icon-col
                );
            min-height: 32px;
        }

        :host([start-column-count="2"]:not([aria-haspopup="menu"]))
            ::slotted([slot="end"]) {
            grid-column: 5;
        }

        .input-container,
        .expand-collapse-glyph-container {
            display: none;
        }

        :host([aria-haspopup="menu"]) .expand-collapse-glyph-container,
        :host([role="menuitemcheckbox"]) .input-container,
        :host([role="menuitemradio"]) .input-container {
            display: grid;
            margin-inline-end: 10px;
        }

        :host([aria-haspopup="menu"]) .content,
        :host([role="menuitemcheckbox"]) .content,
        :host([role="menuitemradio"]) .content {
            grid-column-start: 3;
        }

        :host([aria-haspopup="menu"][start-column-count="0"]) .content {
            grid-column-start: 1;
        }

        :host([aria-haspopup="menu"]) ::slotted([slot="end"]),
        :host([role="menuitemcheckbox"]) ::slotted([slot="end"]),
        :host([role="menuitemradio"]) ::slotted([slot="end"]) {
            grid-column-start: 4;
        }

        .expand-collapse,
        .checkbox,
        .radio {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 20px;
            height: 20px;
            box-sizing: border-box;
            outline: none;
            margin-inline-start: 10px;
        }

        .checkbox,
        .radio {
            border: calc(var(--stroke-width) * 1px) solid var(--neutral-foreground-rest);
        }

        :host([aria-checked="true"]) .checkbox,
        :host([aria-checked="true"]) .radio {
            background: var(--accent-fill-rest);
            border-color: var(--accent-fill-rest);
        }

        .checkbox {
            border-radius: calc(var(--control-corner-radius) * 1px);
        }

        .radio {
            border-radius: 999px;
        }

        .checkbox-indicator,
        .radio-indicator,
        .expand-collapse-indicator,
        ::slotted([slot="checkbox-indicator"]),
        ::slotted([slot="radio-indicator"]),
        ::slotted([slot="expand-collapse-indicator"]) {
            display: none;
        }

        ::slotted([slot="end"]:not(svg)) {
            color: var(--neutral-foreground-hint);
            margin-inline-end: 10px;
        }

        :host([aria-checked="true"]) .checkbox-indicator,
        :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]) {
            display: block;
            fill: var(--foreground-on-accent-rest);
            height: 100%;
            pointer-events: none;
            width: 100%;
        }

        :host([aria-checked="true"]) .radio-indicator {
            background: var(--foreground-on-accent-rest);
            border-radius: 999px;
            bottom: 4px;
            display: block;
            left: 4px;
            pointer-events: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
            display: block;
            pointer-events: none;
        }
    `,
});


/***/ }),

/***/ "./src/menu/stories/menu.stories.ts":
/*!******************************************!*\
  !*** ./src/menu/stories/menu.stories.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FancyMenu": () => (/* binding */ FancyMenu),
/* harmony export */   "FancyMenuWithFormControls": () => (/* binding */ FancyMenuWithFormControls),
/* harmony export */   "FancyMenuWithItemsWithIcons": () => (/* binding */ FancyMenuWithItemsWithIcons),
/* harmony export */   "Menu": () => (/* binding */ Menu),
/* harmony export */   "MenuWithCheckboxItems": () => (/* binding */ MenuWithCheckboxItems),
/* harmony export */   "MenuWithDivider": () => (/* binding */ MenuWithDivider),
/* harmony export */   "MenuWithNestedItems": () => (/* binding */ MenuWithNestedItems),
/* harmony export */   "MenuWithRadioItems": () => (/* binding */ MenuWithRadioItems),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _divider_stories_divider_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../divider/stories/divider.stories.js */ "./src/divider/stories/divider.stories.ts");
/* harmony import */ var _menu_item_stories_menu_item_stories_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../menu-item/stories/menu-item.stories.js */ "./src/menu-item/stories/menu-item.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fast-menu slot="${x => x.slot}">${x => x.storyContent}</fast-menu>
`;
const storyContentTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            ${x => { var _a; return (_a = x.template) !== null && _a !== void 0 ? _a : _menu_item_stories_menu_item_stories_js__WEBPACK_IMPORTED_MODULE_1__.storyTemplate; }}
        `)}
`;
const fancyStoryTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fancy-menu slot="${x => x.slot}">${x => x.storyContent}</fancy-menu>
`;
const fancyMenuItemStoryTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fancy-menu-item
        ?expanded="${x => x.expanded}"
        ?checked="${x => x.checked}"
        ?disabled="${x => x.disabled}"
        id="${x => x.id}"
        role="${x => x.role}"
    >
        ${x => x.storyContent}
    </fancy-menu-item>
`;
const fancyStoryContentTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            ${x => { var _a; return (_a = x.template) !== null && _a !== void 0 ? _a : fancyMenuItemStoryTemplate; }}
        `)}
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Menu",
    args: {
        storyContent: storyContentTemplate,
        storyItems: [
            { storyContent: "Menu Item 1" },
            { storyContent: "Menu Item 2" },
            { storyContent: "Menu Item 3" },
        ],
    },
    argTypes: {
        storyContent: { table: { disable: true } },
    },
});
const Menu = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_2__.renderComponent)(storyTemplate).bind({});
Menu.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                ${x => { var _a; return (_a = x.template) !== null && _a !== void 0 ? _a : _menu_item_stories_menu_item_stories_js__WEBPACK_IMPORTED_MODULE_1__.storyTemplate; }}
            `)}
    `,
};
const MenuWithDivider = Menu.bind({});
MenuWithDivider.args = {
    storyItems: [
        { storyContent: "Menu Item 1" },
        { storyContent: "Menu Item 2" },
        { template: _divider_stories_divider_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate },
        { storyContent: "Menu Item 3" },
        { storyContent: "Menu Item 4" },
    ],
};
const MenuWithCheckboxItems = Menu.bind({});
MenuWithCheckboxItems.args = {
    storyItems: [
        { storyContent: "Menu Item 1", role: "menuitemcheckbox" },
        { storyContent: "Menu Item 2", role: "menuitemcheckbox" },
        { storyContent: "Menu Item 3", role: "menuitemcheckbox" },
    ],
};
const MenuWithRadioItems = Menu.bind({});
MenuWithRadioItems.args = {
    storyItems: [
        { storyContent: "Menu Item 1", role: "menuitemradio" },
        { storyContent: "Menu Item 2", role: "menuitemradio" },
        { storyContent: "Menu Item 3", role: "menuitemradio" },
    ],
};
const MenuWithNestedItems = Menu.bind({});
MenuWithNestedItems.args = {
    storyItems: [
        {
            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                Menu Item 1 ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, storyTemplate)}
            `,
            storyItems: [
                {
                    slot: "submenu",
                    storyContent: storyContentTemplate,
                    storyItems: [
                        { storyContent: "Menu Item 1.1" },
                        { storyContent: "Menu Item 1.2" },
                        { storyContent: "Menu Item 1.3" },
                    ],
                },
            ],
        },
        {
            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                Menu Item 2 ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, storyTemplate)}
            `,
            storyItems: [
                {
                    slot: "submenu",
                    storyContent: storyContentTemplate,
                    storyItems: [
                        {
                            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                                Menu Item 2.1 ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, storyTemplate)}
                            `,
                            storyItems: [
                                {
                                    slot: "submenu",
                                    storyContent: storyContentTemplate,
                                    storyItems: [
                                        { storyContent: "Menu Item 2.1.1" },
                                        { storyContent: "Menu Item 2.1.2" },
                                        { storyContent: "Menu Item 2.1.3" },
                                    ],
                                },
                            ],
                        },
                        { storyContent: "Menu Item 2.2" },
                        { storyContent: "Menu Item 2.3" },
                    ],
                },
            ],
        },
        {
            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                Menu Item 3 ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, storyTemplate)}
            `,
            storyItems: [
                {
                    slot: "submenu",
                    storyContent: storyContentTemplate,
                    storyItems: [
                        { storyContent: "Menu Item 3.1" },
                        { storyContent: "Menu Item 3.2" },
                        { storyContent: "Menu Item 3.3" },
                    ],
                },
            ],
        },
    ],
};
const FancyMenu = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_2__.renderComponent)(fancyStoryTemplate).bind({});
FancyMenu.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                ${x => { var _a; return (_a = x.template) !== null && _a !== void 0 ? _a : fancyMenuItemStoryTemplate; }}
            `)}
    `,
    storyItems: [
        { storyContent: "Fancy Menu Item 1" },
        { storyContent: "Fancy Menu Item 2" },
        { storyContent: "Fancy Menu Item 3" },
    ],
};
const FancyMenuWithItemsWithIcons = FancyMenu.bind({});
FancyMenuWithItemsWithIcons.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                ${x => { var _a; return (_a = x.template) !== null && _a !== void 0 ? _a : fancyMenuItemStoryTemplate; }}
            `)}
    `,
    storyItems: [
        {
            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
                Slotted start icon
            `,
        },
        {
            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                Slotted end icon
                <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
            `,
        },
        {
            storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
                Slotted start & end icons
                <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
            `,
        },
    ],
};
const FancyMenuWithFormControls = FancyMenu.bind({});
FancyMenuWithFormControls.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                ${x => { var _a; return (_a = x.template) !== null && _a !== void 0 ? _a : fancyMenuItemStoryTemplate; }}
            `)}
    `,
    storyItems: [
        { storyContent: "Fancy Menu Item 1" },
        { storyContent: "Fancy Menu Item 2" },
        { template: _divider_stories_divider_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate },
        { storyContent: "Fancy Checkbox 1", role: "menuitemcheckbox" },
        { storyContent: "Fancy Checkbox 2", role: "menuitemcheckbox" },
        { template: _divider_stories_divider_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate },
        { storyContent: "Fancy Radio 1.1", role: "menuitemradio" },
        { storyContent: "Fancy Radio 1.2", role: "menuitemradio" },
        { template: _divider_stories_divider_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate },
        { storyContent: "Fancy Radio 2.1", role: "menuitemradio" },
        { storyContent: "Fancy Radio 2.2", role: "menuitemradio" },
    ],
};


/***/ }),

/***/ "./src/number-field/number-field.form-associated.ts":
/*!**********************************************************!*\
  !*** ./src/number-field/number-field.form-associated.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedNumberField": () => (/* binding */ FormAssociatedNumberField)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _NumberField extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(NumberField:class)} component.
 *
 * @beta
 */
class FormAssociatedNumberField extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_NumberField) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/number-field/number-field.template.ts":
/*!***************************************************!*\
  !*** ./src/number-field/number-field.template.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "numberFieldTemplate": () => (/* binding */ numberFieldTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");



/**
 * The template for the {@link @microsoft/fast-foundation#(FASTNumberField:class)} component.
 * @public
 */
function numberFieldTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <label
            part="label"
            for="control"
            class="${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length
        ? "label"
        : "label label__hidden"}"
        >
            <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.slotted)("defaultSlottedNodes")}></slot>
        </label>
        <div class="root" part="root">
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.startSlotTemplate)(options)}
            <input
                class="control"
                part="control"
                id="control"
                @input="${x => x.handleTextInput()}"
                @change="${x => x.handleChange()}"
                @keydown="${(x, c) => x.handleKeyDown(c.event)}"
                @blur="${(x, c) => x.handleBlur()}"
                ?autofocus="${x => x.autofocus}"
                ?disabled="${x => x.disabled}"
                list="${x => x.list}"
                maxlength="${x => x.maxlength}"
                minlength="${x => x.minlength}"
                placeholder="${x => x.placeholder}"
                ?readonly="${x => x.readOnly}"
                ?required="${x => x.required}"
                size="${x => x.size}"
                type="text"
                inputmode="numeric"
                min="${x => x.min}"
                max="${x => x.max}"
                step="${x => x.step}"
                aria-atomic="${x => x.ariaAtomic}"
                aria-busy="${x => x.ariaBusy}"
                aria-controls="${x => x.ariaControls}"
                aria-current="${x => x.ariaCurrent}"
                aria-describedby="${x => x.ariaDescribedby}"
                aria-details="${x => x.ariaDetails}"
                aria-disabled="${x => x.ariaDisabled}"
                aria-errormessage="${x => x.ariaErrormessage}"
                aria-flowto="${x => x.ariaFlowto}"
                aria-haspopup="${x => x.ariaHaspopup}"
                aria-hidden="${x => x.ariaHidden}"
                aria-invalid="${x => x.ariaInvalid}"
                aria-keyshortcuts="${x => x.ariaKeyshortcuts}"
                aria-label="${x => x.ariaLabel}"
                aria-labelledby="${x => x.ariaLabelledby}"
                aria-live="${x => x.ariaLive}"
                aria-owns="${x => x.ariaOwns}"
                aria-relevant="${x => x.ariaRelevant}"
                aria-roledescription="${x => x.ariaRoledescription}"
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.ref)("control")}
            />
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.when)(x => !x.hideStep && !x.readOnly && !x.disabled, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                    <div class="controls" part="controls">
                        <div class="step-up" part="step-up" @click="${x => x.stepUp()}">
                            <slot name="step-up-glyph">
                                ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.stepUpGlyph)}
                            </slot>
                        </div>
                        <div
                            class="step-down"
                            part="step-down"
                            @click="${x => x.stepDown()}"
                        >
                            <slot name="step-down-glyph">
                                ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.stepDownGlyph)}
                            </slot>
                        </div>
                    </div>
                `)}
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_1__.endSlotTemplate)(options)}
        </div>
    `;
}


/***/ }),

/***/ "./src/number-field/number-field.ts":
/*!******************************************!*\
  !*** ./src/number-field/number-field.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTNumberField": () => (/* binding */ FASTNumberField)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _text_field_text_field_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../text-field/text-field.js */ "./src/text-field/text-field.ts");
/* harmony import */ var _number_field_form_associated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./number-field.form-associated.js */ "./src/number-field/number-field.form-associated.ts");







/**
 * A Number Field Custom HTML Element.
 * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number | <input type="number" /> element }.
 *
 * @slot start - Content which can be provided before the number field input
 * @slot end - Content which can be provided after the number field input
 * @slot - The default slot for the label
 * @slot step-up-glyph - The glyph for the step up control
 * @slot step-down-glyph - The glyph for the step down control
 * @csspart label - The label
 * @csspart root - The element wrapping the control, including start and end slots
 * @csspart control - The element representing the input
 * @csspart controls - The step up and step down controls
 * @csspart step-up - The step up control
 * @csspart step-down - The step down control
 * @fires input - Fires a custom 'input' event when the value has changed
 * @fires change - Fires a custom 'change' event when the value has changed
 *
 * @public
 */
class FASTNumberField extends _number_field_form_associated_js__WEBPACK_IMPORTED_MODULE_3__.FormAssociatedNumberField {
    constructor() {
        super(...arguments);
        /**
         * When true, spin buttons will not be rendered
         * @public
         * @remarks
         * HTML Attribute: autofocus
         */
        this.hideStep = false;
        /**
         * Amount to increment or decrement the value by
         * @public
         * @remarks
         * HTMLAttribute: step
         */
        this.step = 1;
        /**
         * Flag to indicate that the value change is from the user input
         * @internal
         */
        this.isUserInput = false;
    }
    /**
     * Ensures that the max is greater than the min and that the value
     *  is less than the max
     * @param previous - the previous max value
     * @param next - updated max value
     *
     * @internal
     */
    maxChanged(previous, next) {
        var _a;
        this.max = Math.max(next, (_a = this.min) !== null && _a !== void 0 ? _a : next);
        const min = Math.min(this.min, this.max);
        if (this.min !== undefined && this.min !== min) {
            this.min = min;
        }
        this.value = this.getValidValue(this.value);
    }
    /**
     * Ensures that the min is less than the max and that the value
     *  is greater than the min
     * @param previous - previous min value
     * @param next - updated min value
     *
     * @internal
     */
    minChanged(previous, next) {
        var _a;
        this.min = Math.min(next, (_a = this.max) !== null && _a !== void 0 ? _a : next);
        const max = Math.max(this.min, this.max);
        if (this.max !== undefined && this.max !== max) {
            this.max = max;
        }
        this.value = this.getValidValue(this.value);
    }
    /**
     * The value property, typed as a number.
     *
     * @public
     */
    get valueAsNumber() {
        return parseFloat(super.value);
    }
    set valueAsNumber(next) {
        this.value = next.toString();
    }
    /**
     * Validates that the value is a number between the min and max
     * @param previous - previous stored value
     * @param next - value being updated
     * @param updateControl - should the text field be updated with value, defaults to true
     * @internal
     */
    valueChanged(previous, next) {
        var _a;
        const value = this.getValidValue(next);
        if (next !== value) {
            this.value = value;
            return;
        }
        if (this.$fastController.isConnected && ((_a = this.control) === null || _a === void 0 ? void 0 : _a.value) !== value) {
            this.control.value = this.value;
        }
        super.valueChanged(previous, this.value);
        if (previous !== undefined && !this.isUserInput) {
            this.$emit("input");
            this.$emit("change");
        }
        this.isUserInput = false;
    }
    /** {@inheritDoc (FormAssociated:interface).validate} */
    validate() {
        super.validate(this.control);
    }
    /**
     * Sets the internal value to a valid number between the min and max properties
     * @param value - user input
     *
     * @internal
     */
    getValidValue(value) {
        var _a, _b;
        let validValue = parseFloat(parseFloat(value).toPrecision(12));
        if (isNaN(validValue)) {
            validValue = "";
        }
        else {
            validValue = Math.min(validValue, (_a = this.max) !== null && _a !== void 0 ? _a : validValue);
            validValue = Math.max(validValue, (_b = this.min) !== null && _b !== void 0 ? _b : validValue).toString();
        }
        return validValue;
    }
    /**
     * Increments the value using the step value
     *
     * @public
     */
    stepUp() {
        const value = parseFloat(this.value);
        const stepUpValue = !isNaN(value)
            ? value + this.step
            : this.min > 0
                ? this.min
                : this.max < 0
                    ? this.max
                    : !this.min
                        ? this.step
                        : 0;
        this.value = stepUpValue.toString();
    }
    /**
     * Decrements the value using the step value
     *
     * @public
     */
    stepDown() {
        const value = parseFloat(this.value);
        const stepDownValue = !isNaN(value)
            ? value - this.step
            : this.min > 0
                ? this.min
                : this.max < 0
                    ? this.max
                    : !this.min
                        ? 0 - this.step
                        : 0;
        this.value = stepDownValue.toString();
    }
    /**
     * Sets up the initial state of the number field
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.proxy.setAttribute("type", "number");
        this.validate();
        this.control.value = this.value;
        if (this.autofocus) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Updates.enqueue(() => {
                this.focus();
            });
        }
    }
    /**
     * Selects all the text in the number field
     *
     * @public
     */
    select() {
        this.control.select();
        /**
         * The select event does not permeate the shadow DOM boundary.
         * This fn effectively proxies the select event,
         * emitting a `select` event whenever the internal
         * control emits a `select` event
         */
        this.$emit("select");
    }
    /**
     * Handles the internal control's `input` event
     * @internal
     */
    handleTextInput() {
        this.control.value = this.control.value.replace(/[^0-9\-+e.]/g, "");
        this.isUserInput = true;
        this.value = this.control.value;
    }
    /**
     * Change event handler for inner control.
     * @remarks
     * "Change" events are not `composable` so they will not
     * permeate the shadow DOM boundary. This fn effectively proxies
     * the change event, emitting a `change` event whenever the internal
     * control emits a `change` event
     * @internal
     */
    handleChange() {
        this.$emit("change");
    }
    /**
     * Handles the internal control's `keydown` event
     * @internal
     */
    handleKeyDown(e) {
        const key = e.key;
        switch (key) {
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyArrowUp:
                this.stepUp();
                return false;
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.keyArrowDown:
                this.stepDown();
                return false;
        }
        return true;
    }
    /**
     * Handles populating the input field with a validated value when
     *  leaving the input field.
     * @internal
     */
    handleBlur() {
        this.control.value = this.value;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "readonly", mode: "boolean" })
], FASTNumberField.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ mode: "boolean" })
], FASTNumberField.prototype, "autofocus", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "hide-step", mode: "boolean" })
], FASTNumberField.prototype, "hideStep", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTNumberField.prototype, "placeholder", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTNumberField.prototype, "list", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTNumberField.prototype, "maxlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTNumberField.prototype, "minlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTNumberField.prototype, "size", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTNumberField.prototype, "step", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTNumberField.prototype, "max", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.nullableNumberConverter })
], FASTNumberField.prototype, "min", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.observable
], FASTNumberField.prototype, "defaultSlottedNodes", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTNumberField, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd, _text_field_text_field_js__WEBPACK_IMPORTED_MODULE_2__.DelegatesARIATextbox);


/***/ }),

/***/ "./src/number-field/stories/number-field.register.ts":
/*!***********************************************************!*\
  !*** ./src/number-field/stories/number-field.register.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _number_field_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../number-field.js */ "./src/number-field/number-field.ts");
/* harmony import */ var _number_field_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../number-field.template.js */ "./src/number-field/number-field.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: inline-block;
        font: var(--type-ramp-base-font-size) / var(--type-ramp-base-line-height)
            var(--body-font);
        outline: none;
        user-select: none;
    }

    :host([hidden]) {
        display: none;
    }

    .root {
        align-items: center;
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        box-sizing: border-box;
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
        display: flex;
        flex-direction: row;
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        position: relative;
    }

    .control {
        appearance: none;
        background: transparent;
        border: 0;
        border: none;
        color: inherit;
        font: inherit;
        height: calc(100% - 4px);
        margin-bottom: auto;
        margin-top: auto;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
    }

    .control:hover,
    .control:focus-visible,
    .control:disabled,
    .control:active {
        outline: none;
    }

    .controls {
        opacity: 0;
    }

    .label {
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        display: block;
        font: inherit;
        margin-bottom: 4px;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
        margin-inline: 11px;
    }

    .step-up-glyph,
    .step-down-glyph {
        cursor: pointer;
        display: block;
        padding: 4px 10px;
    }

    .step-up-glyph:before,
    .step-down-glyph:before {
        border: solid transparent 6px;
        content: "";
        display: block;
    }

    .step-up-glyph:before {
        border-bottom-color: var(--neutral-foreground-rest);
    }

    .step-down-glyph:before {
        border-top-color: var(--neutral-foreground-rest);
    }

    :host(:hover:not([disabled])) .root {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-hover);
    }

    :host(:active:not([disabled])) .root {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-active);
    }

    :host(:focus-within:not([disabled])) .root {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc(var(--focus-stroke-width) * 1px) var(--focus-stroke-outer)
            inset;
    }

    :host(:hover:not([disabled])) .controls,
    :host(:focus-within:not([disabled])) .controls {
        opacity: 1;
    }

    :host([appearance="filled"]) .root {
        background: var(--neutral-fill-rest);
    }

    :host([appearance="filled"]:hover:not([disabled])) .root {
        background: var(--neutral-fill-hover);
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: not-allowed;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        border-color: var(--neutral-stroke-rest);
    }
`;
_number_field_js__WEBPACK_IMPORTED_MODULE_0__.FASTNumberField.define({
    name: "fast-number-field",
    styles,
    template: (0,_number_field_template_js__WEBPACK_IMPORTED_MODULE_1__.numberFieldTemplate)({
        stepDownGlyph: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <span class="step-down-glyph" part="step-down-glyph"></span>
        `,
        stepUpGlyph: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <span class="step-up-glyph" part="step-up-glyph"></span>
        `,
    }),
    shadowOptions: {
        delegatesFocus: true,
    },
});


/***/ }),

/***/ "./src/number-field/stories/number-field.stories.ts":
/*!**********************************************************!*\
  !*** ./src/number-field/stories/number-field.stories.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NumberField": () => (/* binding */ NumberField),
/* harmony export */   "NumberFieldInForm": () => (/* binding */ NumberFieldInForm),
/* harmony export */   "NumberFieldWithSlottedStartEnd": () => (/* binding */ NumberFieldWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-number-field
        ?readonly="${x => x.readOnly}"
        ?required="${x => x.required}"
        ?autofocus="${x => x.autofocus}"
        ?disabled="${x => x.disabled}"
        ?hide-step="${x => x.hideStep}"
        :list="${x => x.list}"
        step="${x => x.step}"
        max="${x => x.max}"
        maxlength="${x => x.maxlength}"
        min="${x => x.min}"
        minlength="${x => x.minlength}"
        placeholder="${x => x.placeholder}"
        size="${x => x.size}"
        value="${x => x.value}"
        :ariaAtomic="${x => x.ariaAtomic}"
        :ariaBusy="${x => x.ariaBusy}"
        :ariaControls="${x => x.ariaControls}"
        :ariaCurrent="${x => x.ariaCurrent}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaDetails="${x => x.ariaDetails}"
        :ariaDisabled="${x => x.ariaDisabled}"
        :ariaErrormessage="${x => x.ariaErrormessage}"
        :ariaFlowto="${x => x.ariaFlowto}"
        :ariaHaspopup="${x => x.ariaHaspopup}"
        :ariaHidden="${x => x.ariaHidden}"
        :ariaInvalid="${x => x.ariaInvalid}"
        :ariaKeyshortcuts="${x => x.ariaKeyshortcuts}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLive="${x => x.ariaLive}"
        :ariaOwns="${x => x.ariaOwns}"
        :ariaRelevant="${x => x.ariaRelevant}"
        :ariaRoledescription="${x => x.ariaRoledescription}"
    >
        ${x => x.storyContent}
    </fast-number-field>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Number Field",
    args: {
        readOnly: false,
        required: false,
        autofocus: false,
        disabled: false,
        hideStep: false,
        storyContent: "Number Field",
    },
    argTypes: {
        autofocus: { control: "boolean" },
        disabled: { control: "boolean" },
        hideStep: { control: "boolean" },
        step: { control: "number" },
        list: { control: "text" },
        max: { control: "number" },
        maxlength: { control: "number" },
        min: { control: "number" },
        minlength: { control: "number" },
        placeholder: { control: "text" },
        readOnly: { control: "boolean" },
        required: { control: "boolean" },
        size: { control: "number" },
        value: { control: "number" },
        valueAsNumber: { control: "number" },
        ariaAtomic: { control: "text" },
        ariaBusy: { control: "text" },
        ariaControls: { control: "text" },
        ariaCurrent: { control: "text" },
        ariaDescribedby: { control: "text" },
        ariaDetails: { control: "text" },
        ariaDisabled: { control: "text" },
        ariaErrormessage: { control: "text" },
        ariaFlowto: { control: "text" },
        ariaHaspopup: { control: "text" },
        ariaHidden: { control: "text" },
        ariaInvalid: { control: "text" },
        ariaKeyshortcuts: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        ariaLive: { control: "text" },
        ariaOwns: { control: "text" },
        ariaRelevant: { control: "text" },
        ariaRoledescription: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const NumberField = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const NumberFieldWithSlottedStartEnd = NumberField.bind({});
NumberFieldWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Number Field
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const NumberFieldInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <form @submit="${() => false}">
        ${storyTemplate}
        <fast-button type="submit">Submit</fast-button>
    </form>
`).bind({});


/***/ }),

/***/ "./src/patterns/aria-global.ts":
/*!*************************************!*\
  !*** ./src/patterns/aria-global.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ARIAGlobalStatesAndProperties": () => (/* binding */ ARIAGlobalStatesAndProperties)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");


/**
 * Some states and properties are applicable to all host language elements regardless of whether a role is applied.
 * The following global states and properties are supported by all roles and by all base markup elements.
 * {@link https://www.w3.org/TR/wai-aria-1.1/#global_states}
 *
 * This is intended to be used as a mixin. Be sure you extend FASTElement.
 *
 * @public
 */
class ARIAGlobalStatesAndProperties {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-atomic" })
], ARIAGlobalStatesAndProperties.prototype, "ariaAtomic", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-busy" })
], ARIAGlobalStatesAndProperties.prototype, "ariaBusy", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-controls" })
], ARIAGlobalStatesAndProperties.prototype, "ariaControls", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-current" })
], ARIAGlobalStatesAndProperties.prototype, "ariaCurrent", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-describedby" })
], ARIAGlobalStatesAndProperties.prototype, "ariaDescribedby", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-details" })
], ARIAGlobalStatesAndProperties.prototype, "ariaDetails", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-disabled" })
], ARIAGlobalStatesAndProperties.prototype, "ariaDisabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-errormessage" })
], ARIAGlobalStatesAndProperties.prototype, "ariaErrormessage", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-flowto" })
], ARIAGlobalStatesAndProperties.prototype, "ariaFlowto", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-haspopup" })
], ARIAGlobalStatesAndProperties.prototype, "ariaHaspopup", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-hidden" })
], ARIAGlobalStatesAndProperties.prototype, "ariaHidden", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-invalid" })
], ARIAGlobalStatesAndProperties.prototype, "ariaInvalid", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-keyshortcuts" })
], ARIAGlobalStatesAndProperties.prototype, "ariaKeyshortcuts", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-label" })
], ARIAGlobalStatesAndProperties.prototype, "ariaLabel", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-labelledby" })
], ARIAGlobalStatesAndProperties.prototype, "ariaLabelledby", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-live" })
], ARIAGlobalStatesAndProperties.prototype, "ariaLive", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-owns" })
], ARIAGlobalStatesAndProperties.prototype, "ariaOwns", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-relevant" })
], ARIAGlobalStatesAndProperties.prototype, "ariaRelevant", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.attr)({ attribute: "aria-roledescription" })
], ARIAGlobalStatesAndProperties.prototype, "ariaRoledescription", void 0);


/***/ }),

/***/ "./src/patterns/index.ts":
/*!*******************************!*\
  !*** ./src/patterns/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ARIAGlobalStatesAndProperties": () => (/* reexport safe */ _aria_global_js__WEBPACK_IMPORTED_MODULE_1__.ARIAGlobalStatesAndProperties),
/* harmony export */   "StartEnd": () => (/* reexport safe */ _start_end_js__WEBPACK_IMPORTED_MODULE_2__.StartEnd),
/* harmony export */   "endSlotTemplate": () => (/* reexport safe */ _start_end_js__WEBPACK_IMPORTED_MODULE_2__.endSlotTemplate),
/* harmony export */   "startSlotTemplate": () => (/* reexport safe */ _start_end_js__WEBPACK_IMPORTED_MODULE_2__.startSlotTemplate),
/* harmony export */   "tagFor": () => (/* reexport safe */ _tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)
/* harmony export */ });
/* harmony import */ var _tag_for_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tag-for.js */ "./src/patterns/tag-for.ts");
/* harmony import */ var _aria_global_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aria-global.js */ "./src/patterns/aria-global.ts");
/* harmony import */ var _start_end_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./start-end.js */ "./src/patterns/start-end.ts");





/***/ }),

/***/ "./src/patterns/start-end.ts":
/*!***********************************!*\
  !*** ./src/patterns/start-end.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StartEnd": () => (/* binding */ StartEnd),
/* harmony export */   "endSlotTemplate": () => (/* binding */ endSlotTemplate),
/* harmony export */   "startSlotTemplate": () => (/* binding */ startSlotTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


/**
 * A mixin class implementing start and end slots.
 * These are generally used to decorate text elements with icons or other visual indicators.
 * @public
 */
class StartEnd {
}
/**
 * The template for the end slot.
 * For use with {@link StartEnd}
 *
 * @public
 */
function endSlotTemplate(options) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <slot name="end" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("end")}>${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.end)}</slot>
    `.inline();
}
/**
 * The template for the start slots.
 * For use with {@link StartEnd}
 *
 * @public
 */
function startSlotTemplate(options) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <slot name="start" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("start")}>${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.start)}</slot>
    `.inline();
}


/***/ }),

/***/ "./src/patterns/tag-for.ts":
/*!*********************************!*\
  !*** ./src/patterns/tag-for.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tagFor": () => (/* binding */ tagFor)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-definitions.js");

/**
 * Determines what HTML tag name to use for the dependency.
 * @param dependency - The dependency the template is dependent on.
 * @returns The tag name to use in markup.
 * @beta
 */
function tagFor(dependency) {
    if (typeof dependency === "string") {
        return dependency;
    }
    if (typeof dependency === "function") {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        dependency = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElementDefinition.getByType(dependency);
        if (!dependency) {
            throw new Error("Missing FASTElement definition.");
        }
    }
    return dependency.name;
}


/***/ }),

/***/ "./src/picker/picker-list-item.template.ts":
/*!*************************************************!*\
  !*** ./src/picker/picker-list-item.template.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "pickerListItemTemplate": () => (/* binding */ pickerListItemTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 *
 * @public
 */
function pickerListItemTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template
            role="listitem"
            tabindex="0"
            @click="${(x, c) => x.handleClick(c.event)}"
            @keydown="${(x, c) => x.handleKeyDown(c.event)}"
        >
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/picker/picker-list-item.ts":
/*!****************************************!*\
  !*** ./src/picker/picker-list-item.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTPickerListItem": () => (/* binding */ FASTPickerListItem)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");



const defaultContentsTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
    <template>
        ${x => x.value}
    </template>
`;
/**
 * A picker list item Custom HTML Element.
 *
 * @beta
 */
class FASTPickerListItem extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    contentsTemplateChanged() {
        if (this.$fastController.isConnected) {
            this.updateView();
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.updateView();
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        this.disconnectView();
        super.disconnectedCallback();
    }
    handleKeyDown(e) {
        if (e.defaultPrevented) {
            return false;
        }
        if (e.key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyEnter) {
            this.handleInvoke();
            return false;
        }
        return true;
    }
    handleClick(e) {
        if (!e.defaultPrevented) {
            this.handleInvoke();
        }
        return false;
    }
    handleInvoke() {
        this.$emit("pickeriteminvoked");
    }
    updateView() {
        var _a, _b;
        this.disconnectView();
        this.customView =
            (_b = (_a = this.contentsTemplate) === null || _a === void 0 ? void 0 : _a.render(this, this)) !== null && _b !== void 0 ? _b : defaultContentsTemplate.render(this, this);
    }
    disconnectView() {
        var _a;
        (_a = this.customView) === null || _a === void 0 ? void 0 : _a.dispose();
        this.customView = undefined;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr)({ attribute: "value" })
], FASTPickerListItem.prototype, "value", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.observable
], FASTPickerListItem.prototype, "contentsTemplate", void 0);


/***/ }),

/***/ "./src/picker/picker-list.template.ts":
/*!********************************************!*\
  !*** ./src/picker/picker-list.template.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "pickerListTemplate": () => (/* binding */ pickerListTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 *
 * @public
 */
function pickerListTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template slot="list-region" role="list">
            <slot></slot>
            <slot name="input-region"></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/picker/picker-list.ts":
/*!***********************************!*\
  !*** ./src/picker/picker-list.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTPickerList": () => (/* binding */ FASTPickerList)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");

/**
 * A List Picker Menu Custom HTML Element.
 *
 * @beta
 */
class FASTPickerList extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
}


/***/ }),

/***/ "./src/picker/picker-menu-option.template.ts":
/*!***************************************************!*\
  !*** ./src/picker/picker-menu-option.template.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "pickerMenuOptionTemplate": () => (/* binding */ pickerMenuOptionTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 *
 * @public
 */
function pickerMenuOptionTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template
            role="listitem"
            tabindex="-1"
            @click="${(x, c) => x.handleClick(c.event)}"
        >
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/picker/picker-menu-option.ts":
/*!******************************************!*\
  !*** ./src/picker/picker-menu-option.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTPickerMenuOption": () => (/* binding */ FASTPickerMenuOption)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");


const defaultContentsTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
    <template>
        ${x => x.value}
    </template>
`;
/**
 * A picker list item Custom HTML Element.
 *
 * @beta
 */
class FASTPickerMenuOption extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    contentsTemplateChanged() {
        if (this.$fastController.isConnected) {
            this.updateView();
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.updateView();
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.disconnectView();
    }
    handleClick(e) {
        if (e.defaultPrevented) {
            return false;
        }
        this.handleInvoked();
        return false;
    }
    handleInvoked() {
        this.$emit("pickeroptioninvoked");
    }
    updateView() {
        var _a, _b;
        this.disconnectView();
        this.customView =
            (_b = (_a = this.contentsTemplate) === null || _a === void 0 ? void 0 : _a.render(this, this)) !== null && _b !== void 0 ? _b : defaultContentsTemplate.render(this, this);
    }
    disconnectView() {
        var _a;
        (_a = this.customView) === null || _a === void 0 ? void 0 : _a.dispose();
        this.customView = undefined;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ attribute: "value" })
], FASTPickerMenuOption.prototype, "value", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTPickerMenuOption.prototype, "contentsTemplate", void 0);


/***/ }),

/***/ "./src/picker/picker-menu.template.ts":
/*!********************************************!*\
  !*** ./src/picker/picker-menu.template.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "pickerMenuTemplate": () => (/* binding */ pickerMenuTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");

/**
 * The template for the List Picker component.
 * @public
 */
function pickerMenuTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template role="list" slot="menu-region">
            <div class="options-display" part="options-display">
                <div class="header-region" part="header-region">
                    <slot name="header-region" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.slotted)("headerElements")}></slot>
                </div>

                <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.slotted)("menuElements")}></slot>
                <div class="footer-region" part="footer-region">
                    <slot name="footer-region" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.slotted)("footerElements")}></slot>
                </div>
                <div
                    role="alert"
                    aria-live="polite"
                    part="suggestions-available-alert"
                    class="suggestions-available-alert"
                >
                    ${x => x.suggestionsAvailableText}
                </div>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/picker/picker-menu.ts":
/*!***********************************!*\
  !*** ./src/picker/picker-menu.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTPickerMenu": () => (/* binding */ FASTPickerMenu)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");



/**
 * A List Picker Menu Custom HTML Element.
 *
 * @beta
 */
class FASTPickerMenu extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Children that are list items
         *
         * @internal
         */
        this.optionElements = [];
    }
    menuElementsChanged() {
        this.updateOptions();
    }
    headerElementsChanged() {
        this.updateOptions();
    }
    footerElementsChanged() {
        this.updateOptions();
    }
    updateOptions() {
        this.optionElements.splice(0, this.optionElements.length);
        this.addSlottedListItems(this.headerElements);
        this.addSlottedListItems(this.menuElements);
        this.addSlottedListItems(this.footerElements);
        this.$emit("optionsupdated", { bubbles: false });
    }
    addSlottedListItems(slotChildren) {
        if (slotChildren === undefined) {
            return;
        }
        slotChildren.forEach((child) => {
            if (child.nodeType === 1 && child.getAttribute("role") === "listitem") {
                child.id = child.id || (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.uniqueId)("option-");
                this.optionElements.push(child);
            }
        });
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTPickerMenu.prototype, "menuElements", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTPickerMenu.prototype, "headerElements", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTPickerMenu.prototype, "footerElements", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTPickerMenu.prototype, "suggestionsAvailableText", void 0);


/***/ }),

/***/ "./src/picker/picker.form-associated.ts":
/*!**********************************************!*\
  !*** ./src/picker/picker.form-associated.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedPicker": () => (/* binding */ FormAssociatedPicker)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Picker extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTPicker:class)} component.
 *
 * @beta
 */
class FormAssociatedPicker extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_Picker) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/picker/picker.options.ts":
/*!**************************************!*\
  !*** ./src/picker/picker.options.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MenuPlacement": () => (/* binding */ MenuPlacement)
/* harmony export */ });
/**
 * vertical positioning values for an anchored region
 * @beta
 */
const MenuPlacement = {
    bottom: "bottom",
    bottomFill: "bottom-fill",
    tallest: "tallest",
    tallestFill: "tallest-fill",
    top: "top",
    topFill: "top-fill",
};


/***/ }),

/***/ "./src/picker/picker.template.ts":
/*!***************************************!*\
  !*** ./src/picker/picker.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "pickerTemplate": () => (/* binding */ pickerTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/tag-for.js */ "./src/patterns/tag-for.ts");


function defaultListItemTemplate(options) {
    const pickerListItemTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html.partial((0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.pickerListItem));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <${pickerListItemTag}
        value="${x => x}"
        :contentsTemplate="${(x, c) => c.parent.listItemContentsTemplate}"
    >
    </${pickerListItemTag}>
    `;
}
function defaultMenuOptionTemplate(options) {
    const pickerMenuOptionTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html.partial((0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.pickerMenuOption));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <${pickerMenuOptionTag}
        value="${x => x}"
        :contentsTemplate="${(x, c) => c.parent.menuOptionContentsTemplate}"
    >
    </${pickerMenuOptionTag}>
    `;
}
/**
 * The template for the List Picker component.
 * @public
 */
function pickerTemplate(options) {
    const anchoredRegionTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html.partial((0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.anchoredRegion));
    const pickerMenuTag = (0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.pickerMenu);
    const pickerListTag = (0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.pickerList);
    const progressRingTag = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html.partial((0,_patterns_tag_for_js__WEBPACK_IMPORTED_MODULE_0__.tagFor)(options.progressRing));
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            :selectedListTag="${() => pickerListTag}"
            :menuTag="${() => pickerMenuTag}"
            :defaultListItemTemplate="${defaultListItemTemplate(options)}"
            :defaultMenuOptionTemplate="${defaultMenuOptionTemplate(options)}"
            @focusin="${(x, c) => x.handleFocusIn(c.event)}"
            @focusout="${(x, c) => x.handleFocusOut(c.event)}"
            @keydown="${(x, c) => x.handleKeyDown(c.event)}"
            @pickeriteminvoked="${(x, c) => x.handleItemInvoke(c.event)}"
            @pickeroptioninvoked="${(x, c) => x.handleOptionInvoke(c.event)}"
        >
            <slot name="list-region"></slot>

            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => x.flyoutOpen, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                <${anchoredRegionTag}
                    class="region"
                    part="region"
                    auto-update-mode="${x => x.menuConfig.autoUpdateMode}"
                    fixed-placement="${x => x.menuConfig.fixedPlacement}"
                    vertical-positioning-mode="${x => x.menuConfig.verticalPositioningMode}"
                    vertical-default-position="${x => x.menuConfig.verticalDefaultPosition}"
                    vertical-scaling="${x => x.menuConfig.verticalScaling}"
                    vertical-inset="${x => x.menuConfig.verticalInset}"
                    vertical-viewport-lock="${x => x.menuConfig.verticalViewportLock}"
                    horizontal-positioning-mode="${x => x.menuConfig.horizontalPositioningMode}"
                    horizontal-default-position="${x => x.menuConfig.horizontalDefaultPosition}"
                    horizontal-scaling="${x => x.menuConfig.horizontalScaling}"
                    horizontal-inset="${x => x.menuConfig.horizontalInset}"
                    horizontal-viewport-lock="${x => x.menuConfig.horizontalViewportLock}"
                    @loaded="${(x, c) => x.handleRegionLoaded(c.event)}"
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.ref)("region")}
                >
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => !x.showNoOptions && !x.showLoading, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                            <slot name="menu-region"></slot>
                        `)}
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => x.showNoOptions && !x.showLoading, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                            <div class="no-options-display" part="no-options-display">
                                <slot name="no-options-region">
                                    ${x => x.noSuggestionsText}
                                </slot>
                            </div>
                        `)}
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => x.showLoading, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                            <div class="loading-display" part="loading-display">
                                <slot name="loading-region">
                                    <${progressRingTag}
                                        part="loading-progress"
                                        class="loading-progress"
                                        slot="loading-region"
                                    ></${progressRingTag}>
                                        ${x => x.loadingText}
                                </slot>
                            </div>
                        `)}
                </${anchoredRegionTag}>
            `)}
        </template>
    `;
}


/***/ }),

/***/ "./src/picker/picker.ts":
/*!******************************!*\
  !*** ./src/picker/picker.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTPicker": () => (/* binding */ FASTPicker)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/index.debug.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element/utilities */ "./node_modules/@microsoft/fast-element/dist/esm/utilities.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../anchored-region/index.js */ "./src/anchored-region/index.ts");
/* harmony import */ var _picker_list_item_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./picker-list-item.js */ "./src/picker/picker-list-item.ts");
/* harmony import */ var _picker_menu_option_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./picker-menu-option.js */ "./src/picker/picker-menu-option.ts");
/* harmony import */ var _picker_form_associated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./picker.form-associated.js */ "./src/picker/picker.form-associated.ts");
/* harmony import */ var _picker_options_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./picker.options.js */ "./src/picker/picker.options.ts");









const pickerInputTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.html `
    <input
        slot="input-region"
        role="combobox"
        type="text"
        autocapitalize="off"
        autocomplete="off"
        haspopup="list"
        aria-label="${x => x.label}"
        aria-labelledby="${x => x.labelledBy}"
        placeholder="${x => x.placeholder}"
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.ref)("inputElement")}
    />
`;
/**
 * A Picker Custom HTML Element.  This is an early "alpha" version of the component.
 * Developers should expect the api to evolve, breaking changes are possible.
 *
 * @beta
 */
class FASTPicker extends _picker_form_associated_js__WEBPACK_IMPORTED_MODULE_3__.FormAssociatedPicker {
    constructor() {
        super(...arguments);
        /**
         * Currently selected items. Comma delineated string ie. "apples,oranges".
         *
         * @remarks
         * HTML Attribute: selection
         */
        this.selection = "";
        /**
         * Whether the component should remove an option from the list when it is in the selection
         *
         * @remarks
         * HTML Attribute: filter-selected
         */
        this.filterSelected = true;
        /**
         * Whether the component should remove options based on the current query
         *
         * @remarks
         * HTML Attribute: filter-query
         */
        this.filterQuery = true;
        /**
         * The text to present to assistive technolgies when no suggestions are available.
         *
         * @remarks
         * HTML Attribute: no-suggestions-text
         */
        this.noSuggestionsText = "No suggestions available";
        /**
         *  The text to present to assistive technolgies when suggestions are available.
         *
         * @remarks
         * HTML Attribute: suggestions-available-text
         */
        this.suggestionsAvailableText = "Suggestions available";
        /**
         * The text to present to assistive technologies when suggestions are loading.
         *
         * @remarks
         * HTML Attribute: loading-text
         */
        this.loadingText = "Loading suggestions";
        /**
         * Controls menu placement
         *
         * @remarks
         * HTML Attribute: menu-placement
         */
        this.menuPlacement = _picker_options_js__WEBPACK_IMPORTED_MODULE_4__.MenuPlacement.bottomFill;
        /**
         * Whether to display a loading state if the menu is opened.
         *
         */
        this.showLoading = false;
        /**
         *  Current list of options in array form
         *
         */
        this.optionsList = [];
        /**
         *  Current list of filtered options in array form
         *
         * @internal
         */
        this.filteredOptionsList = [];
        /**
         *  Indicates if the flyout menu is open or not
         *
         * @internal
         */
        this.flyoutOpen = false;
        /**
         *  Index of currently active menu option
         *
         * @internal
         */
        this.menuFocusIndex = -1;
        /**
         *  Internal flag to indicate no options available display should be shown.
         *
         * @internal
         */
        this.showNoOptions = false;
        /**
         *
         *
         * @internal
         */
        this.selectedItems = [];
        this.inputElementView = null;
        this.behaviorOrchestrator = null;
        /**
         * Handle input event from input element
         */
        this.handleTextInput = (e) => {
            this.query = this.inputElement.value;
        };
        /**
         * Handle click event from input element
         */
        this.handleInputClick = (e) => {
            e.preventDefault();
            this.toggleFlyout(true);
        };
        /**
         * Sets properties on the anchored region once it is instanciated.
         */
        this.setRegionProps = () => {
            if (!this.flyoutOpen) {
                return;
            }
            if (this.region === null || this.region === undefined) {
                // TODO: limit this
                _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(this.setRegionProps);
                return;
            }
            this.region.anchorElement = this.inputElement;
        };
        /**
         * matches menu placement values with the associated menu config
         */
        this.configLookup = {
            top: _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTop,
            bottom: _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosBottom,
            tallest: _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTallest,
            "top-fill": _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTopFill,
            "bottom-fill": _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosBottomFill,
            "tallest-fill": _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosTallestFill,
        };
    }
    selectionChanged() {
        if (this.$fastController.isConnected) {
            this.handleSelectionChange();
            if (this.proxy instanceof HTMLInputElement) {
                this.proxy.value = this.selection;
                this.validate();
            }
        }
    }
    optionsChanged() {
        this.optionsList = this.options
            .split(",")
            .map(opt => opt.trim())
            .filter(opt => opt !== "");
    }
    menuPlacementChanged() {
        if (this.$fastController.isConnected) {
            this.updateMenuConfig();
        }
    }
    showLoadingChanged() {
        if (this.$fastController.isConnected) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => {
                this.setFocusedOption(0);
            });
        }
    }
    listItemTemplateChanged() {
        this.updateListItemTemplate();
    }
    defaultListItemTemplateChanged() {
        this.updateListItemTemplate();
    }
    menuOptionTemplateChanged() {
        this.updateOptionTemplate();
    }
    defaultMenuOptionTemplateChanged() {
        this.updateOptionTemplate();
    }
    optionsListChanged() {
        this.updateFilteredOptions();
    }
    queryChanged() {
        if (this.$fastController.isConnected) {
            if (this.inputElement.value !== this.query) {
                this.inputElement.value = this.query;
            }
            this.updateFilteredOptions();
            this.$emit("querychange", { bubbles: false });
        }
    }
    filteredOptionsListChanged() {
        if (this.$fastController.isConnected) {
            this.showNoOptions =
                this.filteredOptionsList.length === 0 &&
                    this.menuElement.querySelectorAll('[role="listitem"]').length === 0;
            this.setFocusedOption(this.showNoOptions ? -1 : 0);
        }
    }
    flyoutOpenChanged() {
        if (this.flyoutOpen) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(this.setRegionProps);
            this.$emit("menuopening", { bubbles: false });
        }
        else {
            this.$emit("menuclosing", { bubbles: false });
        }
    }
    showNoOptionsChanged() {
        if (this.$fastController.isConnected) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => {
                this.setFocusedOption(0);
            });
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        if (!this.listElement) {
            this.listElement = document.createElement(this.selectedListTag);
            this.appendChild(this.listElement);
            this.itemsPlaceholderElement = document.createComment("");
            this.listElement.appendChild(this.itemsPlaceholderElement);
        }
        this.inputElementView = pickerInputTemplate.render(this, this.listElement);
        const match = this.menuTag.toUpperCase();
        this.menuElement = Array.from(this.children).find((element) => {
            return element.tagName === match;
        });
        if (!this.menuElement) {
            this.menuElement = document.createElement(this.menuTag);
            this.appendChild(this.menuElement);
            if (this.menuElement.id === "") {
                this.menuElement.id = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_8__.uniqueId)("listbox-");
            }
            this.menuId = this.menuElement.id;
        }
        if (!this.optionsPlaceholder) {
            this.optionsPlaceholder = document.createComment("");
            this.menuElement.appendChild(this.optionsPlaceholder);
        }
        this.updateMenuConfig();
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => this.initialize());
    }
    disconnectedCallback() {
        super.disconnectedCallback();
        this.toggleFlyout(false);
        this.inputElement.removeEventListener("input", this.handleTextInput);
        this.inputElement.removeEventListener("click", this.handleInputClick);
        if (this.inputElementView !== null) {
            this.inputElementView.dispose();
            this.inputElementView = null;
        }
    }
    /**
     * Move focus to the input element
     * @public
     */
    focus() {
        this.inputElement.focus();
    }
    /**
     * Initialize the component.  This is delayed a frame to ensure children are connected as well.
     */
    initialize() {
        this.updateListItemTemplate();
        this.updateOptionTemplate();
        if (this.behaviorOrchestrator === null) {
            this.behaviorOrchestrator = _microsoft_fast_element_utilities__WEBPACK_IMPORTED_MODULE_9__.ViewBehaviorOrchestrator.create(this);
            this.$fastController.addBehavior(this.behaviorOrchestrator);
            this.behaviorOrchestrator.addBehaviorFactory(new _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.RepeatDirective((0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.bind)(x => x.selectedItems), (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.bind)(x => x.activeListItemTemplate), { positioning: true }), this.itemsPlaceholderElement);
            this.behaviorOrchestrator.addBehaviorFactory(new _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.RepeatDirective((0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.bind)(x => x.filteredOptionsList), (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.bind)(x => x.activeMenuOptionTemplate), { positioning: true }), this.optionsPlaceholder);
        }
        this.inputElement.addEventListener("input", this.handleTextInput);
        this.inputElement.addEventListener("click", this.handleInputClick);
        this.menuElement.suggestionsAvailableText = this.suggestionsAvailableText;
        this.menuElement.addEventListener("optionsupdated", this.handleMenuOptionsUpdated);
        this.handleSelectionChange();
    }
    /**
     * Toggles the menu flyout
     */
    toggleFlyout(open) {
        if (this.flyoutOpen === open) {
            return;
        }
        if (open && document.activeElement === this.inputElement) {
            this.flyoutOpen = open;
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => {
                if (this.menuElement !== undefined) {
                    this.setFocusedOption(0);
                }
                else {
                    this.disableMenu();
                }
            });
            return;
        }
        this.flyoutOpen = false;
        this.disableMenu();
        return;
    }
    /**
     * Handle the menu options updated event from the child menu
     */
    handleMenuOptionsUpdated(e) {
        e.preventDefault();
        if (this.flyoutOpen) {
            this.setFocusedOption(0);
        }
    }
    /**
     * Handle key down events.
     */
    handleKeyDown(e) {
        if (e.defaultPrevented) {
            return false;
        }
        switch (e.key) {
            // TODO: what should "home" and "end" keys do, exactly?
            //
            // case keyHome: {
            //     if (!this.flyoutOpen) {
            //         this.toggleFlyout(true);
            //     } else {
            //         if (this.menuElement.optionElements.length > 0) {
            //             this.setFocusedOption(0);
            //         }
            //     }
            //     return false;
            // }
            // case keyEnd: {
            //     if (!this.flyoutOpen) {
            //         this.toggleFlyout(true);
            //     } else {
            //         if (this.menuElement.optionElements.length > 0) {
            //             this.toggleFlyout(true);
            //             this.setFocusedOption(this.menuElement.optionElements.length - 1);
            //         }
            //     }
            //     return false;
            // }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyArrowDown: {
                if (!this.flyoutOpen) {
                    this.toggleFlyout(true);
                }
                else {
                    const nextFocusOptionIndex = this.flyoutOpen
                        ? Math.min(this.menuFocusIndex + 1, this.menuElement.optionElements.length - 1)
                        : 0;
                    this.setFocusedOption(nextFocusOptionIndex);
                }
                return false;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyArrowUp: {
                if (!this.flyoutOpen) {
                    this.toggleFlyout(true);
                }
                else {
                    const previousFocusOptionIndex = this.flyoutOpen
                        ? Math.max(this.menuFocusIndex - 1, 0)
                        : 0;
                    this.setFocusedOption(previousFocusOptionIndex);
                }
                return false;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyEscape: {
                this.toggleFlyout(false);
                return false;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyEnter: {
                if (this.menuFocusIndex !== -1 &&
                    this.menuElement.optionElements.length > this.menuFocusIndex) {
                    this.menuElement.optionElements[this.menuFocusIndex].click();
                }
                return false;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyArrowRight: {
                if (document.activeElement !== this.inputElement) {
                    this.incrementFocusedItem(1);
                    return false;
                }
                // don't block if arrow keys moving caret in input element
                return true;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyArrowLeft: {
                if (this.inputElement.selectionStart === 0) {
                    this.incrementFocusedItem(-1);
                    return false;
                }
                // don't block if arrow keys moving caret in input element
                return true;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyDelete:
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_12__.keyBackspace: {
                if (document.activeElement === null) {
                    return true;
                }
                if (document.activeElement === this.inputElement) {
                    if (this.inputElement.selectionStart === 0) {
                        this.selection = this.selectedItems
                            .slice(0, this.selectedItems.length - 1)
                            .toString();
                        this.toggleFlyout(false);
                        return false;
                    }
                    // let text deletion proceed
                    return true;
                }
                const selectedItems = Array.from(this.listElement.children);
                const currentFocusedItemIndex = selectedItems.indexOf(document.activeElement);
                if (currentFocusedItemIndex > -1) {
                    // delete currently focused item
                    this.selection = this.selectedItems
                        .splice(currentFocusedItemIndex, 1)
                        .toString();
                    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => {
                        selectedItems[Math.min(selectedItems.length, currentFocusedItemIndex)].focus();
                    });
                    return false;
                }
                return true;
            }
        }
        this.toggleFlyout(true);
        return true;
    }
    /**
     * Handle focus in events.
     */
    handleFocusIn(e) {
        return false;
    }
    /**
     * Handle focus out events.
     */
    handleFocusOut(e) {
        if (this.menuElement === undefined ||
            !this.menuElement.contains(e.relatedTarget)) {
            this.toggleFlyout(false);
        }
        return false;
    }
    /**
     * The list of selected items has changed
     */
    handleSelectionChange() {
        if (this.selectedItems.toString() === this.selection) {
            return;
        }
        this.selectedItems = this.selection === "" ? [] : this.selection.split(",");
        this.updateFilteredOptions();
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => {
            this.checkMaxItems();
        });
        this.$emit("selectionchange", { bubbles: false });
    }
    /**
     * Anchored region is loaded, menu and options exist in the DOM.
     */
    handleRegionLoaded(e) {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => {
            this.setFocusedOption(0);
            this.$emit("menuloaded", { bubbles: false });
        });
    }
    /**
     * Checks if the maximum number of items has been chosen and updates the ui.
     */
    checkMaxItems() {
        if (this.inputElement === undefined) {
            return;
        }
        if (this.maxSelected !== undefined &&
            this.selectedItems.length >= this.maxSelected) {
            if (document.activeElement === this.inputElement) {
                const selectedItemInstances = Array.from(this.listElement.querySelectorAll("[role='listitem']"));
                selectedItemInstances[selectedItemInstances.length - 1].focus();
            }
            this.inputElement.hidden = true;
        }
        else {
            this.inputElement.hidden = false;
        }
    }
    /**
     * A list item has been invoked.
     */
    handleItemInvoke(e) {
        if (e.defaultPrevented) {
            return false;
        }
        if (e.target instanceof _picker_list_item_js__WEBPACK_IMPORTED_MODULE_1__.FASTPickerListItem) {
            const listItems = Array.from(this.listElement.querySelectorAll("[role='listitem']"));
            const itemIndex = listItems.indexOf(e.target);
            if (itemIndex !== -1) {
                const newSelection = this.selectedItems.slice();
                newSelection.splice(itemIndex, 1);
                this.selection = newSelection.toString();
                _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Updates.enqueue(() => this.incrementFocusedItem(0));
            }
            return false;
        }
        return true;
    }
    /**
     * A menu option has been invoked.
     */
    handleOptionInvoke(e) {
        if (e.defaultPrevented) {
            return false;
        }
        if (e.target instanceof _picker_menu_option_js__WEBPACK_IMPORTED_MODULE_2__.FASTPickerMenuOption) {
            if (e.target.value !== undefined) {
                this.selection = `${this.selection}${this.selection === "" ? "" : ","}${e.target.value}`;
            }
            this.inputElement.value = "";
            this.query = "";
            this.inputElement.focus();
            this.toggleFlyout(false);
            return false;
        }
        // const value: string = (e.target as PickerMenuOption).value;
        return true;
    }
    /**
     * Increments the focused list item by the specified amount
     */
    incrementFocusedItem(increment) {
        if (this.selectedItems.length === 0) {
            this.inputElement.focus();
            return;
        }
        const selectedItemsAsElements = Array.from(this.listElement.querySelectorAll("[role='listitem']"));
        if (document.activeElement !== null) {
            let currentFocusedItemIndex = selectedItemsAsElements.indexOf(document.activeElement);
            if (currentFocusedItemIndex === -1) {
                // use the input element
                currentFocusedItemIndex = selectedItemsAsElements.length;
            }
            const newFocusedItemIndex = Math.min(selectedItemsAsElements.length, Math.max(0, currentFocusedItemIndex + increment));
            if (newFocusedItemIndex === selectedItemsAsElements.length) {
                if (this.maxSelected !== undefined &&
                    this.selectedItems.length >= this.maxSelected) {
                    selectedItemsAsElements[newFocusedItemIndex - 1].focus();
                }
                else {
                    this.inputElement.focus();
                }
            }
            else {
                selectedItemsAsElements[newFocusedItemIndex].focus();
            }
        }
    }
    /**
     * Disables the menu. Note that the menu can be open, just doens't have any valid options on display.
     */
    disableMenu() {
        var _a, _b, _c;
        this.menuFocusIndex = -1;
        this.menuFocusOptionId = undefined;
        (_a = this.inputElement) === null || _a === void 0 ? void 0 : _a.removeAttribute("aria-activedescendant");
        (_b = this.inputElement) === null || _b === void 0 ? void 0 : _b.removeAttribute("aria-owns");
        (_c = this.inputElement) === null || _c === void 0 ? void 0 : _c.removeAttribute("aria-expanded");
    }
    /**
     * Sets the currently focused menu option by index
     */
    setFocusedOption(optionIndex) {
        if (!this.flyoutOpen ||
            optionIndex === -1 ||
            this.showNoOptions ||
            this.showLoading) {
            this.disableMenu();
            return;
        }
        if (this.menuElement.optionElements.length === 0) {
            return;
        }
        this.menuElement.optionElements.forEach((element) => {
            element.setAttribute("aria-selected", "false");
        });
        this.menuFocusIndex = optionIndex;
        if (this.menuFocusIndex > this.menuElement.optionElements.length - 1) {
            this.menuFocusIndex = this.menuElement.optionElements.length - 1;
        }
        this.menuFocusOptionId = this.menuElement.optionElements[this.menuFocusIndex].id;
        this.inputElement.setAttribute("aria-owns", this.menuId);
        this.inputElement.setAttribute("aria-expanded", "true");
        this.inputElement.setAttribute("aria-activedescendant", this.menuFocusOptionId);
        const focusedOption = this.menuElement.optionElements[this.menuFocusIndex];
        focusedOption.setAttribute("aria-selected", "true");
        this.menuElement.scrollTo(0, focusedOption.offsetTop);
    }
    /**
     * Updates the template used for the list item repeat behavior
     */
    updateListItemTemplate() {
        var _a;
        this.activeListItemTemplate =
            (_a = this.listItemTemplate) !== null && _a !== void 0 ? _a : this.defaultListItemTemplate;
    }
    /**
     * Updates the template used for the menu option repeat behavior
     */
    updateOptionTemplate() {
        var _a;
        this.activeMenuOptionTemplate =
            (_a = this.menuOptionTemplate) !== null && _a !== void 0 ? _a : this.defaultMenuOptionTemplate;
    }
    /**
     * Updates the filtered options array
     */
    updateFilteredOptions() {
        this.filteredOptionsList = this.optionsList.slice(0);
        if (this.filterSelected) {
            this.filteredOptionsList = this.filteredOptionsList.filter(el => this.selectedItems.indexOf(el) === -1);
        }
        if (this.filterQuery && this.query !== "" && this.query !== undefined) {
            this.filteredOptionsList = this.filteredOptionsList.filter(el => el.indexOf(this.query) !== -1);
        }
    }
    /**
     * Updates the menu configuration
     */
    updateMenuConfig() {
        let newConfig = this.configLookup[this.menuPlacement];
        if (newConfig === null) {
            newConfig = _anchored_region_index_js__WEBPACK_IMPORTED_MODULE_0__.FlyoutPosBottomFill;
        }
        this.menuConfig = Object.assign(Object.assign({}, newConfig), { autoUpdateMode: "auto", fixedPlacement: true, horizontalViewportLock: false, verticalViewportLock: false });
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "selection" })
], FASTPicker.prototype, "selection", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "options" })
], FASTPicker.prototype, "options", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "filter-selected", mode: "boolean" })
], FASTPicker.prototype, "filterSelected", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "filter-query", mode: "boolean" })
], FASTPicker.prototype, "filterQuery", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "max-selected" })
], FASTPicker.prototype, "maxSelected", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "no-suggestions-text" })
], FASTPicker.prototype, "noSuggestionsText", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "suggestions-available-text" })
], FASTPicker.prototype, "suggestionsAvailableText", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "loading-text" })
], FASTPicker.prototype, "loadingText", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "label" })
], FASTPicker.prototype, "label", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "labelledby" })
], FASTPicker.prototype, "labelledBy", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "placeholder" })
], FASTPicker.prototype, "placeholder", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_14__.attr)({ attribute: "menu-placement" })
], FASTPicker.prototype, "menuPlacement", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "showLoading", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "listItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "defaultListItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "activeListItemTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "menuOptionTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "defaultMenuOptionTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "activeMenuOptionTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "listItemContentsTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "menuOptionContentsTemplate", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "optionsList", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "query", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "filteredOptionsList", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "flyoutOpen", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "menuId", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "selectedListTag", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "menuTag", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "menuFocusIndex", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "menuFocusOptionId", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "showNoOptions", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "menuConfig", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_13__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_15__.observable
], FASTPicker.prototype, "selectedItems", void 0);


/***/ }),

/***/ "./src/picker/stories/picker.register.ts":
/*!***********************************************!*\
  !*** ./src/picker/stories/picker.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _picker_list_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../picker-list-item.js */ "./src/picker/picker-list-item.ts");
/* harmony import */ var _picker_list_item_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../picker-list-item.template.js */ "./src/picker/picker-list-item.template.ts");
/* harmony import */ var _picker_list_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../picker-list.js */ "./src/picker/picker-list.ts");
/* harmony import */ var _picker_list_template_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../picker-list.template.js */ "./src/picker/picker-list.template.ts");
/* harmony import */ var _picker_menu_option_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../picker-menu-option.js */ "./src/picker/picker-menu-option.ts");
/* harmony import */ var _picker_menu_option_template_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../picker-menu-option.template.js */ "./src/picker/picker-menu-option.template.ts");
/* harmony import */ var _picker_menu_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../picker-menu.js */ "./src/picker/picker-menu.ts");
/* harmony import */ var _picker_menu_template_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../picker-menu.template.js */ "./src/picker/picker-menu.template.ts");
/* harmony import */ var _picker_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../picker.js */ "./src/picker/picker.ts");
/* harmony import */ var _picker_template_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../picker.template.js */ "./src/picker/picker.template.ts");











const pickerStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        display: inline-flex;
        box-sizing: border-box;
    }
    fast-anchored-region {
        z-index: 1000;
        display: flex;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
    }
    .loaded {
        opacity: 1;
        pointer-events: none;
    }
    .loading-display,
    .no-options-display {
        background: var(--neutral-layer-floating);
        width: 100%;
        min-height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-items: center;
        padding: calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
    }
    .loading-progress {
        width: 42px;
        height: 42px;
    }
    .bottom {
        flex-direction: column;
    }
    .top {
        flex-direction: column-reverse;
    }
`;
const pickerListStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.css `
    :host {
        min-height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        display: flex;
        flex-direction: row;
        column-gap: calc(var(--design-unit) * 1px);
        row-gap: calc(var(--design-unit) * 1px);
        flex-wrap: wrap;
        box-sizing: border-box;
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        padding: calc(var(--design-unit) * 1px) calc(var(--design-unit) * 2px);
    }
    :host(:not([disabled]):hover) {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-hover);
    }
    :host(:not([disabled]):active) {
        background: var(--neutral-fill-input-active);
        border-color: var(--accent-fill-active);
    }
    :host(:not([disabled]):focus-within) {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 1px var(--focus-stroke-outer) inset;
    }
    ::slotted([role="combobox"]) {
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        min-width: 250px;
        width: auto;
        box-sizing: border-box;
        border: none;
        color: var(--neutral-foreground-rest);
        outline: none;
        user-select: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
    }
`;
const pickerListItemStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.css `
    :host {
        display: flex;
        align-items: center;
        justify-items: center;
        font-family: var(--body-font);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        fill: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        line-height: var(--type-ramp-base-line-height);
        outline: none;
        overflow: hidden;
        padding: 0 calc(var(--design-unit) * 1px);
        user-select: none;
        white-space: nowrap;
    }
    :host(:focus-visible),
    :host(:hover) {
        background: var(--accent-fill-rest);
        color: var(--foreground-on-accent-rest);
    }
    :host(:focus-visible) {
        border-color: var(--focus-stroke-outer);
    }
`;
const pickerMenuStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.css `
    :host {
        margin: calc(var(--design-unit) * 1px) 0;
        background: var(--neutral-layer-floating);
        z-index: 1000;
        display: flex;
        width: 100%;
        box-sizing: border-box;
        flex-direction: column;
        overflow-y: auto;
        overflow-x: hidden;
        pointer-events: auto;
        border-radius: calc(var(--control-corner-radius) * 1px);
        padding: calc(var(--design-unit) * 1px) 0;
        border: calc(var(--stroke-width) * 1px) solid transparent;
        box-shadow: var(--elevation-shadow);
    }
    .suggestions-available-alert {
        height: 0;
        opacity: 0;
        overflow: hidden;
    }
`;
const pickerMenuOptionStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.css `
    :host {
        display: flex;
        align-items: center;
        justify-items: center;
        font-family: var(--body-font);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--focus-stroke-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        fill: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        line-height: var(--type-ramp-base-line-height);
        margin: 0 calc(var(--design-unit) * 1px);
        outline: none;
        overflow: hidden;
        padding: 0 calc(var(--design-unit) * 2.25px);
        user-select: none;
        white-space: nowrap;
    }
    :host(:focus-visible[role="listitem"]) {
        border-color: var(--focus-stroke-outer);
        background: var(--neutral-fill-rest);
        color: var(--neutral-foreground-rest);
    }
    :host(:hover) {
        background: var(--neutral-fill-hover);
        color: var(--neutral-foreground-rest);
    }
    :host([aria-selected="true"]) {
        background: var(--accent-fill-rest);
        color: var(--foreground-on-accent-rest);
    }
`;
_picker_list_js__WEBPACK_IMPORTED_MODULE_2__.FASTPickerList.define({
    name: "fast-picker-list",
    template: (0,_picker_list_template_js__WEBPACK_IMPORTED_MODULE_3__.pickerListTemplate)(),
    styles: pickerListStyles,
});
_picker_list_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTPickerListItem.define({
    name: "fast-picker-list-item",
    template: (0,_picker_list_item_template_js__WEBPACK_IMPORTED_MODULE_1__.pickerListItemTemplate)(),
    styles: pickerListItemStyles,
});
_picker_menu_js__WEBPACK_IMPORTED_MODULE_6__.FASTPickerMenu.define({
    name: "fast-picker-menu",
    template: (0,_picker_menu_template_js__WEBPACK_IMPORTED_MODULE_7__.pickerMenuTemplate)(),
    styles: pickerMenuStyles,
});
_picker_menu_option_js__WEBPACK_IMPORTED_MODULE_4__.FASTPickerMenuOption.define({
    name: "fast-picker-menu-option",
    template: (0,_picker_menu_option_template_js__WEBPACK_IMPORTED_MODULE_5__.pickerMenuOptionTemplate)(),
    styles: pickerMenuOptionStyles,
});
_picker_js__WEBPACK_IMPORTED_MODULE_8__.FASTPicker.define({
    name: "fast-picker",
    template: (0,_picker_template_js__WEBPACK_IMPORTED_MODULE_9__.pickerTemplate)({
        anchoredRegion: "fast-anchored-region",
        pickerList: "fast-picker-list",
        pickerListItem: "fast-picker-list-item",
        pickerMenu: "fast-picker-menu",
        pickerMenuOption: "fast-picker-menu-option",
        progressRing: "fast-progress-ring",
    }),
    styles: pickerStyles,
});


/***/ }),

/***/ "./src/picker/stories/picker.stories.ts":
/*!**********************************************!*\
  !*** ./src/picker/stories/picker.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Picker": () => (/* binding */ Picker),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _picker_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../picker.options.js */ "./src/picker/picker.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-picker
        selection="${x => x.selection}"
        options="${x => x.options}"
        ?filter-selected="${x => x.filterSelected}"
        ?filter-query="${x => x.filterQuery}"
        max-selected="${x => x.maxSelected}"
        no-suggestions-text="${x => x.noSuggestionsText}"
        suggestions-available-text="${x => x.suggestionsAvailableText}"
        loading-text="${x => x.loadingText}"
        label="${x => x.label}"
        labelled-by="${x => x.labelledBy}"
        placeholder="${x => x.placeholder}"
        menu-placement="${x => x.menuPlacement}"
    ></fast-picker>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Picker",
    args: {
        // TODO: These are always true https://github.com/microsoft/fast/issues/6311
        filterQuery: true,
        filterSelected: true,
    },
    argTypes: {
        filterQuery: { control: "boolean" },
        filterSelected: { control: "boolean" },
        label: { control: "text" },
        labelledBy: { control: "text" },
        loadingText: { control: "text" },
        maxSelected: { control: "number" },
        menuPlacement: { control: "select", options: Object.values(_picker_options_js__WEBPACK_IMPORTED_MODULE_1__.MenuPlacement) },
        noSuggestionsText: { control: "text" },
        placeholder: { control: "text" },
        suggestionsAvailableText: { control: "text" },
    },
});
const Picker = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Picker.args = {
    label: "Fruit picker",
    loadingText: "Loading",
    noSuggestionsText: "No such fruit",
    options: "apple, orange, banana, mango, strawberry, raspberry, blueberry",
    placeholder: "Choose fruit",
    selection: "apple",
    suggestionsAvailableText: "Found some fruit",
};


/***/ }),

/***/ "./src/progress-ring/progress-ring.template.ts":
/*!*****************************************************!*\
  !*** ./src/progress-ring/progress-ring.template.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "progressRingTemplate": () => (/* binding */ progressRingTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


const progressSegments = 44;
/**
 * The template for the {@link @microsoft/fast-foundation#FASTProgressRing} component.
 * @public
 */
function progressRingTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="progressbar"
            aria-valuenow="${x => x.value}"
            aria-valuemin="${x => x.min}"
            aria-valuemax="${x => x.max}"
        >
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => typeof x.value === "number", _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                    <svg
                        class="progress"
                        part="progress"
                        viewBox="0 0 16 16"
                        slot="determinate"
                    >
                        <circle
                            class="background"
                            part="background"
                            cx="8px"
                            cy="8px"
                            r="7px"
                        ></circle>
                        <circle
                            class="determinate"
                            part="determinate"
                            style="stroke-dasharray: ${x => (progressSegments * x.percentComplete) /
        100}px ${progressSegments}px"
                            cx="8px"
                            cy="8px"
                            r="7px"
                        ></circle>
                    </svg>
                `)}
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => typeof x.value !== "number", _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                    <slot name="indeterminate">
                        ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.indeterminateIndicator)}
                    </slot>
                `)}
        </template>
    `;
}


/***/ }),

/***/ "./src/progress-ring/progress-ring.ts":
/*!********************************************!*\
  !*** ./src/progress-ring/progress-ring.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTProgressRing": () => (/* binding */ FASTProgressRing)
/* harmony export */ });
/* harmony import */ var _progress_base_progress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../progress/base-progress.js */ "./src/progress/base-progress.ts");

/**
 * An circular Progress HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#progressbar | ARIA progressbar }.
 *
 * @slot indeterminate - The slot for a custom indeterminate indicator
 * @slot determinate - The slot for a custom determinate indicator
 * @csspart progress - Represents the progress element
 * @csspart determinate - The determinate indicator
 * @csspart background - The background
 *
 * @public
 */
class FASTProgressRing extends _progress_base_progress_js__WEBPACK_IMPORTED_MODULE_0__.FASTBaseProgress {
}


/***/ }),

/***/ "./src/progress-ring/stories/progress-ring.register.ts":
/*!*************************************************************!*\
  !*** ./src/progress-ring/stories/progress-ring.register.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _progress_ring_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../progress-ring.js */ "./src/progress-ring/progress-ring.ts");
/* harmony import */ var _progress_ring_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../progress-ring.template.js */ "./src/progress-ring/progress-ring.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        align-items: center;
        display: flex;
        outline: none;
        height: calc(var(--height-number) * 1px);
        width: calc(var(--height-number) * 1px);
        margin: calc(var(--height-number) * 1px) 0;
    }

    .progress {
        height: 100%;
        width: 100%;
    }

    .background {
        stroke: var(--neutral-fill-rest);
        fill: none;
        stroke-width: 2px;
    }

    .determinate {
        stroke: var(--accent-foreground-rest);
        fill: none;
        stroke-width: 2px;
        stroke-linecap: round;
        transform-origin: 50% 50%;
        transform: rotate(-90deg);
        transition: all 0.2s ease-in-out;
    }

    .indeterminate-indicator-1 {
        stroke: var(--accent-foreground-rest);
        fill: none;
        stroke-width: 2px;
        stroke-linecap: round;
        transform-origin: 50% 50%;
        transform: rotate(-90deg);
        transition: all 0.2s ease-in-out;
        animation: spin-infinite 2s linear infinite;
    }

    @keyframes spin-infinite {
        0% {
            stroke-dasharray: 0.01px 43.97px;
            transform: rotate(0deg);
        }
        50% {
            stroke-dasharray: 21.99px 21.99px;
            transform: rotate(450deg);
        }
        100% {
            stroke-dasharray: 0.01px 43.97px;
            transform: rotate(1080deg);
        }
    }
`;
_progress_ring_js__WEBPACK_IMPORTED_MODULE_0__.FASTProgressRing.define({
    name: "fast-progress-ring",
    template: (0,_progress_ring_template_js__WEBPACK_IMPORTED_MODULE_1__.progressRingTemplate)({
        indeterminateIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <svg class="progress" part="progress" viewBox="0 0 16 16">
                <circle
                    class="background"
                    part="background"
                    cx="8px"
                    cy="8px"
                    r="7px"
                ></circle>
                <circle
                    class="indeterminate-indicator-1"
                    part="indeterminate-indicator-1"
                    cx="8px"
                    cy="8px"
                    r="7px"
                ></circle>
            </svg>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/progress-ring/stories/progress-ring.stories.ts":
/*!************************************************************!*\
  !*** ./src/progress-ring/stories/progress-ring.stories.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProgressRing": () => (/* binding */ ProgressRing),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-progress-ring max="${x => x.max}" min="${x => x.min}" value="${x => x.value}">
        ${x => x.storyContent}
    </fast-progress-ring>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Progress/Progress Ring",
    args: {
        indeterminate: false,
        value: 75,
    },
    argTypes: {
        indeterminate: { control: "boolean" },
        min: { control: "number" },
        max: { control: "number" },
        storyContent: { table: { disable: true } },
        value: { control: "number", if: { arg: "indeterminate", truthy: false } },
    },
});
const ProgressRing = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/progress/base-progress.ts":
/*!***************************************!*\
  !*** ./src/progress/base-progress.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTBaseProgress": () => (/* binding */ FASTBaseProgress)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");


/**
 * A base class for progress components.
 * @public
 */
class FASTBaseProgress extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Indicates progress in %
         * @internal
         */
        this.percentComplete = 0;
    }
    valueChanged() {
        this.updatePercentComplete();
    }
    minChanged() {
        if (this.$fastController.isConnected) {
            this.updatePercentComplete();
        }
    }
    maxChanged() {
        if (this.$fastController.isConnected) {
            this.updatePercentComplete();
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.updatePercentComplete();
    }
    updatePercentComplete() {
        const min = typeof this.min === "number" ? this.min : 0;
        const max = typeof this.max === "number" ? this.max : 100;
        const value = typeof this.value === "number" ? this.value : 0;
        const range = max - min;
        this.percentComplete =
            range === 0 ? 0 : Math.fround(((value - min) / range) * 100);
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.nullableNumberConverter })
], FASTBaseProgress.prototype, "value", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.nullableNumberConverter })
], FASTBaseProgress.prototype, "min", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.nullableNumberConverter })
], FASTBaseProgress.prototype, "max", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.observable
], FASTBaseProgress.prototype, "percentComplete", void 0);


/***/ }),

/***/ "./src/progress/progress.template.ts":
/*!*******************************************!*\
  !*** ./src/progress/progress.template.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "progressTemplate": () => (/* binding */ progressTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#FASTProgress} component.
 * @public
 */
function progressTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="progressbar"
            aria-valuenow="${x => x.value}"
            aria-valuemin="${x => x.min}"
            aria-valuemax="${x => x.max}"
        >
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => typeof x.value === "number", _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                    <div class="progress" part="progress" slot="determinate">
                        <div
                            class="determinate"
                            part="determinate"
                            style="width: ${x => x.percentComplete}%"
                        ></div>
                    </div>
                `)}
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => typeof x.value !== "number", _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                    <div class="progress" part="progress" slot="indeterminate">
                        <slot name="indeterminate">
                            ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.indeterminateIndicator1)}
                            ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.indeterminateIndicator2)}
                        </slot>
                    </div>
                `)}
        </template>
    `;
}


/***/ }),

/***/ "./src/progress/progress.ts":
/*!**********************************!*\
  !*** ./src/progress/progress.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTProgress": () => (/* binding */ FASTProgress)
/* harmony export */ });
/* harmony import */ var _base_progress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-progress.js */ "./src/progress/base-progress.ts");

/**
 * An Progress HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#progressbar | ARIA progressbar }.
 *
 * @slot indeterminate - The slot for a custom indeterminate indicator
 * @csspart progress - Represents the progress element
 * @csspart determinate - The determinate indicator
 * @csspart indeterminate - The indeterminate indicator
 *
 * @public
 */
class FASTProgress extends _base_progress_js__WEBPACK_IMPORTED_MODULE_0__.FASTBaseProgress {
}


/***/ }),

/***/ "./src/progress/stories/progress.register.ts":
/*!***************************************************!*\
  !*** ./src/progress/stories/progress.register.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _progress_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../progress.js */ "./src/progress/progress.ts");
/* harmony import */ var _progress_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../progress.template.js */ "./src/progress/progress.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        align-items: center;
        display: flex;
        contain: content;
        outline: none;
        height: calc(var(--design-unit) * 1px);
        margin: calc(var(--design-unit) * 1px) 0;
    }

    .progress {
        background-color: var(--neutral-fill-rest);
        border-radius: calc(var(--design-unit) * 1px);
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        position: relative;
    }

    .determinate {
        background-color: var(--accent-foreground-rest);
        border-radius: calc(var(--design-unit) * 1px);
        height: 100%;
        transition: all 0.2s ease-in-out;
        display: flex;
    }

    .indeterminate {
        border-radius: calc(var(--design-unit) * 1px);
        display: flex;
        height: 100%;
        overflow: hidden;
        position: relative;
        width: 100%;
    }

    .indeterminate-indicator-1 {
        animation: indeterminate-1 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        background-color: var(--accent-foreground-rest);
        border-radius: calc(var(--design-unit) * 1px);
        height: 100%;
        opacity: 0;
        position: absolute;
        width: 40%;
    }

    .indeterminate-indicator-2 {
        position: absolute;
        opacity: 0;
        height: 100%;
        background-color: var(--accent-foreground-rest);
        border-radius: calc(var(--design-unit) * 1px);
        width: 60%;
        animation: indeterminate-2 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes indeterminate-1 {
        0% {
            opacity: 1;
            transform: translateX(-100%);
        }
        70% {
            opacity: 1;
            transform: translateX(300%);
        }
        70.01% {
            opacity: 0;
        }
        100% {
            opacity: 0;
            transform: translateX(300%);
        }
    }

    @keyframes indeterminate-2 {
        0% {
            opacity: 0;
            transform: translateX(-150%);
        }
        29.99% {
            opacity: 0;
        }
        30% {
            opacity: 1;
            transform: translateX(-150%);
        }
        100% {
            transform: translateX(166.66%);
            opacity: 1;
        }
    }
`;
_progress_js__WEBPACK_IMPORTED_MODULE_0__.FASTProgress.define({
    name: "fast-progress",
    template: (0,_progress_template_js__WEBPACK_IMPORTED_MODULE_1__.progressTemplate)({
        indeterminateIndicator1: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <span
                class="indeterminate-indicator-1"
                part="indeterminate-indicator-1"
            ></span>
        `,
        indeterminateIndicator2: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <span
                class="indeterminate-indicator-2"
                part="indeterminate-indicator-2"
            ></span>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/progress/stories/progress.stories.ts":
/*!**************************************************!*\
  !*** ./src/progress/stories/progress.stories.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Progress": () => (/* binding */ Progress),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-progress max="${x => x.max}" min="${x => x.min}" value="${x => x.value}">
        ${x => x.storyContent}
    </fast-progress>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Progress",
    args: {
        indeterminate: false,
        value: 75,
    },
    argTypes: {
        indeterminate: { control: "boolean" },
        min: { control: "number" },
        max: { control: "number" },
        storyContent: { table: { disable: true } },
        value: { control: "number", if: { arg: "indeterminate", truthy: false } },
    },
});
const Progress = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/radio-group/radio-group.options.ts":
/*!************************************************!*\
  !*** ./src/radio-group/radio-group.options.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RadioGroupOrientation": () => (/* binding */ RadioGroupOrientation)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/aria.js");

/**
 * Radio Group orientation
 * @public
 */
const RadioGroupOrientation = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.Orientation;


/***/ }),

/***/ "./src/radio-group/radio-group.template.ts":
/*!*************************************************!*\
  !*** ./src/radio-group/radio-group.template.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "radioGroupTemplate": () => (/* binding */ radioGroupTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");
/* harmony import */ var _radio_group_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./radio-group.options.js */ "./src/radio-group/radio-group.options.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#FASTRadioGroup} component.
 * @public
 */
function radioGroupTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="radiogroup"
            tabindex="${x => (x.disabled ? -1 : void 0)}"
            aria-disabled="${x => x.disabled}"
            aria-readonly="${x => x.readOnly}"
            aria-orientation="${x => x.orientation}"
            @click="${(x, c) => x.clickHandler(c.event)}"
            @mousedown="${(x, c) => x.handleDisabledClick(c.event)}"
            @keydown="${(x, c) => x.keydownHandler(c.event)}"
            @focusout="${(x, c) => x.focusOutHandler(c.event)}"
        >
            <slot name="label"></slot>
            <div
                class="positioning-region ${x => x.orientation === _radio_group_options_js__WEBPACK_IMPORTED_MODULE_0__.RadioGroupOrientation.horizontal
        ? "horizontal"
        : "vertical"}"
                part="positioning-region"
            >
                <slot
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)({
        property: "slottedRadioButtons",
        filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.elements)("[role=radio]"),
    })}
                ></slot>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/radio-group/radio-group.ts":
/*!****************************************!*\
  !*** ./src/radio-group/radio-group.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTRadioGroup": () => (/* binding */ FASTRadioGroup)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/localization.js");
/* harmony import */ var _radio_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../radio/index.js */ "./src/radio/index.ts");
/* harmony import */ var _utilities_direction_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/direction.js */ "./src/utilities/direction.ts");
/* harmony import */ var _radio_group_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./radio-group.options.js */ "./src/radio-group/radio-group.options.ts");






/**
 * An Radio Group Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#radiogroup | ARIA radiogroup }.
 *
 * @slot label - The slot for the label
 * @slot - The default slot for radio buttons
 * @csspart positioning-region - The positioning region for laying out the radios
 * @fires change - Fires a custom 'change' event when the value changes
 *
 * @public
 */
class FASTRadioGroup extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The orientation of the group
         *
         * @public
         * @remarks
         * HTML Attribute: orientation
         */
        this.orientation = _radio_group_options_js__WEBPACK_IMPORTED_MODULE_2__.RadioGroupOrientation.horizontal;
        this.radioChangeHandler = (e) => {
            const changedRadio = e.target;
            if (changedRadio.checked) {
                this.slottedRadioButtons.forEach((radio) => {
                    if (radio !== changedRadio) {
                        radio.checked = false;
                        if (!this.isInsideFoundationToolbar) {
                            radio.setAttribute("tabindex", "-1");
                        }
                    }
                });
                this.selectedRadio = changedRadio;
                this.value = changedRadio.value;
                changedRadio.setAttribute("tabindex", "0");
                this.focusedRadio = changedRadio;
            }
            e.stopPropagation();
        };
        this.moveToRadioByIndex = (group, index) => {
            const radio = group[index];
            if (!this.isInsideToolbar) {
                radio.setAttribute("tabindex", "0");
                if (radio.readOnly) {
                    this.slottedRadioButtons.forEach((nextRadio) => {
                        if (nextRadio !== radio) {
                            nextRadio.setAttribute("tabindex", "-1");
                        }
                    });
                }
                else {
                    radio.checked = true;
                    this.selectedRadio = radio;
                }
            }
            this.focusedRadio = radio;
            radio.focus();
        };
        this.moveRightOffGroup = () => {
            var _a;
            (_a = this.nextElementSibling) === null || _a === void 0 ? void 0 : _a.focus();
        };
        this.moveLeftOffGroup = () => {
            var _a;
            (_a = this.previousElementSibling) === null || _a === void 0 ? void 0 : _a.focus();
        };
        /**
         * @internal
         */
        this.focusOutHandler = (e) => {
            const group = this.slottedRadioButtons;
            const radio = e.target;
            const index = radio !== null ? group.indexOf(radio) : 0;
            const focusedIndex = this.focusedRadio
                ? group.indexOf(this.focusedRadio)
                : -1;
            if ((focusedIndex === 0 && index === focusedIndex) ||
                (focusedIndex === group.length - 1 && focusedIndex === index)) {
                if (!this.selectedRadio) {
                    this.focusedRadio = group[0];
                    this.focusedRadio.setAttribute("tabindex", "0");
                    group.forEach((nextRadio) => {
                        if (nextRadio !== this.focusedRadio) {
                            nextRadio.setAttribute("tabindex", "-1");
                        }
                    });
                }
                else {
                    this.focusedRadio = this.selectedRadio;
                    if (!this.isInsideFoundationToolbar) {
                        this.selectedRadio.setAttribute("tabindex", "0");
                        group.forEach((nextRadio) => {
                            if (nextRadio !== this.selectedRadio) {
                                nextRadio.setAttribute("tabindex", "-1");
                            }
                        });
                    }
                }
            }
            return true;
        };
        /**
         * @internal
         */
        this.handleDisabledClick = (e) => {
            // prevent focus events on items from the click handler when disabled
            if (this.disabled) {
                e.preventDefault();
                return;
            }
            return true;
        };
        /**
         * @internal
         */
        this.clickHandler = (e) => {
            if (this.disabled) {
                return;
            }
            e.preventDefault();
            const radio = e.target;
            if (radio && radio instanceof _radio_index_js__WEBPACK_IMPORTED_MODULE_0__.FASTRadio) {
                radio.checked = true;
                radio.setAttribute("tabindex", "0");
                this.selectedRadio = radio;
                this.focusedRadio = radio;
            }
        };
        this.shouldMoveOffGroupToTheRight = (index, group, key) => {
            return index === group.length && this.isInsideToolbar && key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowRight;
        };
        this.shouldMoveOffGroupToTheLeft = (group, key) => {
            const index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;
            return index < 0 && this.isInsideToolbar && key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowLeft;
        };
        this.checkFocusedRadio = () => {
            if (this.focusedRadio !== null &&
                !this.focusedRadio.readOnly &&
                !this.focusedRadio.checked) {
                this.focusedRadio.checked = true;
                this.focusedRadio.setAttribute("tabindex", "0");
                this.focusedRadio.focus();
                this.selectedRadio = this.focusedRadio;
            }
        };
        this.moveRight = (e) => {
            const group = this.slottedRadioButtons;
            let index = 0;
            index = this.focusedRadio ? group.indexOf(this.focusedRadio) + 1 : 1;
            if (this.shouldMoveOffGroupToTheRight(index, group, e.key)) {
                this.moveRightOffGroup();
                return;
            }
            else if (index === group.length) {
                index = 0;
            }
            /* looping to get to next radio that is not disabled */
            /* matching native radio/radiogroup which does not select an item if there is only 1 in the group */
            while (index < group.length && group.length > 1) {
                if (!group[index].disabled) {
                    this.moveToRadioByIndex(group, index);
                    break;
                }
                else if (this.focusedRadio && index === group.indexOf(this.focusedRadio)) {
                    break;
                }
                else if (index + 1 >= group.length) {
                    if (this.isInsideToolbar) {
                        break;
                    }
                    else {
                        index = 0;
                    }
                }
                else {
                    index += 1;
                }
            }
        };
        this.moveLeft = (e) => {
            const group = this.slottedRadioButtons;
            let index = 0;
            index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;
            index = index < 0 ? group.length - 1 : index;
            if (this.shouldMoveOffGroupToTheLeft(group, e.key)) {
                this.moveLeftOffGroup();
                return;
            }
            /* looping to get to next radio that is not disabled */
            while (index >= 0 && group.length > 1) {
                if (!group[index].disabled) {
                    this.moveToRadioByIndex(group, index);
                    break;
                }
                else if (this.focusedRadio && index === group.indexOf(this.focusedRadio)) {
                    break;
                }
                else if (index - 1 < 0) {
                    index = group.length - 1;
                }
                else {
                    index -= 1;
                }
            }
        };
        /**
         * keyboard handling per https://w3c.github.io/aria-practices/#for-radio-groups-not-contained-in-a-toolbar
         * navigation is different when there is an ancestor with role='toolbar'
         *
         * @internal
         */
        this.keydownHandler = (e) => {
            const key = e.key;
            if (key in _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.ArrowKeys && (this.isInsideFoundationToolbar || this.disabled)) {
                return true;
            }
            switch (key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEnter: {
                    this.checkFocusedRadio();
                    break;
                }
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowRight:
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowDown: {
                    if (this.direction === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Direction.ltr) {
                        this.moveRight(e);
                    }
                    else {
                        this.moveLeft(e);
                    }
                    break;
                }
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowLeft:
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowUp: {
                    if (this.direction === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Direction.ltr) {
                        this.moveLeft(e);
                    }
                    else {
                        this.moveRight(e);
                    }
                    break;
                }
                default: {
                    return true;
                }
            }
        };
    }
    readOnlyChanged() {
        if (this.slottedRadioButtons !== undefined) {
            this.slottedRadioButtons.forEach((radio) => {
                if (this.readOnly) {
                    radio.readOnly = true;
                }
                else {
                    radio.readOnly = false;
                }
            });
        }
    }
    disabledChanged() { }
    nameChanged() {
        if (this.slottedRadioButtons) {
            this.slottedRadioButtons.forEach((radio) => {
                radio.setAttribute("name", this.name);
            });
        }
    }
    valueChanged() {
        if (this.slottedRadioButtons) {
            this.slottedRadioButtons.forEach((radio) => {
                if (radio.value === this.value) {
                    radio.checked = true;
                    this.selectedRadio = radio;
                }
            });
        }
        this.$emit("change");
    }
    slottedRadioButtonsChanged(oldValue, newValue) {
        if (this.slottedRadioButtons && this.slottedRadioButtons.length > 0) {
            this.setupRadioButtons();
        }
    }
    get parentToolbar() {
        return this.closest('[role="toolbar"]');
    }
    get isInsideToolbar() {
        var _a;
        return ((_a = this.parentToolbar) !== null && _a !== void 0 ? _a : false);
    }
    get isInsideFoundationToolbar() {
        var _a;
        return !!((_a = this.parentToolbar) === null || _a === void 0 ? void 0 : _a["$fastController"]);
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.direction = (0,_utilities_direction_js__WEBPACK_IMPORTED_MODULE_1__.getDirection)(this);
        this.setupRadioButtons();
    }
    disconnectedCallback() {
        this.slottedRadioButtons.forEach((radio) => {
            radio.removeEventListener("change", this.radioChangeHandler);
        });
    }
    setupRadioButtons() {
        const checkedRadios = this.slottedRadioButtons.filter((radio) => {
            return radio.hasAttribute("checked");
        });
        const numberOfCheckedRadios = checkedRadios ? checkedRadios.length : 0;
        if (numberOfCheckedRadios > 1) {
            const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];
            lastCheckedRadio.checked = true;
        }
        let foundMatchingVal = false;
        this.slottedRadioButtons.forEach((radio) => {
            if (this.name !== undefined) {
                radio.setAttribute("name", this.name);
            }
            if (this.readOnly) {
                radio.readOnly = true;
            }
            if (this.value && this.value === radio.value) {
                this.selectedRadio = radio;
                this.focusedRadio = radio;
                radio.checked = true;
                radio.setAttribute("tabindex", "0");
                foundMatchingVal = true;
            }
            else {
                if (!this.isInsideFoundationToolbar) {
                    radio.setAttribute("tabindex", "-1");
                }
                radio.checked = false;
            }
            radio.addEventListener("change", this.radioChangeHandler);
        });
        if (this.value === undefined && this.slottedRadioButtons.length > 0) {
            const checkedRadios = this.slottedRadioButtons.filter((radio) => {
                return radio.hasAttribute("checked");
            });
            const numberOfCheckedRadios = checkedRadios !== null ? checkedRadios.length : 0;
            if (numberOfCheckedRadios > 0 && !foundMatchingVal) {
                const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];
                lastCheckedRadio.checked = true;
                this.focusedRadio = lastCheckedRadio;
                lastCheckedRadio.setAttribute("tabindex", "0");
            }
            else {
                this.slottedRadioButtons[0].setAttribute("tabindex", "0");
                this.focusedRadio = this.slottedRadioButtons[0];
            }
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "readonly", mode: "boolean" })
], FASTRadioGroup.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr)({ attribute: "disabled", mode: "boolean" })
], FASTRadioGroup.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTRadioGroup.prototype, "name", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTRadioGroup.prototype, "value", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.attr
], FASTRadioGroup.prototype, "orientation", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.observable
], FASTRadioGroup.prototype, "childItems", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.observable
], FASTRadioGroup.prototype, "slottedRadioButtons", void 0);


/***/ }),

/***/ "./src/radio-group/stories/radio-group.register.ts":
/*!*********************************************************!*\
  !*** ./src/radio-group/stories/radio-group.register.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _radio_group_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../radio-group.js */ "./src/radio-group/radio-group.ts");
/* harmony import */ var _radio_group_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../radio-group.template.js */ "./src/radio-group/radio-group.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        align-items: flex-start;
        display: flex;
        flex-direction: column;
        margin: calc(var(--design-unit) * 1px) 0;
    }
    .positioning-region {
        display: flex;
        flex-wrap: wrap;
    }
    :host([orientation="vertical"]) .positioning-region {
        flex-direction: column;
    }
    :host([orientation="horizontal"]) .positioning-region {
        flex-direction: row;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`;
_radio_group_js__WEBPACK_IMPORTED_MODULE_0__.FASTRadioGroup.define({
    name: "fast-radio-group",
    template: (0,_radio_group_template_js__WEBPACK_IMPORTED_MODULE_1__.radioGroupTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/radio-group/stories/radio-group.stories.ts":
/*!********************************************************!*\
  !*** ./src/radio-group/stories/radio-group.stories.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RadioGroup": () => (/* binding */ RadioGroup),
/* harmony export */   "RadioGroupInForm": () => (/* binding */ RadioGroupInForm),
/* harmony export */   "RadioGroupVertical": () => (/* binding */ RadioGroupVertical),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _radio_stories_radio_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../radio/stories/radio.stories.js */ "./src/radio/stories/radio.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _radio_group_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../radio-group.options.js */ "./src/radio-group/radio-group.options.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fast-radio-group
        ?disabled="${x => x.disabled}"
        ?readonly="${x => x.readOnly}"
        name="${x => x.name}"
        orientation="${x => x.orientation}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-radio-group>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Radio Group",
    args: {
        disabled: false,
        name: "fruits",
        readOnly: false,
        storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <label slot="label">Fruits</label>
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _radio_stories_radio_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        `,
        storyItems: [
            { storyContent: "Apples", value: "apples" },
            { storyContent: "Bananas", value: "bananas" },
            { storyContent: "Blueberries", value: "blueberries" },
            { storyContent: "Grapefruit", value: "grapefruit" },
            { storyContent: "Kiwi", value: "kiwi" },
            { storyContent: "Mango", value: "mango" },
            { storyContent: "Oranges", value: "oranges" },
            { storyContent: "Pineapple", value: "pineapple" },
            { storyContent: "Strawberries", value: "strawberries" },
        ],
    },
    argTypes: {
        disabled: { control: "boolean" },
        name: { control: "text" },
        orientation: { control: "radio", options: Object.values(_radio_group_options_js__WEBPACK_IMPORTED_MODULE_2__.RadioGroupOrientation) },
        readOnly: { control: "boolean" },
        storyContent: { table: { disable: true } },
        storyItems: { control: "object" },
        value: { control: "text" },
    },
});
const RadioGroup = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(storyTemplate).bind({});
const RadioGroupVertical = RadioGroup.bind({});
RadioGroupVertical.args = {
    orientation: _radio_group_options_js__WEBPACK_IMPORTED_MODULE_2__.RadioGroupOrientation.vertical,
};
const RadioGroupInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});


/***/ }),

/***/ "./src/radio/index.ts":
/*!****************************!*\
  !*** ./src/radio/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTRadio": () => (/* reexport safe */ _radio_js__WEBPACK_IMPORTED_MODULE_1__.FASTRadio),
/* harmony export */   "radioTemplate": () => (/* reexport safe */ _radio_template_js__WEBPACK_IMPORTED_MODULE_0__.radioTemplate)
/* harmony export */ });
/* harmony import */ var _radio_template_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./radio.template.js */ "./src/radio/radio.template.ts");
/* harmony import */ var _radio_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./radio.js */ "./src/radio/radio.ts");




/***/ }),

/***/ "./src/radio/radio.form-associated.ts":
/*!********************************************!*\
  !*** ./src/radio/radio.form-associated.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedRadio": () => (/* binding */ FormAssociatedRadio)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Radio extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTRadio:class)} component.
 *
 * @beta
 */
class FormAssociatedRadio extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.CheckableFormAssociated)(_Radio) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/radio/radio.template.ts":
/*!*************************************!*\
  !*** ./src/radio/radio.template.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "radioTemplate": () => (/* binding */ radioTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _utilities_whitespace_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/whitespace-filter.js */ "./src/utilities/whitespace-filter.ts");



/**
 * The template for the {@link @microsoft/fast-foundation#(FASTRadio:class)} component.
 * @public
 */
function radioTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <template
            role="radio"
            aria-checked="${x => x.checked}"
            aria-required="${x => x.required}"
            aria-disabled="${x => x.disabled}"
            aria-readonly="${x => x.readOnly}"
            @keypress="${(x, c) => x.keypressHandler(c.event)}"
        >
            <div part="control" class="control">
                <slot name="checked-indicator">
                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.checkedIndicator)}
                </slot>
            </div>
            <label
                part="label"
                class="${x => {
        var _a;
        return ["label", !((_a = x.defaultSlottedNodes) === null || _a === void 0 ? void 0 : _a.length) && "label__hidden"]
            .filter(Boolean)
            .join(" ");
    }}"
            >
                <slot
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.slotted)({
        property: "defaultSlottedNodes",
        filter: _utilities_whitespace_filter_js__WEBPACK_IMPORTED_MODULE_1__.whitespaceFilter,
    })}
                ></slot>
            </label>
        </template>
    `;
}


/***/ }),

/***/ "./src/radio/radio.ts":
/*!****************************!*\
  !*** ./src/radio/radio.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTRadio": () => (/* binding */ FASTRadio)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _radio_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./radio.form-associated.js */ "./src/radio/radio.form-associated.ts");




/**
 * A Radio Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#radio | ARIA radio }.
 *
 * @slot checked-indicator - The checked indicator
 * @slot - The default slot for the label
 * @csspart control - The element representing the visual radio control
 * @csspart label - The label
 * @fires change - Emits a custom change event when the checked state changes
 *
 * @public
 */
class FASTRadio extends _radio_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociatedRadio {
    readOnlyChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.readOnly = this.readOnly;
        }
    }
    /**
     * @internal
     */
    defaultCheckedChanged() {
        var _a;
        if (this.$fastController.isConnected && !this.dirtyChecked) {
            // Setting this.checked will cause us to enter a dirty state,
            // but if we are clean when defaultChecked is changed, we want to stay
            // in a clean state, so reset this.dirtyChecked
            if (!this.isInsideRadioGroup()) {
                this.checked = (_a = this.defaultChecked) !== null && _a !== void 0 ? _a : false;
                this.dirtyChecked = false;
            }
        }
    }
    constructor() {
        super();
        /**
         * The element's value to be included in form submission when checked.
         * Default to "on" to reach parity with input[type="radio"]
         *
         * @internal
         */
        this.initialValue = "on";
        this.proxy.setAttribute("type", "radio");
    }
    /**
     * @internal
     */
    connectedCallback() {
        var _a, _b;
        super.connectedCallback();
        this.validate();
        if (((_a = this.parentElement) === null || _a === void 0 ? void 0 : _a.getAttribute("role")) !== "radiogroup" &&
            this.getAttribute("tabindex") === null) {
            if (!this.disabled) {
                this.setAttribute("tabindex", "0");
            }
        }
        if (this.checkedAttribute) {
            if (!this.dirtyChecked) {
                // Setting this.checked will cause us to enter a dirty state,
                // but if we are clean when defaultChecked is changed, we want to stay
                // in a clean state, so reset this.dirtyChecked
                if (!this.isInsideRadioGroup()) {
                    this.checked = (_b = this.defaultChecked) !== null && _b !== void 0 ? _b : false;
                    this.dirtyChecked = false;
                }
            }
        }
    }
    isInsideRadioGroup() {
        const parent = this.closest("[role=radiogroup]");
        return parent !== null;
    }
    /**
     * Handles key presses on the radio.
     * @beta
     */
    keypressHandler(e) {
        switch (e.key) {
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.keySpace:
                if (!this.checked && !this.readOnly) {
                    this.checked = true;
                }
                return;
        }
        return true;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ attribute: "readonly", mode: "boolean" })
], FASTRadio.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTRadio.prototype, "name", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTRadio.prototype, "defaultSlottedNodes", void 0);


/***/ }),

/***/ "./src/radio/stories/radio.register.ts":
/*!*********************************************!*\
  !*** ./src/radio/stories/radio.register.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _radio_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../radio.js */ "./src/radio/radio.ts");
/* harmony import */ var _radio_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../radio.template.js */ "./src/radio/radio.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        --input-size: calc(
            ((var(--base-height-multiplier) + var(--density)) * var(--design-unit) / 2) +
                var(--design-unit)
        );
        align-items: center;
        display: inline-flex;
        flex-direction: row;
        margin: calc(var(--design-unit) * 1px) 0;
        /* Chromium likes to select label text or the default slot when
            the radio is clicked. Maybe there is a better solution here? */
        outline: none;
        position: relative;
        user-select: none;
    }

    .control {
        --size: calc(
            (
                    (var(--base-height-multiplier)) * var(--design-unit) / 2 +
                        var(--design-unit)
                ) * 1px
        );
        position: relative;
        width: var(--size);
        height: var(--size);
        box-sizing: border-box;
        border-radius: 100%;
        border: calc(var(--stroke-width) * 1px) solid var(--neutral-stroke-rest);
        background: var(--neutral-fill-input-rest);
        outline: none;
        cursor: pointer;
    }

    .label {
        --spacing: calc(var(--design-unit) * 2px + 2px);
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        font: var(--type-ramp-base-font-size) / var(--type-ramp-base-line-height)
            var(--body-font);
        margin-inline-end: var(--spacing);
        padding-inline-start: var(--spacing);
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .control,
    .checked-indicator {
        flex-shrink: 0;
    }

    .checked-indicator {
        position: absolute;
        top: 5px;
        left: 5px;
        right: 5px;
        bottom: 5px;
        border-radius: 100%;
        display: inline-block;
        background: var(--foreground-on-accent-rest);
        fill: var(--foreground-on-accent-rest);
        opacity: 0;
        pointer-events: none;
    }

    :host(:not([disabled])) .control:hover {
        background: var(--neutral-fill-input-hover);
        border-color: var(--neutral-stroke-hover);
    }

    :host(:not([disabled])) .control:active {
        background: var(--neutral-fill-input-active);
        border-color: var(--neutral-stroke-active);
    }

    :host(:focus-visible) .control {
        box-shadow: 0 0 0 2px var(--fill-color), 0 0 0 4px var(--focus-stroke-outer);
    }

    :host([aria-checked="true"]) .control {
        background: var(--accent-fill-rest);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
    }

    :host([aria-checked="true"]:not([disabled])) .control:hover {
        background: var(--accent-fill-hover);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-hover);
    }

    :host([aria-checked="true"]:not([disabled])) .control:hover .checked-indicator {
        background: var(--foreground-on-accent-hover);
        fill: var(--foreground-on-accent-hover);
    }

    :host([aria-checked="true"]:not([disabled])) .control:active {
        background: var(--accent-fill-active);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-active);
    }

    :host([aria-checked="true"]:not([disabled])) .control:active .checked-indicator {
        background: var(--foreground-on-accent-active);
        fill: var(--foreground-on-accent-active);
    }

    :host([aria-checked="true"]:focus-visible:not([disabled])) .control {
        box-shadow: 0 0 0 2px var(--fill-color), 0 0 0 4px var(--focus-stroke-outer);
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: not-allowed;
    }

    :host([aria-checked="true"]) .checked-indicator {
        opacity: 1;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`;
_radio_js__WEBPACK_IMPORTED_MODULE_0__.FASTRadio.define({
    name: "fast-radio",
    template: (0,_radio_template_js__WEBPACK_IMPORTED_MODULE_1__.radioTemplate)({
        checkedIndicator: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <div part="checked-indicator" class="checked-indicator"></div>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/radio/stories/radio.stories.ts":
/*!********************************************!*\
  !*** ./src/radio/stories/radio.stories.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Radio": () => (/* binding */ Radio),
/* harmony export */   "RadioInForm": () => (/* binding */ RadioInForm),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-radio
        ?checked="${x => x.checked}"
        ?disabled="${x => x.disabled}"
        ?required="${x => x.required}"
        ?readonly="${x => x.readOnly}"
        name="${x => x.name}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-radio>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Radio",
    excludeStories: ["storyTemplate"],
    args: {
        checked: false,
        disabled: false,
        required: false,
        readOnly: false,
        storyContent: "Label",
    },
    argTypes: {
        checked: { control: "boolean" },
        disabled: { control: "boolean" },
        name: { control: "text" },
        required: { control: "boolean" },
        storyContent: { table: { disable: true } },
        value: { control: "text" },
    },
});
const Radio = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const RadioInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});


/***/ }),

/***/ "./src/search/search.form-associated.ts":
/*!**********************************************!*\
  !*** ./src/search/search.form-associated.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedSearch": () => (/* binding */ FormAssociatedSearch)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Search extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTSearch:class)} component.
 *
 * @beta
 */
class FormAssociatedSearch extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_Search) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/search/search.template.ts":
/*!***************************************!*\
  !*** ./src/search/search.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "searchTemplate": () => (/* binding */ searchTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_whitespace_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/whitespace-filter.js */ "./src/utilities/whitespace-filter.ts");



/**
 * The template for the {@link @microsoft/fast-foundation#(FASTSearch:class)} component.
 * @public
 */
function searchTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <label
            part="label"
            for="control"
            class="${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length
        ? "label"
        : "label label__hidden"}"
        >
            <slot
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.slotted)({
        property: "defaultSlottedNodes",
        filter: _utilities_whitespace_filter_js__WEBPACK_IMPORTED_MODULE_1__.whitespaceFilter,
    })}
            ></slot>
        </label>
        <div class="root" part="root" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.ref)("root")}>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
            <div class="input-wrapper" part="input-wrapper">
                <input
                    class="control"
                    part="control"
                    id="control"
                    @input="${x => x.handleTextInput()}"
                    @change="${x => x.handleChange()}"
                    ?autofocus="${x => x.autofocus}"
                    ?disabled="${x => x.disabled}"
                    list="${x => x.list}"
                    maxlength="${x => x.maxlength}"
                    minlength="${x => x.minlength}"
                    pattern="${x => x.pattern}"
                    placeholder="${x => x.placeholder}"
                    ?readonly="${x => x.readOnly}"
                    ?required="${x => x.required}"
                    size="${x => x.size}"
                    ?spellcheck="${x => x.spellcheck}"
                    :value="${x => x.value}"
                    type="search"
                    aria-atomic="${x => x.ariaAtomic}"
                    aria-busy="${x => x.ariaBusy}"
                    aria-controls="${x => x.ariaControls}"
                    aria-current="${x => x.ariaCurrent}"
                    aria-describedby="${x => x.ariaDescribedby}"
                    aria-details="${x => x.ariaDetails}"
                    aria-disabled="${x => x.ariaDisabled}"
                    aria-errormessage="${x => x.ariaErrormessage}"
                    aria-flowto="${x => x.ariaFlowto}"
                    aria-haspopup="${x => x.ariaHaspopup}"
                    aria-hidden="${x => x.ariaHidden}"
                    aria-invalid="${x => x.ariaInvalid}"
                    aria-keyshortcuts="${x => x.ariaKeyshortcuts}"
                    aria-label="${x => x.ariaLabel}"
                    aria-labelledby="${x => x.ariaLabelledby}"
                    aria-live="${x => x.ariaLive}"
                    aria-owns="${x => x.ariaOwns}"
                    aria-relevant="${x => x.ariaRelevant}"
                    aria-roledescription="${x => x.ariaRoledescription}"
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.ref)("control")}
                />
                <slot name="clear-button">
                    <button
                        class="clear-button ${x => x.value ? "" : "clear-button__hidden"}"
                        part="clear-button"
                        tabindex="-1"
                        @click=${x => x.handleClearInput()}
                    >
                        <slot name="clear-glyph">
                            <svg
                                width="9"
                                height="9"
                                viewBox="0 0 9 9"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M0.146447 0.146447C0.338683 -0.0478972 0.645911 -0.0270359 0.853553 0.146447L4.5 3.793L8.14645 0.146447C8.34171 -0.0488155 8.65829 -0.0488155 8.85355 0.146447C9.04882 0.341709 9.04882 0.658291 8.85355 0.853553L5.207 4.5L8.85355 8.14645C9.05934 8.35223 9.03129 8.67582 8.85355 8.85355C8.67582 9.03129 8.35409 9.02703 8.14645 8.85355L4.5 5.207L0.853553 8.85355C0.658291 9.04882 0.341709 9.04882 0.146447 8.85355C-0.0488155 8.65829 -0.0488155 8.34171 0.146447 8.14645L3.793 4.5L0.146447 0.853553C-0.0268697 0.680237 -0.0457894 0.34079 0.146447 0.146447Z"
                                />
                            </svg>
                        </slot>
                    </button>
                </slot>
            </div>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        </div>
    `;
}


/***/ }),

/***/ "./src/search/search.ts":
/*!******************************!*\
  !*** ./src/search/search.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIASearch": () => (/* binding */ DelegatesARIASearch),
/* harmony export */   "FASTSearch": () => (/* binding */ FASTSearch)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _search_form_associated_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./search.form-associated.js */ "./src/search/search.form-associated.ts");





/**
 * A Search Custom HTML Element.
 * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/search | <input type="search" /> element }.
 *
 * @slot start - Content which can be provided before the search input
 * @slot end - Content which can be provided after the search clear button
 * @slot - The default slot for the label
 * @slot clear-button - The clear button
 * @slot clear-glyph - The clear glyph
 * @csspart label - The label
 * @csspart root - The element wrapping the control, including start and end slots
 * @csspart control - The element representing the input
 * @csspart clear-button - The button to clear the input
 *
 * @public
 */
class FASTSearch extends _search_form_associated_js__WEBPACK_IMPORTED_MODULE_2__.FormAssociatedSearch {
    readOnlyChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.readOnly = this.readOnly;
            this.validate();
        }
    }
    autofocusChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.autofocus = this.autofocus;
            this.validate();
        }
    }
    placeholderChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.placeholder = this.placeholder;
        }
    }
    listChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.setAttribute("list", this.list);
            this.validate();
        }
    }
    maxlengthChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.maxLength = this.maxlength;
            this.validate();
        }
    }
    minlengthChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.minLength = this.minlength;
            this.validate();
        }
    }
    patternChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.pattern = this.pattern;
            this.validate();
        }
    }
    sizeChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.size = this.size;
        }
    }
    spellcheckChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.spellcheck = this.spellcheck;
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.validate();
        if (this.autofocus) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Updates.enqueue(() => {
                this.focus();
            });
        }
    }
    /** {@inheritDoc (FormAssociated:interface).validate} */
    validate() {
        super.validate(this.control);
    }
    /**
     * Handles the internal control's `input` event
     * @internal
     */
    handleTextInput() {
        this.value = this.control.value;
    }
    /**
     * Handles the control's clear value event
     * @public
     */
    handleClearInput() {
        this.value = "";
        this.control.focus();
        this.handleChange();
    }
    /**
     * Change event handler for inner control.
     * @remarks
     * "Change" events are not `composable` so they will not
     * permeate the shadow DOM boundary. This fn effectively proxies
     * the change event, emitting a `change` event whenever the internal
     * control emits a `change` event
     * @internal
     */
    handleChange() {
        this.$emit("change");
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ attribute: "readonly", mode: "boolean" })
], FASTSearch.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTSearch.prototype, "autofocus", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTSearch.prototype, "placeholder", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTSearch.prototype, "list", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter })
], FASTSearch.prototype, "maxlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter })
], FASTSearch.prototype, "minlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTSearch.prototype, "pattern", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter })
], FASTSearch.prototype, "size", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTSearch.prototype, "spellcheck", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTSearch.prototype, "defaultSlottedNodes", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA textbox role
 *
 * @public
 */
class DelegatesARIASearch {
}
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(DelegatesARIASearch, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.ARIAGlobalStatesAndProperties);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTSearch, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd, DelegatesARIASearch);


/***/ }),

/***/ "./src/search/stories/search.register.ts":
/*!***********************************************!*\
  !*** ./src/search/stories/search.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../search.js */ "./src/search/search.ts");
/* harmony import */ var _search_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search.template.js */ "./src/search/search.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        display: inline-block;
    }

    :host {
        font-family: var(--body-font);
        outline: none;
        user-select: none;
    }
    .root {
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: row;
        color: var(--neutral-foreground-rest);
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        height: calc(var(--height-number) * 1px);
        align-items: center;
    }
    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        border: 0;
        color: inherit;
        height: calc(100% - 4px);
        width: 100%;
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }
    .control::-webkit-search-cancel-button {
        -webkit-appearance: none;
    }
    .control:hover,
    .control:focus-visible,
    .control:disabled,
    .control:active {
        outline: none;
    }
    .clear-button {
        height: calc(100% - 2px);
        opacity: 0;
        margin: 1px;
        background: transparent;
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
        border: none;
        border-radius: calc(var(--control-corner-radius) * 1px);
        min-width: calc(var(--height-number) * 1px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        outline: none;
        font-family: var(--body-font);
        padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
    }
    .clear-button:hover {
        background: var(--neutral-fill-stealth-hover);
    }
    .clear-button:active {
        background: var(--neutral-fill-stealth-active);
    }
    :host([appearance="filled"]) .clear-button:hover {
        background: var(--clear-button-hover);
    }
    :host([appearance="filled"]) .clear-button:active {
        background: var(--clear-button-active);
    }
    .input-wrapper {
        display: flex;
        position: relative;
        height: 100%;
    }
    .label {
        display: block;
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }
    .label__hidden {
        display: none;
        visibility: hidden;
    }
    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
        margin-inline: 11px;
    }
    :host(:hover:not([disabled])) .root {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-hover);
    }
    :host(:active:not([disabled])) .root {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-active);
    }
    :host(:focus-within:not([disabled])) .root {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 1px var(--focus-stroke-outer) inset;
    }
    .clear-button__hidden {
        opacity: 0;
    }
    :host(:hover:not([disabled], [readonly])) .clear-button,
    :host(:active:not([disabled], [readonly])) .clear-button,
    :host(:focus-within:not([disabled], [readonly])) .clear-button {
        opacity: 1;
    }
    :host(:hover:not([disabled], [readonly])) .clear-button__hidden,
    :host(:active:not([disabled], [readonly])) .clear-button__hidden,
    :host(:focus-within:not([disabled], [readonly])) .clear-button__hidden {
        opacity: 0;
    }
    :host([appearance="filled"]) .root {
        background: var(--fill-color);
    }
    :host([appearance="filled"]:hover:not([disabled])) .root {
        background: var(--neutral-fill-hover);
    }
    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: var(--disabled-cursor);
    }
    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
    :host([disabled]) .control {
        border-color: var(--neutral-stroke-rest);
    }
`;
_search_js__WEBPACK_IMPORTED_MODULE_0__.FASTSearch.define({
    name: "fast-search",
    template: (0,_search_template_js__WEBPACK_IMPORTED_MODULE_1__.searchTemplate)(),
    shadowOptions: {
        delegatesFocus: true,
    },
    styles,
});


/***/ }),

/***/ "./src/search/stories/search.stories.ts":
/*!**********************************************!*\
  !*** ./src/search/stories/search.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Search": () => (/* binding */ Search),
/* harmony export */   "SearchInForm": () => (/* binding */ SearchInForm),
/* harmony export */   "SearchWithSlottedStartEnd": () => (/* binding */ SearchWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-search
        ?autofocus="${x => x.autofocus}"
        ?disabled="${x => x.disabled}"
        ?readonly="${x => x.readonly}"
        ?required="${x => x.required}"
        ?spellcheck="${x => x.spellcheck}"
        list="${x => x.list}"
        maxlength="${x => x.maxlength}"
        minlength="${x => x.minlength}"
        pattern="${x => x.pattern}"
        placeholder="${x => x.placeholder}"
        size="${x => x.size}"
        value="${x => x.value}"
        :ariaAtomic="${x => x.ariaAtomic}"
        :ariaBusy="${x => x.ariaBusy}"
        :ariaControls="${x => x.ariaControls}"
        :ariaCurrent="${x => x.ariaCurrent}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaDetails="${x => x.ariaDetails}"
        :ariaDisabled="${x => x.ariaDisabled}"
        :ariaErrormessage="${x => x.ariaErrormessage}"
        :ariaFlowto="${x => x.ariaFlowto}"
        :ariaHaspopup="${x => x.ariaHaspopup}"
        :ariaHidden="${x => x.ariaHidden}"
        :ariaInvalid="${x => x.ariaInvalid}"
        :ariaKeyshortcuts="${x => x.ariaKeyshortcuts}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLive="${x => x.ariaLive}"
        :ariaOwns="${x => x.ariaOwns}"
        :ariaRelevant="${x => x.ariaRelevant}"
        :ariaRoledescription="${x => x.ariaRoledescription}"
    >
        ${x => x.storyContent}
    </fast-search>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Search",
    args: {
        autofocus: false,
        disabled: false,
        readonly: false,
        required: false,
        spellcheck: false,
        storyContent: "Search",
    },
    argTypes: {
        autofocus: { control: "boolean" },
        disabled: { control: "boolean" },
        list: { control: "text" },
        maxlength: { control: "number" },
        minlength: { control: "number" },
        pattern: { control: "text" },
        placeholder: { control: "text" },
        readonly: { control: "boolean" },
        required: { control: "boolean" },
        size: { control: "number" },
        spellcheck: { control: "boolean" },
        value: { control: "text" },
        ariaAtomic: { control: "text" },
        ariaBusy: { control: "text" },
        ariaControls: { control: "text" },
        ariaCurrent: { control: "text" },
        ariaDescribedby: { control: "text" },
        ariaDetails: { control: "text" },
        ariaDisabled: { control: "text" },
        ariaErrormessage: { control: "text" },
        ariaFlowto: { control: "text" },
        ariaHaspopup: { control: "text" },
        ariaHidden: { control: "text" },
        ariaInvalid: { control: "text" },
        ariaKeyshortcuts: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        ariaLive: { control: "text" },
        ariaOwns: { control: "text" },
        ariaRelevant: { control: "text" },
        ariaRoledescription: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const Search = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const SearchWithSlottedStartEnd = Search.bind({});
SearchWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Search
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const SearchInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});


/***/ }),

/***/ "./src/select/select.form-associated.ts":
/*!**********************************************!*\
  !*** ./src/select/select.form-associated.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedSelect": () => (/* binding */ FormAssociatedSelect)
/* harmony export */ });
/* harmony import */ var _listbox_listbox_element_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../listbox/listbox.element.js */ "./src/listbox/listbox.element.ts");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Select extends _listbox_listbox_element_js__WEBPACK_IMPORTED_MODULE_0__.FASTListboxElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(Select:class)} component.
 *
 * @beta
 */
class FormAssociatedSelect extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_1__.FormAssociated)(_Select) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("select");
    }
}


/***/ }),

/***/ "./src/select/select.template.ts":
/*!***************************************!*\
  !*** ./src/select/select.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "selectTemplate": () => (/* binding */ selectTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../listbox/listbox.js */ "./src/listbox/listbox.ts");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");




/**
 * The template for the {@link @microsoft/fast-foundation#(FASTSelect:class)} component.
 * @public
 */
function selectTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <template
            aria-activedescendant="${x => x.ariaActiveDescendant}"
            aria-controls="${x => x.ariaControls}"
            aria-disabled="${x => x.ariaDisabled}"
            aria-expanded="${x => x.ariaExpanded}"
            aria-haspopup="${x => (x.collapsible ? "listbox" : null)}"
            aria-multiselectable="${x => x.ariaMultiSelectable}"
            ?open="${x => x.open}"
            role="combobox"
            tabindex="${x => (!x.disabled ? "0" : null)}"
            @click="${(x, c) => x.clickHandler(c.event)}"
            @focusin="${(x, c) => x.focusinHandler(c.event)}"
            @focusout="${(x, c) => x.focusoutHandler(c.event)}"
            @keydown="${(x, c) => x.keydownHandler(c.event)}"
            @mousedown="${(x, c) => x.mousedownHandler(c.event)}"
        >
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.when)(x => x.collapsible, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
                    <div
                        class="control"
                        part="control"
                        ?disabled="${x => x.disabled}"
                        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.ref)("control")}
                    >
                        ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_2__.startSlotTemplate)(options)}
                        <slot name="button-container">
                            <div class="selected-value" part="selected-value">
                                <slot name="selected-value">${x => x.displayValue}</slot>
                            </div>
                            <div aria-hidden="true" class="indicator" part="indicator">
                                <slot name="indicator">
                                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.indicator)}
                                </slot>
                            </div>
                        </slot>
                        ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_2__.endSlotTemplate)(options)}
                    </div>
                `)}
            <div
                class="listbox"
                id="${x => x.listboxId}"
                part="listbox"
                role="listbox"
                ?disabled="${x => x.disabled}"
                ?hidden="${x => (x.collapsible ? !x.open : false)}"
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.ref)("listbox")}
            >
                <slot
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.slotted)({
        filter: _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_1__.FASTListbox.slottedOptionFilter,
        flatten: true,
        property: "slottedOptions",
    })}
                ></slot>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/select/select.ts":
/*!******************************!*\
  !*** ./src/select/select.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIASelect": () => (/* binding */ DelegatesARIASelect),
/* harmony export */   "FASTSelect": () => (/* binding */ FASTSelect)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.mjs");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/core/dist/floating-ui.core.browser.mjs");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../listbox/listbox.js */ "./src/listbox/listbox.ts");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _select_form_associated_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select.form-associated.js */ "./src/select/select.form-associated.ts");








/**
 * A Select Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#select | ARIA select }.
 *
 * @slot start - Content which can be provided before the button content
 * @slot end - Content which can be provided after the button content
 * @slot button-container - The element representing the select button
 * @slot selected-value - The selected value
 * @slot indicator - The visual indicator for the expand/collapse state of the button
 * @slot - The default slot for slotted options
 * @csspart control - The element representing the select invoking element
 * @csspart selected-value - The element wrapping the selected value
 * @csspart indicator - The element wrapping the visual indicator
 * @csspart listbox - The listbox element
 * @fires input - Fires a custom 'input' event when the value updates
 * @fires change - Fires a custom 'change' event when the value updates
 *
 * @public
 */
class FASTSelect extends _select_form_associated_js__WEBPACK_IMPORTED_MODULE_3__.FormAssociatedSelect {
    constructor() {
        super(...arguments);
        /**
         * The open attribute.
         *
         * @public
         * @remarks
         * HTML Attribute: open
         */
        this.open = false;
        /**
         * The unique id for the internal listbox element.
         *
         * @internal
         */
        this.listboxId = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.uniqueId)("listbox-");
    }
    /**
     * Sets focus and synchronizes ARIA attributes when the open property changes.
     *
     * @param prev - the previous open value
     * @param next - the current open value
     *
     * @internal
     */
    openChanged(prev, next) {
        var _a;
        if (!this.collapsible) {
            return;
        }
        if (this.open) {
            this.ariaControls = this.listboxId;
            this.ariaExpanded = "true";
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Updates.enqueue(() => this.setPositioning());
            this.focusAndScrollOptionIntoView();
            this.indexWhenOpened = this.selectedIndex;
            // focus is directed to the element when `open` is changed programmatically
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Updates.enqueue(() => this.focus());
            return;
        }
        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);
        this.ariaControls = "";
        this.ariaExpanded = "false";
    }
    /**
     * The component is collapsible when in single-selection mode with no size attribute.
     *
     * @internal
     */
    get collapsible() {
        return !(this.multiple || typeof this.size === "number");
    }
    /**
     * The value property.
     *
     * @public
     */
    get value() {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Observable.track(this, "value");
        return this._value;
    }
    set value(next) {
        var _a, _b, _c, _d, _e, _f, _g;
        const prev = `${this._value}`;
        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.length) {
            const selectedIndex = this._options.findIndex(el => el.value === next);
            const prevSelectedValue = (_c = (_b = this._options[this.selectedIndex]) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : null;
            const nextSelectedValue = (_e = (_d = this._options[selectedIndex]) === null || _d === void 0 ? void 0 : _d.value) !== null && _e !== void 0 ? _e : null;
            if (selectedIndex === -1 || prevSelectedValue !== nextSelectedValue) {
                next = "";
                this.selectedIndex = selectedIndex;
            }
            next = (_g = (_f = this.firstSelectedOption) === null || _f === void 0 ? void 0 : _f.value) !== null && _g !== void 0 ? _g : next;
        }
        if (prev !== next) {
            this._value = next;
            super.valueChanged(prev, next);
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Observable.notify(this, "value");
            this.updateDisplayValue();
        }
    }
    /**
     * Sets the value and display value to match the first selected option.
     *
     * @param shouldEmit - if true, the input and change events will be emitted
     *
     * @internal
     */
    updateValue(shouldEmit) {
        var _a, _b;
        if (this.$fastController.isConnected) {
            this.value = (_b = (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : "";
        }
        if (shouldEmit) {
            this.$emit("input");
            this.$emit("change", this, {
                bubbles: true,
                composed: undefined,
            });
        }
    }
    /**
     * Updates the proxy value when the selected index changes.
     *
     * @param prev - the previous selected index
     * @param next - the next selected index
     *
     * @internal
     */
    selectedIndexChanged(prev, next) {
        super.selectedIndexChanged(prev, next);
        this.updateValue();
    }
    /**
     * Calculate and apply listbox positioning based on available viewport space.
     *
     * @public
     */
    setPositioning() {
        if (this.$fastController.isConnected) {
            this.cleanup = (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_7__.autoUpdate)(this, this.listbox, () => (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__awaiter)(this, void 0, void 0, function* () {
                var _a;
                const { middlewareData, x, y } = yield (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_7__.computePosition)(this.control, this.listbox, {
                    placement: "bottom",
                    strategy: "fixed",
                    middleware: [
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_9__.flip)(),
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_9__.size)({
                            apply: ({ availableHeight, rects }) => {
                                Object.assign(this.listbox.style, {
                                    maxHeight: `${availableHeight}px`,
                                    width: `${rects.reference.width}px`,
                                });
                            },
                        }),
                        (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_9__.hide)(),
                    ],
                });
                if ((_a = middlewareData.hide) === null || _a === void 0 ? void 0 : _a.referenceHidden) {
                    this.open = false;
                    return;
                }
                Object.assign(this.listbox.style, {
                    position: "fixed",
                    top: "0",
                    left: "0",
                    transform: `translate(${x}px, ${y}px)`,
                });
            }));
        }
    }
    /**
     * The value displayed on the button.
     *
     * @public
     */
    get displayValue() {
        var _a, _b;
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Observable.track(this, "displayValue");
        return (_b = (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.text) !== null && _b !== void 0 ? _b : "";
    }
    /**
     * Synchronize the `aria-disabled` property when the `disabled` property changes.
     *
     * @param prev - The previous disabled value
     * @param next - The next disabled value
     *
     * @internal
     */
    disabledChanged(prev, next) {
        if (super.disabledChanged) {
            super.disabledChanged(prev, next);
        }
        this.ariaDisabled = this.disabled ? "true" : "false";
    }
    /**
     * Reset the element to its first selectable option when its parent form is reset.
     *
     * @internal
     */
    formResetCallback() {
        this.setProxyOptions();
        // Call the base class's implementation setDefaultSelectedOption instead of the select's
        // override, in order to reset the selectedIndex without using the value property.
        super.setDefaultSelectedOption();
        if (this.selectedIndex === -1) {
            this.selectedIndex = 0;
        }
    }
    /**
     * Handle opening and closing the listbox when the select is clicked.
     *
     * @param e - the mouse event
     * @internal
     */
    clickHandler(e) {
        // do nothing if the select is disabled
        if (this.disabled) {
            return;
        }
        if (this.open) {
            const captured = e.target.closest(`option,[role=option]`);
            if (captured && captured.disabled) {
                return;
            }
        }
        super.clickHandler(e);
        this.open = this.collapsible && !this.open;
        if (!this.open && this.indexWhenOpened !== this.selectedIndex) {
            this.updateValue(true);
        }
        return true;
    }
    /**
     * Handles focus state when the element or its children lose focus.
     *
     * @param e - The focus event
     * @internal
     */
    focusoutHandler(e) {
        var _a;
        super.focusoutHandler(e);
        if (!this.open) {
            return true;
        }
        const focusTarget = e.relatedTarget;
        if (this.isSameNode(focusTarget)) {
            this.focus();
            return;
        }
        if (!((_a = this.options) === null || _a === void 0 ? void 0 : _a.includes(focusTarget))) {
            this.open = false;
            if (this.indexWhenOpened !== this.selectedIndex) {
                this.updateValue(true);
            }
        }
    }
    /**
     * Updates the value when an option's value changes.
     *
     * @param source - the source object
     * @param propertyName - the property to evaluate
     *
     * @internal
     * @override
     */
    handleChange(source, propertyName) {
        super.handleChange(source, propertyName);
        if (propertyName === "value") {
            this.updateValue();
        }
    }
    /**
     * Synchronize the form-associated proxy and updates the value property of the element.
     *
     * @param prev - the previous collection of slotted option elements
     * @param next - the next collection of slotted option elements
     *
     * @internal
     */
    slottedOptionsChanged(prev, next) {
        this.options.forEach(o => {
            const notifier = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Observable.getNotifier(o);
            notifier.unsubscribe(this, "value");
        });
        super.slottedOptionsChanged(prev, next);
        this.options.forEach(o => {
            const notifier = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Observable.getNotifier(o);
            notifier.subscribe(this, "value");
        });
        this.setProxyOptions();
        this.updateValue();
    }
    /**
     * Prevents focus when size is set and a scrollbar is clicked.
     *
     * @param e - the mouse event object
     *
     * @override
     * @internal
     */
    mousedownHandler(e) {
        var _a;
        if (e.offsetX >= 0 && e.offsetX <= ((_a = this.listbox) === null || _a === void 0 ? void 0 : _a.scrollWidth)) {
            return super.mousedownHandler(e);
        }
        return this.collapsible;
    }
    /**
     * Sets the multiple property on the proxy element.
     *
     * @param prev - the previous multiple value
     * @param next - the current multiple value
     */
    multipleChanged(prev, next) {
        super.multipleChanged(prev, next);
        if (this.proxy) {
            this.proxy.multiple = next;
        }
    }
    /**
     * Updates the selectedness of each option when the list of selected options changes.
     *
     * @param prev - the previous list of selected options
     * @param next - the current list of selected options
     *
     * @override
     * @internal
     */
    selectedOptionsChanged(prev, next) {
        var _a;
        super.selectedOptionsChanged(prev, next);
        (_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach((o, i) => {
            var _a;
            const proxyOption = (_a = this.proxy) === null || _a === void 0 ? void 0 : _a.options.item(i);
            if (proxyOption) {
                proxyOption.selected = o.selected;
            }
        });
    }
    /**
     * Sets the selected index to match the first option with the selected attribute, or
     * the first selectable option.
     *
     * @override
     * @internal
     */
    setDefaultSelectedOption() {
        var _a;
        const options = (_a = this.options) !== null && _a !== void 0 ? _a : Array.from(this.children).filter(_listbox_listbox_js__WEBPACK_IMPORTED_MODULE_0__.FASTListbox.slottedOptionFilter);
        const selectedIndex = options === null || options === void 0 ? void 0 : options.findIndex(el => el.hasAttribute("selected") || el.selected || el.value === this.value);
        if (selectedIndex !== -1) {
            this.selectedIndex = selectedIndex;
            return;
        }
        this.selectedIndex = 0;
    }
    /**
     * Resets and fills the proxy to match the component's options.
     *
     * @internal
     */
    setProxyOptions() {
        if (this.proxy instanceof HTMLSelectElement && this.options) {
            this.proxy.options.length = 0;
            this.options.forEach(option => {
                const proxyOption = option.proxy ||
                    (option instanceof HTMLOptionElement ? option.cloneNode() : null);
                if (proxyOption) {
                    this.proxy.options.add(proxyOption);
                }
            });
        }
    }
    /**
     * Handle keyboard interaction for the select.
     *
     * @param e - the keyboard event
     * @internal
     */
    keydownHandler(e) {
        super.keydownHandler(e);
        const key = e.key || e.key.charCodeAt(0);
        switch (key) {
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keySpace: {
                e.preventDefault();
                if (this.collapsible && this.typeAheadExpired) {
                    this.open = !this.open;
                }
                break;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keyHome:
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keyEnd: {
                e.preventDefault();
                break;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keyEnter: {
                e.preventDefault();
                this.open = !this.open;
                break;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keyEscape: {
                if (this.collapsible && this.open) {
                    e.preventDefault();
                    this.open = false;
                }
                break;
            }
            case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keyTab: {
                if (this.collapsible && this.open) {
                    e.preventDefault();
                    this.open = false;
                }
                return true;
            }
        }
        if (!this.open && this.indexWhenOpened !== this.selectedIndex) {
            this.updateValue(true);
            this.indexWhenOpened = this.selectedIndex;
        }
        return !(key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keyArrowDown || key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_10__.keyArrowUp);
    }
    connectedCallback() {
        super.connectedCallback();
        this.addEventListener("contentchange", this.updateDisplayValue);
    }
    disconnectedCallback() {
        var _a;
        this.removeEventListener("contentchange", this.updateDisplayValue);
        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);
        super.disconnectedCallback();
    }
    /**
     * Updates the proxy's size property when the size attribute changes.
     *
     * @param prev - the previous size
     * @param next - the current size
     *
     * @override
     * @internal
     */
    sizeChanged(prev, next) {
        super.sizeChanged(prev, next);
        if (this.proxy) {
            this.proxy.size = next;
        }
    }
    /**
     *
     * @internal
     */
    updateDisplayValue() {
        if (this.collapsible) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.Observable.notify(this, "displayValue");
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.attr)({ attribute: "open", mode: "boolean" })
], FASTSelect.prototype, "open", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.volatile
], FASTSelect.prototype, "collapsible", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTSelect.prototype, "control", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA select role.
 *
 * @public
 */
class DelegatesARIASelect {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], DelegatesARIASelect.prototype, "ariaControls", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__.applyMixins)(DelegatesARIASelect, _listbox_listbox_js__WEBPACK_IMPORTED_MODULE_0__.DelegatesARIAListbox);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_2__.applyMixins)(FASTSelect, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.StartEnd, DelegatesARIASelect);


/***/ }),

/***/ "./src/select/stories/select.register.ts":
/*!***********************************************!*\
  !*** ./src/select/stories/select.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Select": () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../statics/svg/chevron_down_12_regular.svg */ "./statics/svg/chevron_down_12_regular.svg");
/* harmony import */ var _statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _select_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../select.js */ "./src/select/select.ts");
/* harmony import */ var _select_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../select.template.js */ "./src/select/select.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: inline-flex;
        --elevation: 14;
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        box-sizing: border-box;
        color: var(--neutral-foreground-rest);
        font-family: var(--body-font);
        height: calc(var(--height-number) * 1px);
        position: relative;
        user-select: none;
        min-width: 250px;
        outline: none;
        vertical-align: top;
    }

    :host(:not([aria-haspopup])) {
        --elevation: 0;
        border: 0;
        height: auto;
        min-width: 0;
    }

    .listbox {
        background: var(--fill-color);
        border: none;
        border-radius: calc(var(--control-corner-radius) * 1px);
        box-shadow: var(--elevation-shadow);
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        padding: calc(var(--design-unit) * 1px) 0;
        max-height: calc(
            (
                    var(--size, 0) * var(--height-number) +
                        (var(--design-unit) * var(--stroke-width) * 2)
                ) * 1px
        );
        overflow-y: auto;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
    }

    :host([size="0"]) .listbox {
        max-height: none;
    }

    .control + .listbox {
        --stroke-size: calc(var(--design-unit) * var(--stroke-width) * 2);
        max-height: calc(
            (var(--listbox-max-height) * var(--height-number) + var(--stroke-size)) * 1px
        );
    }
    :host(:not([aria-haspopup])) .listbox {
        left: auto;
        position: static;
        z-index: auto;
    }
    .listbox[hidden] {
        display: none;
    }
    .control {
        align-items: center;
        box-sizing: border-box;
        cursor: pointer;
        display: flex;
        font-size: var(--type-ramp-base-font-size);
        font-family: inherit;
        line-height: var(--type-ramp-base-line-height);
        min-height: 100%;
        padding: 0 calc(var(--design-unit) * 2.25px);
        width: 100%;
    }
    :host(:not([disabled]):hover) {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-hover);
    }
    :host(:focus-visible) {
        border-color: var(--focus-stroke-outer);
    }
    :host(:not([size]):not([multiple]):not([open]):focus-visible),
    :host([multiple]:focus-visible),
    :host([size]:focus-visible) {
        box-shadow: 0 0 0 calc(var(--focus-stroke-width) * 1px) var(--focus-stroke-outer);
    }
    :host(:not([multiple]):not([size]):focus-visible)
        ::slotted(fast-option[aria-selected="true"]:not([disabled])) {
        box-shadow: 0 0 0 calc(var(--focus-stroke-width) * 1px) inset
            var(--focus-stroke-inner);
        border-color: var(--focus-stroke-outer);
        background: var(--accent-fill-focus);
        color: var(--foreground-on-accent-focus);
    }
    :host([disabled]) {
        cursor: var(--disabled-cursor);
        opacity: var(--disabled-opacity);
    }
    :host([disabled]) .control {
        cursor: var(--disabled-cursor);
        user-select: none;
    }
    :host([disabled]:hover) {
        background: var(--neutral-fill-stealth-rest);
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
    }
    :host(:not([disabled])) .control:active {
        background: var(--neutral-fill-input-active);
        border-color: var(--accent-fill-active);
        border-radius: calc(var(--control-corner-radius) * 1px);
    }
    :host([open][position="above"]) .listbox {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        border-bottom: 0;
        bottom: calc(var(--height-number) * 1px);
    }
    :host([open][position="below"]) .listbox {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-top: 0;
        top: calc(var(--height-number) * 1px);
    }
    .selected-value {
        flex: 1 1 auto;
        font-family: inherit;
        min-width: calc(var(--listbox-scroll-width, 0) - (var(--design-unit) * 4) * 1px);
        overflow: hidden;
        text-align: start;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    .indicator {
        flex: 0 0 auto;
        margin-inline-start: 1em;
    }
    slot[name="listbox"] {
        display: none;
        width: 100%;
    }
    :host([open]) slot[name="listbox"] {
        display: flex;
        position: absolute;
        box-shadow: var(--elevation-shadow);
    }
    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }
    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }
    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }
    ::slotted([role="option"]),
    ::slotted(option) {
        flex: 0 0 auto;
    }
`;
class Select extends _select_js__WEBPACK_IMPORTED_MODULE_0__.FASTSelect {
    multipleChanged(prev, next) {
        super.multipleChanged(prev, next);
        this.updateComputedStylesheet();
    }
    sizeChanged(prev, next) {
        super.sizeChanged(prev, next);
        this.updateComputedStylesheet();
    }
    /**
     * Updates an internal stylesheet with calculated CSS custom properties.
     *
     * @internal
     */
    updateComputedStylesheet() {
        var _a;
        this.$fastController.removeStyles(this.computedStylesheet);
        if (this.collapsible) {
            return;
        }
        this.computedStylesheet = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
            :host {
                --size: ${`${(_a = this.size) !== null && _a !== void 0 ? _a : (this.multiple ? 4 : 0)}`};
            }
        `;
        this.$fastController.addStyles(this.computedStylesheet);
    }
}
Select.define({
    name: "fast-select",
    template: (0,_select_template_js__WEBPACK_IMPORTED_MODULE_1__.selectTemplate)({
        indicator: (_statics_svg_chevron_down_12_regular_svg__WEBPACK_IMPORTED_MODULE_3___default()),
    }),
    styles,
});


/***/ }),

/***/ "./src/select/stories/select.stories.ts":
/*!**********************************************!*\
  !*** ./src/select/stories/select.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Select": () => (/* binding */ Select),
/* harmony export */   "SelectDisabled": () => (/* binding */ SelectDisabled),
/* harmony export */   "SelectInForm": () => (/* binding */ SelectInForm),
/* harmony export */   "SelectMultiple": () => (/* binding */ SelectMultiple),
/* harmony export */   "SelectWithSize": () => (/* binding */ SelectWithSize),
/* harmony export */   "SelectWithSlottedStartEnd": () => (/* binding */ SelectWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../listbox-option/stories/listbox-option.stories.js */ "./src/listbox-option/stories/listbox-option.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-select
        ?open="${x => x.open}"
        ?disabled="${x => x.disabled}"
        ?multiple="${x => x.multiple}"
        size="${x => x.size}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-select>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Select",
    args: {
        disabled: false,
        multiple: false,
        open: false,
        storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.storyItems, _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        `,
        storyItems: [
            { storyContent: "William Hartnell" },
            { storyContent: "Patrick Troughton" },
            { storyContent: "Jon Pertwee" },
            { storyContent: "Tom Baker" },
            { storyContent: "Peter Davidson" },
            { storyContent: "Colin Baker" },
            { storyContent: "Sylvester McCoy" },
            { storyContent: "Paul McGann" },
            { storyContent: "Christopher Eccleston" },
            { storyContent: "David Tenant" },
            { storyContent: "Matt Smith" },
            { storyContent: "Peter Capaldi" },
            { storyContent: "Jodie Whittaker" },
            { storyContent: "Ncuti Gatwa" },
        ],
    },
    argTypes: {
        disabled: { control: "boolean" },
        name: { control: "text" },
        multiple: { control: "boolean" },
        open: { control: "boolean" },
        size: { control: "number" },
        storyContent: { table: { disable: true } },
        storyItems: { control: "object" },
        value: { control: "text" },
    },
});
const Select = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(storyTemplate).bind({});
const SelectMultiple = Select.bind({});
SelectMultiple.args = {
    multiple: true,
};
const SelectWithSize = Select.bind({});
SelectWithSize.args = {
    size: 5,
};
const SelectDisabled = Select.bind({});
SelectDisabled.args = {
    disabled: true,
};
const SelectWithSlottedStartEnd = Select.bind({});
SelectWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.storyItems, _listbox_option_stories_listbox_option_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const SelectInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <form @submit="${() => false}">
        ${storyTemplate}
        <fast-button type="submit">Submit</fast-button>
    </form>
`).bind({});


/***/ }),

/***/ "./src/skeleton/skeleton.template.ts":
/*!*******************************************!*\
  !*** ./src/skeleton/skeleton.template.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "skeletonTemplate": () => (/* binding */ skeletonTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");

/**
 * The template for the fast-skeleton component
 * @public
 */
function skeletonTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template pattern="${x => x.pattern}" ?shimmer="${x => x.shimmer}">
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.when)(x => x.shimmer === true, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
                    <span class="shimmer"></span>
                `)}
            <object type="image/svg+xml" data="${x => x.pattern}" role="presentation">
                <img class="pattern" src="${x => x.pattern}" />
            </object>
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/skeleton/skeleton.ts":
/*!**********************************!*\
  !*** ./src/skeleton/skeleton.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTSkeleton": () => (/* binding */ FASTSkeleton),
/* harmony export */   "SkeletonShape": () => (/* binding */ SkeletonShape)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");


/**
 * A structure representing skeleton shapes
 * @public
 */
const SkeletonShape = {
    rect: "rect",
    circle: "circle",
};
/**
 * A Skeleton Custom HTML Element.
 *
 * @slot - The default slot
 *
 * @public
 */
class FASTSkeleton extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Indicates what the shape of the Skeleton should be.
         *
         * @public
         * @remarks
         * HTML Attribute: shape
         */
        this.shape = SkeletonShape.rect;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.attr
], FASTSkeleton.prototype, "fill", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.attr
], FASTSkeleton.prototype, "shape", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.attr
], FASTSkeleton.prototype, "pattern", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.attr)({ mode: "boolean" })
], FASTSkeleton.prototype, "shimmer", void 0);


/***/ }),

/***/ "./src/skeleton/stories/skeleton.register.ts":
/*!***************************************************!*\
  !*** ./src/skeleton/stories/skeleton.register.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _skeleton_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../skeleton.js */ "./src/skeleton/skeleton.ts");
/* harmony import */ var _skeleton_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../skeleton.template.js */ "./src/skeleton/skeleton.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }

    :host {
        --skeleton-fill-default: #e1dfdd;
        --skeleton-fill: var(--skeleton-fill, var(--skeleton-fill-default));
        --skeleton-animation-gradient-default: linear-gradient(
            270deg,
            var(--skeleton-fill, var(--skeleton-fill-default)) 0%,
            #f3f2f1 51.13%,
            var(--skeleton-fill, var(--skeleton-fill-default)) 100%
        );
        --skeleton-animation-timing-default: ease-in-out;
        display: block;
        overflow: hidden;
        width: 100%;
        position: relative;
        background-color: var(--skeleton-fill, var(--skeleton-fill-default));
    }

    :host([shape="rect"]) {
        border-radius: calc(var(--control-corner-radius) * 1px);
    }

    :host([shape="circle"]) {
        border-radius: 100%;
        overflow: hidden;
    }

    object {
        height: auto;
        position: absolute;
        width: 100%;
        z-index: 2;
    }

    object img {
        height: auto;
        width: 100%;
    }

    .shimmer {
        position: absolute;
        width: 100%;
        height: 100%;
        background-image: var(
            --skeleton-animation-gradient,
            var(--skeleton-animation-gradient-default)
        );
        background-repeat: no-repeat;
        background-color: var(--skeleton-animation-fill, var(--neutral-fill-rest));
        animation: shimmer 2s infinite;
        animation-timing-function: var(
            --skeleton-animation-timing,
            var(--skeleton-animation-timing-default)
        );
        animation-direction: normal;
        z-index: 1;
    }

    ::slotted(svg) {
        z-index: 2;
    }

    ::slotted(.pattern) {
        width: 100%;
        height: 100%;
    }

    @keyframes shimmer {
        0% {
            transform: translateX(-100%);
        }
        100% {
            transform: translateX(100%);
        }
    }
`;
_skeleton_js__WEBPACK_IMPORTED_MODULE_0__.FASTSkeleton.define({
    name: "fast-skeleton",
    styles,
    template: (0,_skeleton_template_js__WEBPACK_IMPORTED_MODULE_1__.skeletonTemplate)(),
});


/***/ }),

/***/ "./src/skeleton/stories/skeleton.stories.ts":
/*!**************************************************!*\
  !*** ./src/skeleton/stories/skeleton.stories.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Skeleton": () => (/* binding */ Skeleton),
/* harmony export */   "SkeletonCardExample": () => (/* binding */ SkeletonCardExample),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _card_stories_card_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../card/stories/card.stories.js */ "./src/card/stories/card.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _skeleton_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../skeleton.js */ "./src/skeleton/skeleton.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fast-skeleton
        ?shimmer="${x => x.shimmer}"
        fill="${x => x.fill}"
        pattern="${x => x.pattern}"
        shape="${x => x.shape}"
    >
        ${x => x.storyContent}
    </fast-skeleton>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Skeleton",
    args: {
        shimmer: true,
    },
    argTypes: {
        fill: { control: "text" },
        pattern: { control: "text" },
        shape: { control: "radio", options: Object.values(_skeleton_js__WEBPACK_IMPORTED_MODULE_2__.SkeletonShape) },
        shimmer: { control: "boolean" },
        storyContent: { table: { disable: true } },
        storyItems: { table: { disable: true } },
    },
});
const Skeleton = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(storyTemplate).bind({});
Skeleton.decorators = [
    Story => {
        const renderedStory = Story();
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Updates.enqueue(() => {
            renderedStory.$fastController.addStyles(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.css `
                :host(fast-skeleton) {
                    height: 100px;
                    width: 100px;
                }
            `);
        });
        return renderedStory;
    },
];
const SkeletonCardExample = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(_card_stories_card_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate).bind({});
SkeletonCardExample.args = {
    shimmer: true,
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.repeat)(x => x.storyItems, storyTemplate)}
    `,
    storyItems: [
        { shimmer: true, shape: _skeleton_js__WEBPACK_IMPORTED_MODULE_2__.SkeletonShape.circle },
        { shape: _skeleton_js__WEBPACK_IMPORTED_MODULE_2__.SkeletonShape.rect, shimmer: true },
        { shape: _skeleton_js__WEBPACK_IMPORTED_MODULE_2__.SkeletonShape.rect, shimmer: true },
        { shape: _skeleton_js__WEBPACK_IMPORTED_MODULE_2__.SkeletonShape.rect, shimmer: true },
        { shape: _skeleton_js__WEBPACK_IMPORTED_MODULE_2__.SkeletonShape.rect, shimmer: true },
    ],
};
SkeletonCardExample.parameters = { controls: { include: [] } };
SkeletonCardExample.decorators = [
    Story => {
        const renderedStory = Story();
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Updates.enqueue(() => {
            renderedStory.$fastController.addStyles(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.css `
                :host(fast-card) {
                    height: auto;
                    padding: 1rem;
                    width: 300px;
                }

                ::slotted(fast-skeleton[shape="circle"]) {
                    height: 50px;
                    width: 50px;
                }

                ::slotted(fast-skeleton[shape="rect"]:not(:first-of-type)) {
                    border-radius: 4px;
                    height: 10px;
                    margin: 10px 0;
                }

                ::slotted(fast-skeleton[shape="rect"]:last-of-type) {
                    height: 30px;
                    margin: 20px 0 0;
                    width: 75px;
                }
            `);
        });
        return renderedStory;
    },
];


/***/ }),

/***/ "./src/slider-label/slider-label.template.ts":
/*!***************************************************!*\
  !*** ./src/slider-label/slider-label.template.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "sliderLabelTemplate": () => (/* binding */ sliderLabelTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");

/**
 * The template for the {@link @microsoft/fast-foundation#(FASTSliderLabel:class)} component.
 * @public
 */
function sliderLabelTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template aria-disabled="${x => x.disabled}">
            <div ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.ref)("root")} part="root" class="root" style="${x => x.positionStyle}">
                <div class="container">
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.when)(x => !x.hideMark, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
                            <div class="mark"></div>
                        `)}
                    <div class="label">
                        <slot></slot>
                    </div>
                </div>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/slider-label/slider-label.ts":
/*!******************************************!*\
  !*** ./src/slider-label/slider-label.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTSliderLabel": () => (/* binding */ FASTSliderLabel)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/localization.js");
/* harmony import */ var _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../slider/slider.options.js */ "./src/slider/slider.options.ts");
/* harmony import */ var _slider_slider_utilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../slider/slider-utilities.js */ "./src/slider/slider-utilities.ts");





const defaultConfig = {
    min: 0,
    max: 0,
    direction: _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.Direction.ltr,
    orientation: _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__.SliderOrientation.horizontal,
    disabled: false,
};
/**
 * A label element intended to be used with the {@link @microsoft/fast-foundation#(FASTSlider:class)} component.
 *
 * @slot - The default slot for the label content
 * @csspart root - The element wrapping the label mark and text
 *
 * @public
 */
class FASTSliderLabel extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * Hides the tick mark.
         *
         * @public
         * @remarks
         * HTML Attribute: hide-mark
         */
        this.hideMark = false;
        /**
         * The orientation state of the label. This is generally controlled by the parent {@link @microsoft/fast-foundation#(FASTSlider:class)}.
         *
         * @public
         * @deprecated - will be removed in coming ALPHA version
         * @remarks
         * HTML Attribute: orientation
         */
        this.orientation = _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__.SliderOrientation.horizontal;
        /**
         * @internal
         */
        this.sliderDirection = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.Direction.ltr;
        this.getSliderConfiguration = () => {
            if (!this.isSliderConfig(this.parentNode)) {
                this.sliderDirection = defaultConfig.direction || _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.Direction.ltr;
                this.orientation = defaultConfig.orientation || _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__.SliderOrientation.horizontal;
                this.sliderMaxPosition = defaultConfig.max;
                this.sliderMinPosition = defaultConfig.min;
            }
            else {
                const parentSlider = this
                    .parentNode;
                const { min, max, direction, orientation, disabled } = parentSlider;
                if (disabled !== undefined) {
                    this.disabled = disabled;
                }
                this.sliderDirection = direction || _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.Direction.ltr;
                this.orientation = orientation || _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__.SliderOrientation.horizontal;
                this.sliderMaxPosition = max;
                this.sliderMinPosition = min;
            }
        };
        this.positionAsStyle = () => {
            const direction = this.sliderDirection
                ? this.sliderDirection
                : _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.Direction.ltr;
            const pct = (0,_slider_slider_utilities_js__WEBPACK_IMPORTED_MODULE_1__.convertPixelToPercent)(Number(this.position), Number(this.sliderMinPosition), Number(this.sliderMaxPosition));
            let rightNum = Math.round((1 - pct) * 100);
            let leftNum = Math.round(pct * 100);
            if (Number.isNaN(leftNum) && Number.isNaN(rightNum)) {
                rightNum = 50;
                leftNum = 50;
            }
            if (this.orientation === _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__.SliderOrientation.horizontal) {
                return direction === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.Direction.rtl
                    ? `right: ${leftNum}%; left: ${rightNum}%;`
                    : `left: ${leftNum}%; right: ${rightNum}%;`;
            }
            else {
                return `top: ${rightNum}%; bottom: ${leftNum}%;`;
            }
        };
    }
    positionChanged() {
        this.positionStyle = this.positionAsStyle();
    }
    /**
     * @internal
     */
    orientationChanged() {
        void 0;
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.getSliderConfiguration();
        this.positionStyle = this.positionAsStyle();
        this.notifier = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Observable.getNotifier(this.parentNode);
        this.notifier.subscribe(this, "orientation");
        this.notifier.subscribe(this, "direction");
        this.notifier.subscribe(this, "max");
        this.notifier.subscribe(this, "min");
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        super.disconnectedCallback();
        this.notifier.unsubscribe(this, "orientation");
        this.notifier.unsubscribe(this, "direction");
        this.notifier.unsubscribe(this, "max");
        this.notifier.unsubscribe(this, "min");
    }
    /**
     * @internal
     */
    handleChange(source, propertyName) {
        switch (propertyName) {
            case "direction":
                this.sliderDirection = source.direction;
                break;
            case "orientation":
                this.orientation = source.orientation;
                break;
            case "max":
                this.sliderMaxPosition = source.max;
                break;
            case "min":
                this.sliderMinPosition = source.min;
                break;
            default:
                break;
        }
        this.positionStyle = this.positionAsStyle();
    }
    isSliderConfig(node) {
        return node.max !== undefined && node.min !== undefined;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTSliderLabel.prototype, "positionStyle", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTSliderLabel.prototype, "position", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "hide-mark", mode: "boolean" })
], FASTSliderLabel.prototype, "hideMark", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "disabled", mode: "boolean" })
], FASTSliderLabel.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTSliderLabel.prototype, "orientation", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTSliderLabel.prototype, "sliderMinPosition", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTSliderLabel.prototype, "sliderMaxPosition", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTSliderLabel.prototype, "sliderDirection", void 0);


/***/ }),

/***/ "./src/slider-label/stories/slider-label.register.ts":
/*!***********************************************************!*\
  !*** ./src/slider-label/stories/slider-label.register.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../slider/slider.options.js */ "./src/slider/slider.options.ts");
/* harmony import */ var _slider_label_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../slider-label.js */ "./src/slider-label/slider-label.ts");
/* harmony import */ var _slider_label_template_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../slider-label.template.js */ "./src/slider-label/slider-label.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.css `
    :host {
        font-family: var(--body-font);
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
    }
    .root {
        position: absolute;
        display: grid;
    }
    .container {
        display: grid;
        justify-self: center;
    }
    .label {
        justify-self: center;
        align-self: center;
        white-space: nowrap;
        max-width: 30px;
    }
    .mark {
        width: calc((var(--design-unit) / 4) * 1px);
        height: calc(var(--height-number) * 0.25 * 1px);
        background: var(--neutral-stroke-rest);
        justify-self: center;
    }
    :host([aria-disabled="true"]) {
        opacity: var(--disabled-opacity);
    }
`;
const horizontalSliderLabelStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.css `
    :host {
        align-self: start;
        grid-row: 2;
        margin-top: -2px;
        height: calc((var(--height-number) / 2 + var(--design-unit)) * 1px);
        width: auto;
    }
    .container {
        grid-template-rows: auto auto;
        grid-template-columns: 0;
    }
    .label {
        margin: 2px 0;
    }
`;
const verticalSliderLabelStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.css `
    :host {
        justify-self: start;
        grid-column: 2;
        margin-left: 2px;
        height: auto;
        width: calc((var(--height-number) / 2 + var(--design-unit)) * 1px);
    }
    .container {
        grid-template-columns: auto auto;
        grid-template-rows: 0;
        min-width: calc(var(--thumb-size) * 1px);
        height: calc(var(--thumb-size) * 1px);
    }
    .mark {
        transform: rotate(90deg);
        align-self: center;
    }
    .label {
        margin-left: calc((var(--design-unit) / 2) * 3px);
        align-self: center;
    }
`;
class SliderLabel extends _slider_label_js__WEBPACK_IMPORTED_MODULE_1__.FASTSliderLabel {
    orientationChanged(prev, next) {
        switch (next) {
            case _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__.SliderOrientation.horizontal: {
                this.$fastController.addStyles(horizontalSliderLabelStyles);
                this.$fastController.removeStyles(verticalSliderLabelStyles);
                break;
            }
            case _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_0__.SliderOrientation.vertical: {
                this.$fastController.addStyles(verticalSliderLabelStyles);
                this.$fastController.removeStyles(horizontalSliderLabelStyles);
            }
        }
    }
}
SliderLabel.define({
    name: "fast-slider-label",
    template: (0,_slider_label_template_js__WEBPACK_IMPORTED_MODULE_2__.sliderLabelTemplate)(),
    styles,
});


/***/ }),

/***/ "./src/slider-label/stories/slider-label.stories.ts":
/*!**********************************************************!*\
  !*** ./src/slider-label/stories/slider-label.stories.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SliderLabel": () => (/* binding */ SliderLabel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _slider_slider_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../slider/slider.options.js */ "./src/slider/slider.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-slider-label
        ?disabled="${x => x.disabled}"
        ?hide-mark="${x => x.hideMark}"
        :sliderOrientation="${x => x.sliderOrientation}"
        position="${x => x.position}"
    >
        ${x => x.storyContent}
    </fast-slider-label>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Slider Label",
    excludeStories: ["storyTemplate"],
    args: {
        disabled: false,
        hideMark: false,
        storyContent: "Slider label",
    },
    argTypes: {
        disabled: { control: "boolean" },
        hideMark: { control: "boolean" },
        position: { control: "number" },
        sliderOrientation: {
            control: "radio",
            options: Object.values(_slider_slider_options_js__WEBPACK_IMPORTED_MODULE_1__.SliderOrientation),
        },
        storyContent: { table: { disable: true } },
    },
});
const SliderLabel = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/slider/slider-utilities.ts":
/*!****************************************!*\
  !*** ./src/slider/slider-utilities.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "convertPixelToPercent": () => (/* binding */ convertPixelToPercent)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/numbers.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/localization.js");

/**
 * Converts a pixel coordinate on the track to a percent of the track's range
 */
function convertPixelToPercent(pixelPos, minPosition, maxPosition, direction) {
    let pct = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.limit)(0, 1, (pixelPos - minPosition) / (maxPosition - minPosition));
    if (direction === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.Direction.rtl) {
        pct = 1 - pct;
    }
    return pct;
}


/***/ }),

/***/ "./src/slider/slider.form-associated.ts":
/*!**********************************************!*\
  !*** ./src/slider/slider.form-associated.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedSlider": () => (/* binding */ FormAssociatedSlider)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Slider extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(Slider:class)} component.
 *
 * @beta
 */
class FormAssociatedSlider extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_Slider) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/slider/slider.options.ts":
/*!**************************************!*\
  !*** ./src/slider/slider.options.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SliderMode": () => (/* binding */ SliderMode),
/* harmony export */   "SliderOrientation": () => (/* binding */ SliderOrientation)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/aria.js");

/**
 * The orientation of a {@link @microsoft/fast-foundation#(FASTSlider:class)}.
 * @public
 */
const SliderOrientation = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.Orientation;
/**
 * The selection modes of a {@link @microsoft/fast-foundation#(FASTSlider:class)}.
 * @public
 */
const SliderMode = {
    singleValue: "single-value",
};


/***/ }),

/***/ "./src/slider/slider.template.ts":
/*!***************************************!*\
  !*** ./src/slider/slider.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "sliderTemplate": () => (/* binding */ sliderTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTSlider:class)} component.
 * @public
 */
function sliderTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="slider"
            tabindex="${x => (x.disabled ? null : 0)}"
            aria-valuetext="${x => x.valueTextFormatter(x.value)}"
            aria-valuenow="${x => x.value}"
            aria-valuemin="${x => x.min}"
            aria-valuemax="${x => x.max}"
            aria-disabled="${x => (x.disabled ? true : void 0)}"
            aria-readonly="${x => (x.readOnly ? true : void 0)}"
            aria-orientation="${x => x.orientation}"
            class="${x => x.orientation}"
        >
            <div part="positioning-region" class="positioning-region">
                <div ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("track")} part="track-container" class="track">
                    <slot name="track"></slot>
                    <div
                        part="track-start"
                        class="track-start"
                        style="${x => x.position}"
                    >
                        <slot name="track-start"></slot>
                    </div>
                </div>
                <slot></slot>
                <div
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("thumb")}
                    part="thumb-container"
                    class="thumb-container"
                    style="${x => x.position}"
                >
                    <slot name="thumb">${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.thumb)}</slot>
                </div>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/slider/slider.ts":
/*!******************************!*\
  !*** ./src/slider/slider.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTSlider": () => (/* binding */ FASTSlider)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/localization.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/aria.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/numbers.js");
/* harmony import */ var _utilities_direction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/direction.js */ "./src/utilities/direction.ts");
/* harmony import */ var _slider_utilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slider-utilities.js */ "./src/slider/slider-utilities.ts");
/* harmony import */ var _slider_form_associated_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./slider.form-associated.js */ "./src/slider/slider.form-associated.ts");
/* harmony import */ var _slider_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./slider.options.js */ "./src/slider/slider.options.ts");







/**
 * A Slider Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#slider | ARIA slider }.
 *
 * @slot track - The track of the slider
 * @slot track-start - The track-start visual indicator
 * @slot thumb - The slider thumb
 * @slot - The default slot for labels
 * @csspart positioning-region - The region used to position the elements of the slider
 * @csspart track-container - The region containing the track elements
 * @csspart track-start - The element wrapping the track start slot
 * @csspart thumb-container - The thumb container element which is programatically positioned
 * @fires change - Fires a custom 'change' event when the slider value changes
 *
 * @public
 */
class FASTSlider extends _slider_form_associated_js__WEBPACK_IMPORTED_MODULE_2__.FormAssociatedSlider {
    constructor() {
        super(...arguments);
        /**
         * @internal
         */
        this.direction = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.Direction.ltr;
        /**
         * @internal
         */
        this.isDragging = false;
        /**
         * @internal
         */
        this.trackWidth = 0;
        /**
         * @internal
         */
        this.trackMinWidth = 0;
        /**
         * @internal
         */
        this.trackHeight = 0;
        /**
         * @internal
         */
        this.trackLeft = 0;
        /**
         * @internal
         */
        this.trackMinHeight = 0;
        /**
         * Custom function that generates a string for the component's "aria-valuetext" attribute based on the current value.
         *
         * @public
         */
        this.valueTextFormatter = () => null;
        /**
         * The minimum allowed value.
         *
         * @defaultValue - 0
         * @public
         * @remarks
         * HTML Attribute: min
         */
        this.min = 0; // Map to proxy element.
        /**
         * The maximum allowed value.
         *
         * @defaultValue - 10
         * @public
         * @remarks
         * HTML Attribute: max
         */
        this.max = 10; // Map to proxy element.
        /**
         * Value to increment or decrement via arrow keys, mouse click or drag.
         *
         * @public
         * @remarks
         * HTML Attribute: step
         */
        this.step = 1; // Map to proxy element.
        /**
         * The orientation of the slider.
         *
         * @public
         * @remarks
         * HTML Attribute: orientation
         */
        this.orientation = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.horizontal;
        /**
         * The selection mode.
         *
         * @public
         * @remarks
         * HTML Attribute: mode
         */
        this.mode = _slider_options_js__WEBPACK_IMPORTED_MODULE_3__.SliderMode.singleValue;
        this.keypressHandler = (e) => {
            if (this.readOnly || this.disabled) {
                return;
            }
            if (e.key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyHome) {
                e.preventDefault();
                this.direction !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.Direction.rtl && this.orientation !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.vertical
                    ? (this.value = `${this.min}`)
                    : (this.value = `${this.max}`);
            }
            else if (e.key === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyEnd) {
                e.preventDefault();
                this.direction !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.Direction.rtl && this.orientation !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.vertical
                    ? (this.value = `${this.max}`)
                    : (this.value = `${this.min}`);
            }
            else if (!e.shiftKey) {
                switch (e.key) {
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyArrowRight:
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyArrowUp:
                        e.preventDefault();
                        this.increment();
                        break;
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyArrowLeft:
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.keyArrowDown:
                        e.preventDefault();
                        this.decrement();
                        break;
                }
            }
        };
        this.setupTrackConstraints = () => {
            const clientRect = this.track.getBoundingClientRect();
            this.trackWidth = this.track.clientWidth;
            this.trackMinWidth = this.track.clientLeft;
            this.trackHeight = clientRect.top;
            this.trackMinHeight = clientRect.bottom;
            this.trackLeft = this.getBoundingClientRect().left;
            if (this.trackWidth === 0) {
                this.trackWidth = 1;
            }
        };
        this.setupListeners = (remove = false) => {
            const eventAction = `${remove ? "remove" : "add"}EventListener`;
            this[eventAction]("keydown", this.keypressHandler);
            this[eventAction]("mousedown", this.handleMouseDown);
            this.thumb[eventAction]("mousedown", this.handleThumbMouseDown, {
                passive: true,
            });
            this.thumb[eventAction]("touchstart", this.handleThumbMouseDown, {
                passive: true,
            });
            // removes handlers attached by mousedown handlers
            if (remove) {
                this.handleMouseDown(null);
                this.handleThumbMouseDown(null);
            }
        };
        /**
         * @internal
         */
        this.initialValue = "";
        /**
         *  Handle mouse moves during a thumb drag operation
         *  If the event handler is null it removes the events
         */
        this.handleThumbMouseDown = (event) => {
            const eventAction = `${event !== null ? "add" : "remove"}EventListener`;
            window[eventAction]("mouseup", this.handleWindowMouseUp);
            window[eventAction]("mousemove", this.handleMouseMove, { passive: true });
            window[eventAction]("touchmove", this.handleMouseMove, { passive: true });
            window[eventAction]("touchend", this.handleWindowMouseUp);
            this.isDragging = event !== null;
        };
        /**
         *  Handle mouse moves during a thumb drag operation
         */
        this.handleMouseMove = (e) => {
            if (this.readOnly || this.disabled || e.defaultPrevented) {
                return;
            }
            // update the value based on current position
            const sourceEvent = window.TouchEvent && e instanceof TouchEvent
                ? e.touches[0]
                : e;
            const eventValue = this.orientation === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.horizontal
                ? sourceEvent.pageX - document.documentElement.scrollLeft - this.trackLeft
                : sourceEvent.pageY - document.documentElement.scrollTop;
            this.value = `${this.calculateNewValue(eventValue)}`;
        };
        /**
         * Handle a window mouse up during a drag operation
         */
        this.handleWindowMouseUp = (event) => {
            this.stopDragging();
        };
        this.stopDragging = () => {
            this.isDragging = false;
            this.handleMouseDown(null);
            this.handleThumbMouseDown(null);
        };
        /**
         *
         * @param e - MouseEvent or null. If there is no event handler it will remove the events
         */
        this.handleMouseDown = (e) => {
            const eventAction = `${e !== null ? "add" : "remove"}EventListener`;
            if (e === null || (!this.disabled && !this.readOnly)) {
                window[eventAction]("mouseup", this.handleWindowMouseUp);
                window.document[eventAction]("mouseleave", this.handleWindowMouseUp);
                window[eventAction]("mousemove", this.handleMouseMove);
                if (e) {
                    this.setupTrackConstraints();
                    const controlValue = this.orientation === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.horizontal
                        ? e.pageX - document.documentElement.scrollLeft - this.trackLeft
                        : e.pageY - document.documentElement.scrollTop;
                    this.value = `${this.calculateNewValue(controlValue)}`;
                }
            }
        };
    }
    readOnlyChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.readOnly = this.readOnly;
        }
    }
    /**
     * The value property, typed as a number.
     *
     * @public
     */
    get valueAsNumber() {
        return parseFloat(super.value);
    }
    set valueAsNumber(next) {
        this.value = next.toString();
    }
    /**
     * @internal
     */
    valueChanged(previous, next) {
        if (this.$fastController.isConnected) {
            const nextAsNumber = parseFloat(next);
            const value = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_7__.limit)(this.min, this.max, this.convertToConstrainedValue(nextAsNumber)).toString();
            if (value !== next) {
                this.value = value;
                return;
            }
            super.valueChanged(previous, next);
            this.setThumbPositionForOrientation(this.direction);
            this.$emit("change");
        }
    }
    minChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.min = `${this.min}`;
        }
        this.validate();
    }
    maxChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.max = `${this.max}`;
        }
        this.validate();
    }
    stepChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.step = `${this.step}`;
        }
        this.updateStepMultiplier();
        this.validate();
    }
    orientationChanged() {
        if (this.$fastController.isConnected) {
            this.setThumbPositionForOrientation(this.direction);
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.proxy.setAttribute("type", "range");
        this.direction = (0,_utilities_direction_js__WEBPACK_IMPORTED_MODULE_0__.getDirection)(this);
        this.updateStepMultiplier();
        this.setupTrackConstraints();
        this.setupListeners();
        this.setupDefaultValue();
        this.setThumbPositionForOrientation(this.direction);
    }
    /**
     * @internal
     */
    disconnectedCallback() {
        this.setupListeners(true);
    }
    /**
     * Increment the value by the step
     *
     * @public
     */
    increment() {
        const newVal = this.direction !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.Direction.rtl && this.orientation !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.vertical
            ? Number(this.value) + Number(this.step)
            : Number(this.value) + Number(this.step);
        const incrementedVal = this.convertToConstrainedValue(newVal);
        const incrementedValString = incrementedVal < Number(this.max) ? `${incrementedVal}` : `${this.max}`;
        this.value = incrementedValString;
    }
    /**
     * Decrement the value by the step
     *
     * @public
     */
    decrement() {
        const newVal = this.direction !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.Direction.rtl && this.orientation !== _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.vertical
            ? Number(this.value) - Number(this.step)
            : Number(this.value) - Number(this.step);
        const decrementedVal = this.convertToConstrainedValue(newVal);
        const decrementedValString = decrementedVal > Number(this.min) ? `${decrementedVal}` : `${this.min}`;
        this.value = decrementedValString;
    }
    /**
     * Places the thumb based on the current value
     *
     * @public
     * @param direction - writing mode
     */
    setThumbPositionForOrientation(direction) {
        const newPct = (0,_slider_utilities_js__WEBPACK_IMPORTED_MODULE_1__.convertPixelToPercent)(Number(this.value), Number(this.min), Number(this.max), direction);
        const percentage = (1 - newPct) * 100;
        if (this.orientation === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.horizontal) {
            this.position = this.isDragging
                ? `right: ${percentage}%; transition: none;`
                : `right: ${percentage}%; transition: all 0.2s ease;`;
        }
        else {
            this.position = this.isDragging
                ? `top: ${percentage}%; transition: none;`
                : `top: ${percentage}%; transition: all 0.2s ease;`;
        }
    }
    /**
     * Update the step multiplier used to ensure rounding errors from steps that
     * are not whole numbers
     */
    updateStepMultiplier() {
        const stepString = this.step + "";
        const decimalPlacesOfStep = !!(this.step % 1)
            ? stepString.length - stepString.indexOf(".") - 1
            : 0;
        this.stepMultiplier = Math.pow(10, decimalPlacesOfStep);
    }
    get midpoint() {
        return `${this.convertToConstrainedValue((this.max + this.min) / 2)}`;
    }
    setupDefaultValue() {
        if (typeof this.value === "string") {
            if (this.value.length === 0) {
                this.initialValue = this.midpoint;
            }
            else {
                const value = parseFloat(this.value);
                if (!Number.isNaN(value) && (value < this.min || value > this.max)) {
                    this.value = this.midpoint;
                }
            }
        }
    }
    /**
     * Calculate the new value based on the given raw pixel value.
     *
     * @param rawValue - the value to be converted to a constrained value
     * @returns the constrained value
     *
     * @internal
     */
    calculateNewValue(rawValue) {
        this.setupTrackConstraints();
        // update the value based on current position
        const newPosition = (0,_slider_utilities_js__WEBPACK_IMPORTED_MODULE_1__.convertPixelToPercent)(rawValue, this.orientation === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.horizontal
            ? this.trackMinWidth
            : this.trackMinHeight, this.orientation === _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Orientation.horizontal
            ? this.trackWidth
            : this.trackHeight, this.direction);
        const newValue = (this.max - this.min) * newPosition + this.min;
        return this.convertToConstrainedValue(newValue);
    }
    convertToConstrainedValue(value) {
        if (isNaN(value)) {
            value = this.min;
        }
        /**
         * The following logic intends to overcome the issue with math in JavaScript with regards to floating point numbers.
         * This is needed as the `step` may be an integer but could also be a float. To accomplish this the step  is assumed to be a float
         * and is converted to an integer by determining the number of decimal places it represent, multiplying it until it is an
         * integer and then dividing it to get back to the correct number.
         */
        let constrainedValue = value - this.min;
        const roundedConstrainedValue = Math.round(constrainedValue / this.step);
        const remainderValue = constrainedValue -
            (roundedConstrainedValue * (this.stepMultiplier * this.step)) /
                this.stepMultiplier;
        constrainedValue =
            remainderValue >= Number(this.step) / 2
                ? constrainedValue - remainderValue + Number(this.step)
                : constrainedValue - remainderValue;
        return constrainedValue + this.min;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ attribute: "readonly", mode: "boolean" })
], FASTSlider.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "direction", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "isDragging", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "position", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "trackWidth", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "trackMinWidth", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "trackHeight", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "trackLeft", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "trackMinHeight", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.observable
], FASTSlider.prototype, "valueTextFormatter", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.nullableNumberConverter })
], FASTSlider.prototype, "min", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.nullableNumberConverter })
], FASTSlider.prototype, "max", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.nullableNumberConverter })
], FASTSlider.prototype, "step", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr
], FASTSlider.prototype, "orientation", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.attr
], FASTSlider.prototype, "mode", void 0);


/***/ }),

/***/ "./src/slider/stories/slider.register.ts":
/*!***********************************************!*\
  !*** ./src/slider/stories/slider.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _slider_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../slider.js */ "./src/slider/slider.ts");
/* harmony import */ var _slider_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../slider.template.js */ "./src/slider/slider.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }

    :host {
        display: inline-grid;
        --thumb-size: calc(var(--height-number) * 0.5 - var(--design-unit));
        --thumb-translate: calc(var(--thumb-size) * -0.5 + var(--track-width) / 2);
        --track-overhang: calc((var(--design-unit) / 2) * -1);
        --track-width: var(--design-unit);
        --fast-slider-height: calc(var(--thumb-size) * 10);
        align-items: center;
        margin: calc(var(--design-unit) * 1px) 0;
        user-select: none;
        box-sizing: border-box;
        border-radius: calc(var(--control-corner-radius) * 1px);
        outline: none;
        cursor: pointer;
    }

    :host([orientation="horizontal"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        grid-template-rows: calc(var(--thumb-size) * 1px) 1fr;
    }

    :host([orientation="vertical"]) .positioning-region {
        position: relative;
        margin: 0 8px;
        display: grid;
        height: 100%;
        grid-template-columns: calc(var(--thumb-size) * 1px) 1fr;
    }

    :host(:focus) .thumb-cursor {
        box-shadow: 0 0 0 2px var(--fill-color), 0 0 0 4px var(--focus-stroke-outer);
    }

    .thumb-container {
        position: absolute;
        height: calc(var(--thumb-size) * 1px);
        width: calc(var(--thumb-size) * 1px);
        transition: all 0.2s ease;
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
    }
    .thumb-cursor {
        border: none;
        width: calc(var(--thumb-size) * 1px);
        height: calc(var(--thumb-size) * 1px);
        background: var(--neutral-foreground-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
    }
    .thumb-cursor:hover {
        background: var(--neutral-foreground-rest);
        border-color: var(--neutral-stroke-hover);
    }
    .thumb-cursor:active {
        background: var(--neutral-foreground-rest);
    }
    .track-start {
        background: var(--accent-foreground-rest);
        position: absolute;
        height: 100%;
        left: 0;
        border-radius: calc(var(--control-corner-radius) * 1px);
    }
    .track-start {
        left: 0;
    }
    :host([orientation="horizontal"]) .thumb-container {
        transform: translateX(calc(var(--thumb-size) * 0.5px))
            translateY(calc(var(--thumb-translate) * 1px));
    }
    :host([orientation="vertical"]) .thumb-container {
        transform: translateX(calc(var(--thumb-translate) * 1px))
            translateY(calc(var(--thumb-size) * -0.5px));
    }
    :host([orientation="horizontal"]) {
        touch-action: pan-y;
        min-width: calc(var(--thumb-size) * 1px);
        width: 100%;
    }
    :host([orientation="horizontal"]) .track {
        right: calc(var(--track-overhang) * 1px);
        left: calc(var(--track-overhang) * 1px);
        align-self: start;
        height: calc(var(--track-width) * 1px);
    }
    :host([orientation="vertical"]) .track {
        top: calc(var(--track-overhang) * 1px);
        bottom: calc(var(--track-overhang) * 1px);
        width: calc(var(--track-width) * 1px);
        height: 100%;
    }
    .track {
        background: var(--neutral-stroke-rest);
        position: absolute;
        border-radius: calc(var(--control-corner-radius) * 1px);
    }
    :host([orientation="vertical"]) {
        height: calc(var(--fast-slider-height) * 1px);
        min-height: calc(var(--thumb-size) * 1px);
        touch-action: pan-x;
    }
    :host([orientation="vertical"]) .track-start {
        height: auto;
        width: 100%;
        bottom: 0;
    }
    :host([disabled]),
    :host([readonly]) {
        cursor: var(--disabled-cursor);
    }
    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
`;
_slider_js__WEBPACK_IMPORTED_MODULE_0__.FASTSlider.define({
    name: "fast-slider",
    template: (0,_slider_template_js__WEBPACK_IMPORTED_MODULE_1__.sliderTemplate)({
        thumb: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <div class="thumb-cursor"></div>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/slider/stories/slider.stories.ts":
/*!**********************************************!*\
  !*** ./src/slider/stories/slider.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Slider": () => (/* binding */ Slider),
/* harmony export */   "SliderInForm": () => (/* binding */ SliderInForm),
/* harmony export */   "SliderVerticalOrientation": () => (/* binding */ SliderVerticalOrientation),
/* harmony export */   "SliderWithLabels": () => (/* binding */ SliderWithLabels),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _slider_label_stories_slider_label_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../slider-label/stories/slider-label.stories.js */ "./src/slider-label/stories/slider-label.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _slider_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../slider.options.js */ "./src/slider/slider.options.ts");




const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
    <fast-slider
        ?disabled="${x => x.disabled}"
        ?readonly="${x => x.readOnly}"
        max="${x => x.max}"
        min="${x => x.min}"
        mode="${x => x.mode}"
        orientation="${x => x.orientation}"
        step="${x => x.step}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-slider>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Slider",
    args: {
        disabled: false,
        readOnly: false,
    },
    argTypes: {
        disabled: { control: "boolean" },
        max: { control: "number" },
        min: { control: "number" },
        mode: { control: "radio", options: Object.values(_slider_options_js__WEBPACK_IMPORTED_MODULE_2__.SliderMode) },
        orientation: { control: "radio", options: Object.values(_slider_options_js__WEBPACK_IMPORTED_MODULE_2__.SliderOrientation) },
        readOnly: { control: "boolean" },
        step: { control: "number" },
        storyContent: { table: { disable: true } },
        storyItems: { control: "object" },
        value: { control: "number" },
    },
});
const Slider = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(storyTemplate).bind({});
const SliderWithLabels = Slider.bind({});
SliderWithLabels.args = {
    min: 0,
    max: 100,
    step: 10,
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.repeat)(x => x.storyItems, _slider_label_stories_slider_label_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
    `,
    storyItems: [
        { position: 0, storyContent: "0" },
        { position: 10, storyContent: "10" },
        { position: 90, storyContent: "90" },
        { position: 100, storyContent: "100" },
    ],
};
SliderWithLabels.decorators = [
    Story => {
        const renderedStory = Story();
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.Updates.enqueue(() => {
            renderedStory.$fastController.addStyles(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.css `
                :host([orientation="horizontal"]) {
                    padding: 0 1em;
                }
            `);
        });
        return renderedStory;
    },
];
const SliderVerticalOrientation = Slider.bind({});
SliderVerticalOrientation.args = {
    orientation: _slider_options_js__WEBPACK_IMPORTED_MODULE_2__.SliderOrientation.vertical,
};
const SliderInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_1__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});


/***/ }),

/***/ "./src/switch/stories/switch.register.ts":
/*!***********************************************!*\
  !*** ./src/switch/stories/switch.register.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _switch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../switch.js */ "./src/switch/switch.ts");
/* harmony import */ var _switch_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../switch.template.js */ "./src/switch/switch.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        display: inline-flex;
        align-items: center;
        outline: none;
        font-family: var(--body-font);
        margin: calc(var(--design-unit) * 1px) 0;
        user-select: none;
    }
    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .switch,
    :host([disabled]) .switch {
        cursor: var(--disabled-cursor);
    }
    .switch {
        position: relative;
        outline: none;
        box-sizing: border-box;
        width: calc(var(--height-number) * 1px);
        height: calc((var(--height-number) / 2 + var(--design-unit)) * 1px);
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--neutral-stroke-rest);
    }
    .switch:hover {
        background: var(--neutral-fill-input-hover);
        border-color: var(--neutralStrokeHover);
        cursor: pointer;
    }
    host([disabled]) .switch:hover,
    host([readonly]) .switch:hover {
        background: var(--neutral-fill-input-hover);
        border-color: var(--neutral-stroke-hover);
        cursor: var(--disabled-cursor);
    }
    :host(:not([disabled])) .switch:active {
        background: var(--neutral-fill-input-active);
        border-color: var(--neutral-stroke-active);
    }
    :host(:focus-visible) .switch {
        box-shadow: 0 0 0 2px var(--fill-color), 0 0 0 4px var(--focusStrokeOuter);
    }
    .checked-indicator {
        position: absolute;
        top: 5px;
        bottom: 5px;
        background: var(--neutral-foreground-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        transition: all 0.2s ease-in-out;
    }
    .label {
        color: var(--neutral-foreground-rest);
        margin-inline-end: calc(var(--design-unit) * 2px + 2px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        cursor: pointer;
    }
    .label__hidden {
        display: none;
        visibility: hidden;
    }
    :host([aria-checked="true"]) .checked-indicator {
        background: var(--foreground-on-accent-rest);
    }
    :host([aria-checked="true"]) .switch {
        background: var(--accent-fill-rest);
        border-color: var(--accent-fill-rest);
    }
    :host([aria-checked="true"]:not([disabled])) .switch:hover {
        background: var(--accent-fill-hover);
        border-color: var(--accent-fill-hover);
    }
    :host([aria-checked="true"]:not([disabled])) .switch:hover .checked-indicator {
        background: var(--foreground-on-accent-hover);
    }
    :host([aria-checked="true"]:not([disabled])) .switch:active {
        background: var(--accent-fill-active);
        border-color: var(--accentt-fill-active);
    }
    :host([aria-checked="true"]:not([disabled])) .switch:active .checked-indicator {
        background: var(--foreground-on-accent-active);
    }
    :host([aria-checked="true"]:focus-visible:not([disabled])) .switch {
        box-shadow: 0 0 0 2px var(--fill-color), 0 0 0 4px var(--focus-stroke-outer);
    }
    .checked-indicator {
        left: 5px;
        right: calc(((var(--height-number) / 2) + 1) * 1px);
    }
    :host([aria-checked="true"]) .checked-indicator {
        left: calc(((var(--height-number) / 2) + 1) * 1px);
        right: 5px;
    }
`;
_switch_js__WEBPACK_IMPORTED_MODULE_0__.FASTSwitch.define({
    name: "fast-switch",
    template: (0,_switch_template_js__WEBPACK_IMPORTED_MODULE_1__.switchTemplate)({
        switch: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <span class="checked-indicator" part="checked-indicator"></span>
        `,
    }),
    styles,
});


/***/ }),

/***/ "./src/switch/stories/switch.stories.ts":
/*!**********************************************!*\
  !*** ./src/switch/stories/switch.stories.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Switch": () => (/* binding */ Switch),
/* harmony export */   "SwitchInForm": () => (/* binding */ SwitchInForm),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-switch
        ?readonly="${x => x.readOnly}"
        ?checked="${x => x.checked}"
        ?disabled="${x => x.disabled}"
        ?required="${x => x.required}"
        value="${x => x.value}"
    >
        ${x => x.storyContent}
    </fast-switch>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Switch",
    args: {
        checked: false,
        disabled: false,
        readOnly: false,
        required: false,
    },
    argTypes: {
        checked: { control: "boolean" },
        disabled: { control: "boolean" },
        readOnly: { control: "boolean" },
        required: { control: "boolean" },
        storyContent: { table: { disable: true } },
        value: { control: "text" },
    },
});
const Switch = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const SwitchInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <br />
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});
SwitchInForm.args = {
    required: true,
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        Sign up for our newsletter?
    `,
};


/***/ }),

/***/ "./src/switch/switch.form-associated.ts":
/*!**********************************************!*\
  !*** ./src/switch/switch.form-associated.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedSwitch": () => (/* binding */ FormAssociatedSwitch)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _Switch extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTSwitch:class)} component.
 *
 * @beta
 */
class FormAssociatedSwitch extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.CheckableFormAssociated)(_Switch) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/switch/switch.template.ts":
/*!***************************************!*\
  !*** ./src/switch/switch.template.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "switchTemplate": () => (/* binding */ switchTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTSwitch:class)} component.
 * @public
 */
function switchTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            role="switch"
            aria-checked="${x => x.checked}"
            aria-disabled="${x => x.disabled}"
            aria-readonly="${x => x.readOnly}"
            tabindex="${x => (x.disabled ? null : 0)}"
            @keypress="${(x, c) => x.keypressHandler(c.event)}"
            @click="${(x, c) => x.clickHandler(c.event)}"
        >
            <label
                part="label"
                class="${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length
        ? "label"
        : "label label__hidden"}"
            >
                <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)("defaultSlottedNodes")}></slot>
            </label>
            <div part="switch" class="switch">
                <slot name="switch">${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.switch)}</slot>
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/switch/switch.ts":
/*!******************************!*\
  !*** ./src/switch/switch.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTSwitch": () => (/* binding */ FASTSwitch)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _switch_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./switch.form-associated.js */ "./src/switch/switch.form-associated.ts");




/**
 * A Switch Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#switch | ARIA switch }.
 *
 * @slot - The deafult slot for the label
 * @slot checked-message - The message when in a checked state
 * @slot unchecked-message - The message when in an unchecked state
 * @csspart label - The label
 * @csspart switch - The element representing the switch, which wraps the indicator
 * @csspart status-message - The wrapper for the status messages
 * @csspart checked-message - The checked message
 * @csspart unchecked-message - The unchecked message
 * @fires change - Emits a custom change event when the checked state changes
 *
 * @public
 */
class FASTSwitch extends _switch_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociatedSwitch {
    readOnlyChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.readOnly = this.readOnly;
        }
    }
    constructor() {
        super();
        /**
         * The element's value to be included in form submission when checked.
         * Default to "on" to reach parity with input[type="checkbox"]
         *
         * @internal
         */
        this.initialValue = "on";
        /**
         * @internal
         */
        this.keypressHandler = (e) => {
            if (this.readOnly) {
                return;
            }
            switch (e.key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.keyEnter:
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_1__.keySpace:
                    this.checked = !this.checked;
                    break;
            }
        };
        /**
         * @internal
         */
        this.clickHandler = (e) => {
            if (!this.disabled && !this.readOnly) {
                this.checked = !this.checked;
            }
        };
        this.proxy.setAttribute("type", "checkbox");
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.attr)({ attribute: "readonly", mode: "boolean" })
], FASTSwitch.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_2__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.observable
], FASTSwitch.prototype, "defaultSlottedNodes", void 0);


/***/ }),

/***/ "./src/tab-panel/stories/tab-panel.register.ts":
/*!*****************************************************!*\
  !*** ./src/tab-panel/stories/tab-panel.register.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _tab_panel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tab-panel.js */ "./src/tab-panel/tab-panel.ts");
/* harmony import */ var _tab_panel_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tab-panel.template.js */ "./src/tab-panel/tab-panel.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        display: block;
        box-sizing: border-box;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        padding: 0 calc((6 + (var(--design-unit) * 2 * var(--density))) * 1px);
    }
`;
_tab_panel_js__WEBPACK_IMPORTED_MODULE_0__.FASTTabPanel.define({
    name: "fast-tab-panel",
    styles,
    template: (0,_tab_panel_template_js__WEBPACK_IMPORTED_MODULE_1__.tabPanelTemplate)(),
});


/***/ }),

/***/ "./src/tab-panel/stories/tab-panel.stories.ts":
/*!****************************************************!*\
  !*** ./src/tab-panel/stories/tab-panel.stories.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TabPanel": () => (/* binding */ TabPanel),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-tab-panel>
        ${x => x.storyContent}
    </fast-tab-panel>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Tabs/Tab Panel",
    excludeStories: ["storyTemplate"],
    args: {
        storyContent: "Tab panel",
    },
    argTypes: {
        storyContent: { table: { disable: true } },
    },
});
const TabPanel = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});


/***/ }),

/***/ "./src/tab-panel/tab-panel.template.ts":
/*!*********************************************!*\
  !*** ./src/tab-panel/tab-panel.template.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tabPanelTemplate": () => (/* binding */ tabPanelTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTTabPanel} component.
 * @public
 */
function tabPanelTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template slot="tabpanel" role="tabpanel">
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/tab-panel/tab-panel.ts":
/*!************************************!*\
  !*** ./src/tab-panel/tab-panel.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTTabPanel": () => (/* binding */ FASTTabPanel)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");

/**
 * A TabPanel Component to be used with {@link @microsoft/fast-foundation#(FASTTabs:class)}
 *
 * @slot - The default slot for the tabpanel content
 *
 * @public
 */
class FASTTabPanel extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.FASTElement {
}


/***/ }),

/***/ "./src/tab/stories/tab.register.ts":
/*!*****************************************!*\
  !*** ./src/tab/stories/tab.register.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _tab_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tab.js */ "./src/tab/tab.ts");
/* harmony import */ var _tab_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tab.template.js */ "./src/tab/tab.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        align-items: center;
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: var(--neutral-foreground-hint);
        cursor: pointer;
        display: inline-flex;
        fill: currentcolor;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        grid-row: 1;
        height: calc(var(--height-number) * 1px);
        justify-content: center;
        line-height: var(--type-ramp-base-line-height);
        padding: calc(var(--design-unit) * 5px) calc(var(--design-unit) * 4px);
    }
    :host(:hover) {
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
    }
    :host(:active) {
        color: var(--neutral-foreground-rest);
        fill: currentcolor;
    }
    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }
    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }
    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }
    :host([disabled]) {
        cursor: var(--disabled-cursor);
        opacity: var(--disabled-opacity);
    }
    :host([disabled]:hover) {
        color: var(--neutral-foreground-hint);
        background: var(--neutral-fill-stealth-rest);
    }
    :host([aria-selected="true"]) {
        background: var(--neutral-fill-rest);
        color: var(--accent-foreground-rest);
        fill: currentcolor;
    }
    :host([aria-selected="true"]:hover) {
        background: var(--neutral-fill-hover);
        color: var(--accent-foreground-hover);
        fill: currentcolor;
    }
    :host([aria-selected="true"]:active) {
        background: var(--neutral-fill-active);
        color: var(--accent-foreground-active);
        fill: currentcolor;
    }
    :host(:focus-visible) {
        border: calc(var(--stroke-width) * 1px) solid var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc((var(--focus-stroke-width) - var(--stroke-width)) * 1px)
            var(--focus-stroke-outer);
        outline: none;
    }
    :host(:focus) {
        outline: none;
    }
    :host(.vertical) {
        justify-content: end;
        grid-column: 2;
    }
    :host(.vertical[aria-selected="true"]) {
        z-index: 2;
    }
    :host(.vertical:hover) {
        color: var(--neutral-foreground-rest);
    }
    :host(.vertical:active) {
        color: var(--neutral-foreground-rest);
    }
`;
_tab_js__WEBPACK_IMPORTED_MODULE_0__.FASTTab.define({
    name: "fast-tab",
    styles,
    template: (0,_tab_template_js__WEBPACK_IMPORTED_MODULE_1__.tabTemplate)(),
});


/***/ }),

/***/ "./src/tab/stories/tab.stories.ts":
/*!****************************************!*\
  !*** ./src/tab/stories/tab.stories.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tab": () => (/* binding */ Tab),
/* harmony export */   "TabWithSlottedStartEnd": () => (/* binding */ TabWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "storyTemplate": () => (/* binding */ storyTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-tab ?disabled="${x => x.disabled}">${x => x.storyContent}</fast-tab>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Tabs/Tab",
    excludeStories: ["storyTemplate"],
    args: {
        disabled: false,
        storyContent: "Tab",
    },
    argTypes: {
        disabled: { control: "boolean" },
        storyContent: { table: { disable: true } },
    },
});
const Tab = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const TabWithSlottedStartEnd = Tab.bind({});
TabWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Tab
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};


/***/ }),

/***/ "./src/tab/tab.template.ts":
/*!*********************************!*\
  !*** ./src/tab/tab.template.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tabTemplate": () => (/* binding */ tabTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTTab:class)} component.
 * @public
 */
function tabTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template slot="tab" role="tab" aria-disabled="${x => x.disabled}">
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
            <slot></slot>
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        </template>
    `;
}


/***/ }),

/***/ "./src/tab/tab.ts":
/*!************************!*\
  !*** ./src/tab/tab.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTTab": () => (/* binding */ FASTTab)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");




/**
 * A Tab Component to be used with {@link @microsoft/fast-foundation#(FASTTabs:class)}
 *
 * @slot start - Content which can be provided before the tab content
 * @slot end - Content which can be provided after the tab content
 * @slot - The default slot for the tab content
 *
 * @public
 */
class FASTTab extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.FASTElement {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.attr)({ mode: "boolean" })
], FASTTab.prototype, "disabled", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTTab, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd);


/***/ }),

/***/ "./src/tabs/stories/tabs.register.ts":
/*!*******************************************!*\
  !*** ./src/tabs/stories/tabs.register.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _tabs_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tabs.js */ "./src/tabs/tabs.ts");
/* harmony import */ var _tabs_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tabs.template.js */ "./src/tabs/tabs.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        display: grid;
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        color: var(--neutral-foreground-rest);
        grid-template-columns: auto 1fr auto;
        grid-template-rows: auto 1fr;
    }
    .tablist {
        display: grid;
        grid-template-rows: auto auto;
        grid-template-columns: auto;
        position: relative;
        width: max-content;
        align-self: end;
        padding: calc(var(--design-unit) * 4px) calc(var(--design-unit) * 4px) 0;
        box-sizing: border-box;
    }
    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
        align-self: center;
    }
    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }
    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }
    .active-indicator {
        grid-row: 2;
        grid-column: 1;
        width: 100%;
        height: 5px;
        justify-self: center;
        background: var(--accent-fill-rest);
        margin-top: 10px;
        border-radius: calc(var(--control-corner-radius) * 1px)
            calc(var(--control-corner-radius) * 1px) 0 0;
    }
    .activeIndicatorTransition {
        transition: transform 0.2s ease-in-out;
    }
    .tabpanel {
        grid-row: 2;
        grid-column-start: 1;
        grid-column-end: 4;
        position: relative;
    }
    :host([orientation="vertical"]) {
        grid-template-rows: auto 1fr auto;
        grid-template-columns: auto 1fr;
    }
    :host([orientation="vertical"]) .tablist {
        grid-row-start: 2;
        grid-row-end: 2;
        display: grid;
        grid-template-rows: auto;
        grid-template-columns: auto 1fr;
        position: relative;
        width: max-content;
        justify-self: end;
        align-self: flex-start;
        width: 100%;
        padding: 0 calc(var(--design-unit) * 4px)
            calc((var(--height-number) - var(--design-unit)) * 1px) 0;
    }
    :host([orientation="vertical"]) .tabpanel {
        grid-column: 2;
        grid-row-start: 1;
        grid-row-end: 4;
    }
    :host([orientation="vertical"]) ::slotted([slot="end"]) {
        grid-row: 3;
    }
    :host([orientation="vertical"]) .activeIndicator {
        grid-column: 1;
        grid-row: 1;
        width: 5px;
        height: 100%;
        margin-inline-end: 10px;
        align-self: center;
        background: var(--accent-fill-rest);
        margin-top: 0;
        border-radius: 0 calc(var(--control-corner-radius) * 1px)
            calc(var(--control-corner-radius) * 1px) 0;
    }
    :host([orientation="vertical"]) .activeIndicatorTransition {
        transition: transform 0.2s linear;
    }
`;
_tabs_js__WEBPACK_IMPORTED_MODULE_0__.FASTTabs.define({
    name: "fast-tabs",
    styles,
    template: (0,_tabs_template_js__WEBPACK_IMPORTED_MODULE_1__.tabsTemplate)(),
});


/***/ }),

/***/ "./src/tabs/stories/tabs.stories.ts":
/*!******************************************!*\
  !*** ./src/tabs/stories/tabs.stories.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisabledTabs": () => (/* binding */ DisabledTabs),
/* harmony export */   "Tabs": () => (/* binding */ Tabs),
/* harmony export */   "TabsWithSlottedStartEnd": () => (/* binding */ TabsWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _tab_panel_stories_tab_panel_stories_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../tab-panel/stories/tab-panel.stories.js */ "./src/tab-panel/stories/tab-panel.stories.ts");
/* harmony import */ var _tab_stories_tab_stories_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tab/stories/tab.stories.js */ "./src/tab/stories/tab.stories.ts");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _tabs_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tabs.options.js */ "./src/tabs/tabs.options.ts");





const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.html `
    <fast-tabs
        ?hide-active-indicator="${x => x.hideActiveIndicator}"
        activeid="${x => x.activeid}"
        orientation="${x => x.orientation}"
    >
        ${x => x.storyContent}
    </fast-tabs>
`;
const tabWithIconsStoryTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.html `
    <fast-tab ?disabled="${x => x.disabled}">
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        ${x => x.storyContent}
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    </fast-tab>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Tabs",
    args: {
        hideActiveIndicator: false,
        orientation: _tabs_options_js__WEBPACK_IMPORTED_MODULE_3__.TabsOrientation.horizontal,
        storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.html `
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.repeat)(x => x.storyItems.tabs, _tab_stories_tab_stories_js__WEBPACK_IMPORTED_MODULE_1__.storyTemplate)}
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.repeat)(x => x.storyItems.tabPanels, _tab_panel_stories_tab_panel_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        `,
    },
    argTypes: {
        activeid: { control: "text" },
        hideActiveIndicator: { control: "boolean" },
        orientation: { control: "radio", options: Object.values(_tabs_options_js__WEBPACK_IMPORTED_MODULE_3__.TabsOrientation) },
        storyContent: { table: { disable: true } },
        storyItems: { table: { disable: true } },
    },
});
const Tabs = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_2__.renderComponent)(storyTemplate).bind({});
Tabs.args = {
    storyItems: {
        tabs: [
            { storyContent: "Tab one" },
            { storyContent: "Tab two" },
            { storyContent: "Tab three" },
        ],
        tabPanels: [
            { storyContent: "Tab panel one" },
            { storyContent: "Tab panel two" },
            { storyContent: "Tab panel three" },
        ],
    },
};
const TabsWithSlottedStartEnd = Tabs.bind({});
TabsWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.repeat)(x => x.storyItems.tabs, tabWithIconsStoryTemplate)}
        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.repeat)(x => x.storyItems.tabPanels, _tab_panel_stories_tab_panel_stories_js__WEBPACK_IMPORTED_MODULE_0__.storyTemplate)}
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
    storyItems: {
        tabs: [
            { storyContent: "Tab one" },
            { storyContent: "Tab two" },
            { storyContent: "Tab three" },
        ],
        tabPanels: [
            { storyContent: "Tab panel one" },
            { storyContent: "Tab panel two" },
            { storyContent: "Tab panel three" },
        ],
    },
};
const DisabledTabs = Tabs.bind({});
DisabledTabs.args = {
    storyItems: {
        tabs: [
            { storyContent: "Tab one", disabled: true },
            { storyContent: "Tab two" },
            { storyContent: "Tab three" },
            { storyContent: "Tab four" },
            { storyContent: "Tab five", disabled: true },
        ],
        tabPanels: [
            { storyContent: "Tab panel one" },
            { storyContent: "Tab panel two" },
            { storyContent: "Tab panel three" },
            { storyContent: "Tab panel four" },
            { storyContent: "Tab panel five" },
        ],
    },
};


/***/ }),

/***/ "./src/tabs/tabs.options.ts":
/*!**********************************!*\
  !*** ./src/tabs/tabs.options.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TabsOrientation": () => (/* binding */ TabsOrientation)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/aria.js");

/**
 * The orientation of the {@link @microsoft/fast-foundation#(FASTTabs:class)} component
 * @public
 */
const TabsOrientation = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.Orientation;


/***/ }),

/***/ "./src/tabs/tabs.template.ts":
/*!***********************************!*\
  !*** ./src/tabs/tabs.template.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tabsTemplate": () => (/* binding */ tabsTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTTabs:class)} component.
 * @public
 */
function tabsTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
        <div class="tablist" part="tablist" role="tablist">
            <slot name="tab" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)("tabs")}></slot>

            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.when)(x => x.showActiveIndicator, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
                    <div
                        ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.ref)("activeIndicatorRef")}
                        class="active-indicator"
                        part="active-indicator"
                    ></div>
                `)}
        </div>
        ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        <div class="tabpanel" part="tabpanel">
            <slot name="tabpanel" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)("tabpanels")}></slot>
        </div>
    `;
}


/***/ }),

/***/ "./src/tabs/tabs.ts":
/*!**************************!*\
  !*** ./src/tabs/tabs.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTTabs": () => (/* binding */ FASTTabs)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/numbers.js");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _tabs_options_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tabs.options.js */ "./src/tabs/tabs.options.ts");






/**
 * A Tabs Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#tablist | ARIA tablist }.
 *
 * @slot start - Content which can be provided before the tablist element
 * @slot end - Content which can be provided after the tablist element
 * @slot tab - The slot for tabs
 * @slot tabpanel - The slot for tabpanels
 * @csspart tablist - The element wrapping for the tabs
 * @csspart activeIndicator - The visual indicator
 * @fires change - Fires a custom 'change' event when a tab is clicked or during keyboard navigation
 *
 * @public
 */
class FASTTabs extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The orientation
         * @public
         * @remarks
         * HTML Attribute: orientation
         */
        this.orientation = _tabs_options_js__WEBPACK_IMPORTED_MODULE_2__.TabsOrientation.horizontal;
        /**
         * Whether or not to show the active indicator
         * @public
         * @remarks
         * HTML Attribute: activeindicator
         */
        this.hideActiveIndicator = false;
        /**
         * @internal
         */
        this.showActiveIndicator = true;
        this.prevActiveTabIndex = 0;
        this.activeTabIndex = 0;
        this.ticking = false;
        this.change = () => {
            this.$emit("change", this.activetab);
        };
        this.isDisabledElement = (el) => {
            return el.getAttribute("aria-disabled") === "true";
        };
        this.isFocusableElement = (el) => {
            return !this.isDisabledElement(el);
        };
        this.setTabs = () => {
            const gridHorizontalProperty = "gridColumn";
            const gridVerticalProperty = "gridRow";
            const gridProperty = this.isHorizontal()
                ? gridHorizontalProperty
                : gridVerticalProperty;
            this.activeTabIndex = this.getActiveIndex();
            this.showActiveIndicator = false;
            this.tabs.forEach((tab, index) => {
                if (tab.slot === "tab") {
                    const isActiveTab = this.activeTabIndex === index && this.isFocusableElement(tab);
                    if (!this.hideActiveIndicator && this.isFocusableElement(tab)) {
                        this.showActiveIndicator = true;
                    }
                    const tabId = this.tabIds[index];
                    const tabpanelId = this.tabpanelIds[index];
                    tab.setAttribute("id", tabId);
                    tab.setAttribute("aria-selected", isActiveTab ? "true" : "false");
                    tab.setAttribute("aria-controls", tabpanelId);
                    tab.addEventListener("click", this.handleTabClick);
                    tab.addEventListener("keydown", this.handleTabKeyDown);
                    tab.setAttribute("tabindex", isActiveTab ? "0" : "-1");
                    if (isActiveTab) {
                        this.activetab = tab;
                    }
                }
                // If the original property isn't emptied out,
                // the next set will morph into a grid-area style setting that is not what we want
                tab.style[gridHorizontalProperty] = "";
                tab.style[gridVerticalProperty] = "";
                tab.style[gridProperty] = `${index + 1}`;
                !this.isHorizontal()
                    ? tab.classList.add("vertical")
                    : tab.classList.remove("vertical");
            });
        };
        this.setTabPanels = () => {
            this.tabpanels.forEach((tabpanel, index) => {
                const tabId = this.tabIds[index];
                const tabpanelId = this.tabpanelIds[index];
                tabpanel.setAttribute("id", tabpanelId);
                tabpanel.setAttribute("aria-labelledby", tabId);
                this.activeTabIndex !== index
                    ? tabpanel.setAttribute("hidden", "")
                    : tabpanel.removeAttribute("hidden");
            });
        };
        this.handleTabClick = (event) => {
            const selectedTab = event.currentTarget;
            if (selectedTab.nodeType === 1 && this.isFocusableElement(selectedTab)) {
                this.prevActiveTabIndex = this.activeTabIndex;
                this.activeTabIndex = this.tabs.indexOf(selectedTab);
                this.setComponent();
            }
        };
        this.handleTabKeyDown = (event) => {
            if (this.isHorizontal()) {
                switch (event.key) {
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowLeft:
                        event.preventDefault();
                        this.adjustBackward(event);
                        break;
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowRight:
                        event.preventDefault();
                        this.adjustForward(event);
                        break;
                }
            }
            else {
                switch (event.key) {
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowUp:
                        event.preventDefault();
                        this.adjustBackward(event);
                        break;
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyArrowDown:
                        event.preventDefault();
                        this.adjustForward(event);
                        break;
                }
            }
            switch (event.key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyHome:
                    event.preventDefault();
                    this.adjust(-this.activeTabIndex);
                    break;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.keyEnd:
                    event.preventDefault();
                    this.adjust(this.tabs.length - this.activeTabIndex - 1);
                    break;
            }
        };
        this.adjustForward = (e) => {
            const group = this.tabs;
            let index = 0;
            index = this.activetab ? group.indexOf(this.activetab) + 1 : 1;
            if (index === group.length) {
                index = 0;
            }
            while (index < group.length && group.length > 1) {
                if (this.isFocusableElement(group[index])) {
                    this.moveToTabByIndex(group, index);
                    break;
                }
                else if (this.activetab && index === group.indexOf(this.activetab)) {
                    break;
                }
                else if (index + 1 >= group.length) {
                    index = 0;
                }
                else {
                    index += 1;
                }
            }
        };
        this.adjustBackward = (e) => {
            const group = this.tabs;
            let index = 0;
            index = this.activetab ? group.indexOf(this.activetab) - 1 : 0;
            index = index < 0 ? group.length - 1 : index;
            while (index >= 0 && group.length > 1) {
                if (this.isFocusableElement(group[index])) {
                    this.moveToTabByIndex(group, index);
                    break;
                }
                else if (index - 1 < 0) {
                    index = group.length - 1;
                }
                else {
                    index -= 1;
                }
            }
        };
        this.moveToTabByIndex = (group, index) => {
            const tab = group[index];
            this.activetab = tab;
            this.prevActiveTabIndex = this.activeTabIndex;
            this.activeTabIndex = index;
            tab.focus();
            this.setComponent();
        };
    }
    /**
     * @internal
     */
    orientationChanged() {
        if (this.$fastController.isConnected) {
            this.setTabs();
            this.setTabPanels();
            this.handleActiveIndicatorPosition();
        }
    }
    /**
     * @internal
     */
    activeidChanged(oldValue, newValue) {
        if (this.$fastController.isConnected &&
            this.tabs.length <= this.tabpanels.length) {
            this.prevActiveTabIndex = this.tabs.findIndex((item) => item.id === oldValue);
            this.setTabs();
            this.setTabPanels();
            this.handleActiveIndicatorPosition();
        }
    }
    /**
     * @internal
     */
    tabsChanged() {
        if (this.$fastController.isConnected &&
            this.tabs.length <= this.tabpanels.length) {
            this.tabIds = this.getTabIds();
            this.tabpanelIds = this.getTabPanelIds();
            this.setTabs();
            this.setTabPanels();
            this.handleActiveIndicatorPosition();
        }
    }
    /**
     * @internal
     */
    tabpanelsChanged() {
        if (this.$fastController.isConnected &&
            this.tabpanels.length <= this.tabs.length) {
            this.tabIds = this.getTabIds();
            this.tabpanelIds = this.getTabPanelIds();
            this.setTabs();
            this.setTabPanels();
            this.handleActiveIndicatorPosition();
        }
    }
    getActiveIndex() {
        const id = this.activeid;
        if (id !== undefined) {
            return this.tabIds.indexOf(this.activeid) === -1
                ? 0
                : this.tabIds.indexOf(this.activeid);
        }
        else {
            return 0;
        }
    }
    getTabIds() {
        return this.tabs.map((tab) => {
            var _a;
            return (_a = tab.getAttribute("id")) !== null && _a !== void 0 ? _a : `tab-${(0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.uniqueId)()}`;
        });
    }
    getTabPanelIds() {
        return this.tabpanels.map((tabPanel) => {
            var _a;
            return (_a = tabPanel.getAttribute("id")) !== null && _a !== void 0 ? _a : `panel-${(0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.uniqueId)()}`;
        });
    }
    setComponent() {
        if (this.activeTabIndex !== this.prevActiveTabIndex) {
            this.activeid = this.tabIds[this.activeTabIndex];
            this.focusTab();
            this.change();
        }
    }
    isHorizontal() {
        return this.orientation === _tabs_options_js__WEBPACK_IMPORTED_MODULE_2__.TabsOrientation.horizontal;
    }
    handleActiveIndicatorPosition() {
        // Ignore if we click twice on the same tab
        if (this.showActiveIndicator &&
            !this.hideActiveIndicator &&
            this.activeTabIndex !== this.prevActiveTabIndex) {
            if (this.ticking) {
                this.ticking = false;
            }
            else {
                this.ticking = true;
                this.animateActiveIndicator();
            }
        }
    }
    animateActiveIndicator() {
        this.ticking = true;
        const gridProperty = this.isHorizontal() ? "gridColumn" : "gridRow";
        const translateProperty = this.isHorizontal()
            ? "translateX"
            : "translateY";
        const offsetProperty = this.isHorizontal() ? "offsetLeft" : "offsetTop";
        const prev = this.activeIndicatorRef[offsetProperty];
        this.activeIndicatorRef.style[gridProperty] = `${this.activeTabIndex + 1}`;
        const next = this.activeIndicatorRef[offsetProperty];
        this.activeIndicatorRef.style[gridProperty] = `${this.prevActiveTabIndex + 1}`;
        const dif = next - prev;
        this.activeIndicatorRef.style.transform = `${translateProperty}(${dif}px)`;
        this.activeIndicatorRef.classList.add("activeIndicatorTransition");
        this.activeIndicatorRef.addEventListener("transitionend", () => {
            this.ticking = false;
            this.activeIndicatorRef.style[gridProperty] = `${this.activeTabIndex + 1}`;
            this.activeIndicatorRef.style.transform = `${translateProperty}(0px)`;
            this.activeIndicatorRef.classList.remove("activeIndicatorTransition");
        });
    }
    /**
     * The adjust method for FASTTabs
     * @public
     * @remarks
     * This method allows the active index to be adjusted by numerical increments
     */
    adjust(adjustment) {
        const focusableTabs = this.tabs.filter(t => !this.isDisabledElement(t));
        const currentActiveTabIndex = focusableTabs.indexOf(this.activetab);
        const nextTabIndex = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_6__.limit)(0, focusableTabs.length - 1, currentActiveTabIndex + adjustment);
        // the index of the next focusable tab within the context of all available tabs
        const nextIndex = this.tabs.indexOf(focusableTabs[nextTabIndex]);
        if (nextIndex > -1) {
            this.moveToTabByIndex(this.tabs, nextIndex);
        }
    }
    focusTab() {
        this.tabs[this.activeTabIndex].focus();
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.tabIds = this.getTabIds();
        this.tabpanelIds = this.getTabPanelIds();
        this.activeTabIndex = this.getActiveIndex();
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.attr
], FASTTabs.prototype, "orientation", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.attr
], FASTTabs.prototype, "activeid", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTTabs.prototype, "tabs", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTTabs.prototype, "tabpanels", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.attr)({ attribute: "hide-active-indicator", mode: "boolean" })
], FASTTabs.prototype, "hideActiveIndicator", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTTabs.prototype, "activeIndicatorRef", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_7__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTTabs.prototype, "showActiveIndicator", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTTabs, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd);


/***/ }),

/***/ "./src/text-area/stories/text-area.register.ts":
/*!*****************************************************!*\
  !*** ./src/text-area/stories/text-area.register.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _text_area_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../text-area.js */ "./src/text-area/text-area.ts");
/* harmony import */ var _text_area_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../text-area.template.js */ "./src/text-area/text-area.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        display: inline-block;
        font-family: var(--body-font);
        outline: none;
        user-select: none;
    }

    .control {
        box-sizing: border-box;
        position: relative;
        color: var(--neutral-foreground-rest);
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        height: calc(var(--height-number) * 2px);
        font: inherit;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        padding: calc(var(--design-unit) * 2px + 1px);
        width: 100%;
        resize: none;
    }

    .control:hover:enabled {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-hover);
    }

    .control:active:enabled {
        background: var(--neutral-fill-input-active);
        border-color: var(--accent-fill-active);
    }

    .control:hover,
    .control:focus-visible,
    .control:disabled,
    .control:active {
        outline: none;
    }

    :host(:focus-within) .control {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 1px var(--focus-stroke-outer) inset;
    }

    :host([appearance="filled"]) .control {
        background: var(--neutral-fill-rest);
    }

    :host([appearance="filled"]:hover:not([disabled])) .control {
        background: var(--neutral-fill-hover);
    }

    :host([resize="both"]) .control {
        resize: both;
    }

    :host([resize="horizontal"]) .control {
        resize: horizontal;
    }

    :host([resize="vertical"]) .control {
        resize: vertical;
    }

    .label {
        display: block;
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: var(--disabled-cursor);
    }
    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }
    :host([disabled]) .control {
        border-color: var(--neutral-stroke-rest);
    }

    :host([cols]) {
        width: initial;
    }

    :host([rows]) .control {
        height: initial;
    }
`;
_text_area_js__WEBPACK_IMPORTED_MODULE_0__.FASTTextArea.define({
    name: "fast-text-area",
    template: (0,_text_area_template_js__WEBPACK_IMPORTED_MODULE_1__.textAreaTemplate)(),
    shadowOptions: {
        delegatesFocus: true,
    },
    styles,
});


/***/ }),

/***/ "./src/text-area/stories/text-area.stories.ts":
/*!****************************************************!*\
  !*** ./src/text-area/stories/text-area.stories.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextArea": () => (/* binding */ TextArea),
/* harmony export */   "TextAreaInForm": () => (/* binding */ TextAreaInForm),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _text_area_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../text-area.options.js */ "./src/text-area/text-area.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-text-area
        ?autofocus="${x => x.autofocus}"
        ?disabled="${x => x.disabled}"
        ?readonly="${x => x.readOnly}"
        ?required="${x => x.required}"
        ?spellcheck="${x => x.spellcheck}"
        cols="${x => x.cols}"
        form="${x => x.form}"
        list="${x => x.list}"
        maxlength="${x => x.maxlength}"
        minlength="${x => x.minlength}"
        name="${x => x.name}"
        pattern="${x => x.pattern}"
        placeholder="${x => x.placeholder}"
        resize="${x => x.resize}"
        rows="${x => x.rows}"
        size="${x => x.size}"
        value="${x => x.value}"
        :ariaAtomic="${x => x.ariaAtomic}"
        :ariaBusy="${x => x.ariaBusy}"
        :ariaControls="${x => x.ariaControls}"
        :ariaCurrent="${x => x.ariaCurrent}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaDetails="${x => x.ariaDetails}"
        :ariaDisabled="${x => x.ariaDisabled}"
        :ariaErrormessage="${x => x.ariaErrormessage}"
        :ariaFlowto="${x => x.ariaFlowto}"
        :ariaHaspopup="${x => x.ariaHaspopup}"
        :ariaHidden="${x => x.ariaHidden}"
        :ariaInvalid="${x => x.ariaInvalid}"
        :ariaKeyshortcuts="${x => x.ariaKeyshortcuts}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLive="${x => x.ariaLive}"
        :ariaOwns="${x => x.ariaOwns}"
        :ariaRelevant="${x => x.ariaRelevant}"
        :ariaRoledescription="${x => x.ariaRoledescription}"
    >
        ${x => x.storyContent}
    </fast-text-area>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Text Area",
    args: {
        autofocus: false,
        disabled: false,
        readOnly: false,
        required: false,
        spellcheck: false,
        storyContent: "Text Area",
    },
    argTypes: {
        autofocus: { control: "boolean" },
        disabled: { control: "boolean" },
        list: { control: "text" },
        maxlength: { control: "number" },
        minlength: { control: "number" },
        name: { control: "text" },
        placeholder: { control: "text" },
        form: { control: "text" },
        readOnly: { control: "boolean" },
        cols: { control: "number" },
        rows: { control: "number" },
        required: { control: "boolean" },
        resize: { options: Object.values(_text_area_options_js__WEBPACK_IMPORTED_MODULE_1__.TextAreaResize), control: "select" },
        spellcheck: { control: "boolean" },
        value: { control: "text" },
        ariaAtomic: { control: "text" },
        ariaBusy: { control: "text" },
        ariaControls: { control: "text" },
        ariaCurrent: { control: "text" },
        ariaDescribedby: { control: "text" },
        ariaDetails: { control: "text" },
        ariaDisabled: { control: "text" },
        ariaErrormessage: { control: "text" },
        ariaFlowto: { control: "text" },
        ariaHaspopup: { control: "text" },
        ariaHidden: { control: "text" },
        ariaInvalid: { control: "text" },
        ariaKeyshortcuts: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        ariaLive: { control: "text" },
        ariaOwns: { control: "text" },
        ariaRelevant: { control: "text" },
        ariaRoledescription: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const TextArea = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const TextAreaInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <form @submit="${() => false}">
        ${storyTemplate}
        <br />
        <fast-button type="submit">Submit</fast-button>
    </form>
`).bind({});


/***/ }),

/***/ "./src/text-area/text-area.form-associated.ts":
/*!****************************************************!*\
  !*** ./src/text-area/text-area.form-associated.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedTextArea": () => (/* binding */ FormAssociatedTextArea)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _TextArea extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTTextArea:class)} component.
 *
 * @beta
 */
class FormAssociatedTextArea extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_TextArea) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("textarea");
    }
}


/***/ }),

/***/ "./src/text-area/text-area.options.ts":
/*!********************************************!*\
  !*** ./src/text-area/text-area.options.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextAreaResize": () => (/* binding */ TextAreaResize)
/* harmony export */ });
/**
 * Resize mode for a TextArea
 * @public
 */
const TextAreaResize = {
    /**
     * No resize.
     */
    none: "none",
    /**
     * Resize vertically and horizontally.
     */
    both: "both",
    /**
     * Resize horizontally.
     */
    horizontal: "horizontal",
    /**
     * Resize vertically.
     */
    vertical: "vertical",
};


/***/ }),

/***/ "./src/text-area/text-area.template.ts":
/*!*********************************************!*\
  !*** ./src/text-area/text-area.template.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "textAreaTemplate": () => (/* binding */ textAreaTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");

/**
 * The template for the {@link @microsoft/fast-foundation#(FASTTextArea:class)} component.
 * @public
 */
function textAreaTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <label
            part="label"
            for="control"
            class="${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length
        ? "label"
        : "label label__hidden"}"
        >
            <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.slotted)("defaultSlottedNodes")}></slot>
        </label>
        <textarea
            part="control"
            class="control"
            id="control"
            ?autofocus="${x => x.autofocus}"
            cols="${x => x.cols}"
            ?disabled="${x => x.disabled}"
            form="${x => x.form}"
            list="${x => x.list}"
            maxlength="${x => x.maxlength}"
            minlength="${x => x.minlength}"
            name="${x => x.name}"
            placeholder="${x => x.placeholder}"
            ?readonly="${x => x.readOnly}"
            ?required="${x => x.required}"
            rows="${x => x.rows}"
            ?spellcheck="${x => x.spellcheck}"
            :value="${x => x.value}"
            aria-atomic="${x => x.ariaAtomic}"
            aria-busy="${x => x.ariaBusy}"
            aria-controls="${x => x.ariaControls}"
            aria-current="${x => x.ariaCurrent}"
            aria-describedby="${x => x.ariaDescribedby}"
            aria-details="${x => x.ariaDetails}"
            aria-disabled="${x => x.ariaDisabled}"
            aria-errormessage="${x => x.ariaErrormessage}"
            aria-flowto="${x => x.ariaFlowto}"
            aria-haspopup="${x => x.ariaHaspopup}"
            aria-hidden="${x => x.ariaHidden}"
            aria-invalid="${x => x.ariaInvalid}"
            aria-keyshortcuts="${x => x.ariaKeyshortcuts}"
            aria-label="${x => x.ariaLabel}"
            aria-labelledby="${x => x.ariaLabelledby}"
            aria-live="${x => x.ariaLive}"
            aria-owns="${x => x.ariaOwns}"
            aria-relevant="${x => x.ariaRelevant}"
            aria-roledescription="${x => x.ariaRoledescription}"
            @input="${(x, c) => x.handleTextInput()}"
            @change="${x => x.handleChange()}"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.ref)("control")}
        ></textarea>
    `;
}


/***/ }),

/***/ "./src/text-area/text-area.ts":
/*!************************************!*\
  !*** ./src/text-area/text-area.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTTextArea": () => (/* binding */ FASTTextArea),
/* harmony export */   "TextAreaResize": () => (/* reexport safe */ _text_area_options_js__WEBPACK_IMPORTED_MODULE_3__.TextAreaResize)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _text_field_text_field_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../text-field/text-field.js */ "./src/text-field/text-field.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _text_area_form_associated_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text-area.form-associated.js */ "./src/text-area/text-area.form-associated.ts");
/* harmony import */ var _text_area_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./text-area.options.js */ "./src/text-area/text-area.options.ts");







/**
 * A Text Area Custom HTML Element.
 * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea | <textarea> element }.
 *
 * @slot - The default slot for the label
 * @csspart label - The label
 * @csspart root - The element wrapping the control
 * @csspart control - The textarea element
 * @fires change - Emits a custom 'change' event when the textarea emits a change event
 *
 * @public
 */
class FASTTextArea extends _text_area_form_associated_js__WEBPACK_IMPORTED_MODULE_2__.FormAssociatedTextArea {
    constructor() {
        super(...arguments);
        /**
         * The resize mode of the element.
         * @public
         * @remarks
         * HTML Attribute: resize
         */
        this.resize = _text_area_options_js__WEBPACK_IMPORTED_MODULE_3__.TextAreaResize.none;
        /**
         * Sizes the element horizontally by a number of character columns.
         *
         * @public
         * @remarks
         * HTML Attribute: cols
         */
        this.cols = 20;
        /**
         * @internal
         */
        this.handleTextInput = () => {
            this.value = this.control.value;
        };
    }
    readOnlyChanged() {
        if (this.proxy instanceof HTMLTextAreaElement) {
            this.proxy.readOnly = this.readOnly;
        }
    }
    autofocusChanged() {
        if (this.proxy instanceof HTMLTextAreaElement) {
            this.proxy.autofocus = this.autofocus;
        }
    }
    listChanged() {
        if (this.proxy instanceof HTMLTextAreaElement) {
            this.proxy.setAttribute("list", this.list);
        }
    }
    maxlengthChanged() {
        if (this.proxy instanceof HTMLTextAreaElement) {
            this.proxy.maxLength = this.maxlength;
        }
    }
    minlengthChanged() {
        if (this.proxy instanceof HTMLTextAreaElement) {
            this.proxy.minLength = this.minlength;
        }
    }
    spellcheckChanged() {
        if (this.proxy instanceof HTMLTextAreaElement) {
            this.proxy.spellcheck = this.spellcheck;
        }
    }
    /**
     * Selects all the text in the text area
     *
     * @public
     */
    select() {
        this.control.select();
        /**
         * The select event does not permeate the shadow DOM boundary.
         * This fn effectively proxies the select event,
         * emitting a `select` event whenever the internal
         * control emits a `select` event
         */
        this.$emit("select");
    }
    /**
     * Change event handler for inner control.
     * @remarks
     * "Change" events are not `composable` so they will not
     * permeate the shadow DOM boundary. This fn effectively proxies
     * the change event, emitting a `change` event whenever the internal
     * control emits a `change` event
     * @internal
     */
    handleChange() {
        this.$emit("change");
    }
    /** {@inheritDoc (FormAssociated:interface).validate} */
    validate() {
        super.validate(this.control);
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTTextArea.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTTextArea.prototype, "resize", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTTextArea.prototype, "autofocus", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ attribute: "form" })
], FASTTextArea.prototype, "formId", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTTextArea.prototype, "list", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter })
], FASTTextArea.prototype, "maxlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter })
], FASTTextArea.prototype, "minlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTTextArea.prototype, "name", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr
], FASTTextArea.prototype, "placeholder", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter, mode: "fromView" })
], FASTTextArea.prototype, "cols", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.nullableNumberConverter, mode: "fromView" })
], FASTTextArea.prototype, "rows", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTTextArea.prototype, "spellcheck", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTTextArea.prototype, "defaultSlottedNodes", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTTextArea, _text_field_text_field_js__WEBPACK_IMPORTED_MODULE_0__.DelegatesARIATextbox);


/***/ }),

/***/ "./src/text-field/stories/text-field.register.ts":
/*!*******************************************************!*\
  !*** ./src/text-field/stories/text-field.register.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _text_field_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../text-field.js */ "./src/text-field/text-field.ts");
/* harmony import */ var _text_field_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../text-field.template.js */ "./src/text-field/text-field.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }

    :host {
        display: inline-block;
        font-family: var(--body-font);
        outline: none;
        user-select: none;
    }

    .root {
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: row;
        color: var(--neutral-foreground-rest);
        background: var(--neutral-fill-input-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--accent-fill-rest);
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        align-items: center;
    }

    .control {
        -webkit-appearance: none;
        font: inherit;
        background: transparent;
        border: 0;
        color: inherit;
        height: calc(100% - 4px);
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .control:hover,
    .control:focus-visible,
    .control:disabled,
    .control:active {
        outline: none;
    }

    .label {
        display: block;
        color: var(--neutral-foreground-rest);
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
        margin-inline: 11px;
    }

    :host(:hover:not([disabled])) .root {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-hover);
    }

    :host(:active:not([disabled])) .root {
        background: var(--neutral-fill-input-hover);
        border-color: var(--accent-fill-active);
    }

    :host(:focus-within:not([disabled])) .root {
        border-color: var(--focus-stroke-outer);
        box-shadow: 0 0 0 calc(var(--focus-stroke-width) * 1px) var(--focus-stroke-outer)
            inset;
    }

    :host([appearance="filled"]) .root {
        background: var(--neutral-fill-rest);
    }

    :host([appearance="filled"]:hover:not([disabled])) .root {
        background: var(--neutral-fill-hover);
    }

    :host([disabled]) .label,
    :host([readonly]) .label,
    :host([readonly]) .control,
    :host([disabled]) .control {
        cursor: not-allowed;
    }

    :host([disabled]) {
        opacity: var(--disabled-opacity);
    }

    :host([disabled]) .control {
        border-color: var(--neutral-stroke-rest);
    }
`;
_text_field_js__WEBPACK_IMPORTED_MODULE_0__.FASTTextField.define({
    name: "fast-text-field",
    template: (0,_text_field_template_js__WEBPACK_IMPORTED_MODULE_1__.textFieldTemplate)(),
    shadowOptions: {
        delegatesFocus: true,
    },
    styles,
});


/***/ }),

/***/ "./src/text-field/stories/text-field.stories.ts":
/*!******************************************************!*\
  !*** ./src/text-field/stories/text-field.stories.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextField": () => (/* binding */ TextField),
/* harmony export */   "TextFieldInForm": () => (/* binding */ TextFieldInForm),
/* harmony export */   "TextFieldWithSlottedStartEnd": () => (/* binding */ TextFieldWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _text_field_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../text-field.js */ "./src/text-field/text-field.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-text-field
        ?autofocus="${x => x.autofocus}"
        ?disabled="${x => x.disabled}"
        ?readonly="${x => x.readOnly}"
        ?required="${x => x.required}"
        ?spellcheck="${x => x.spellcheck}"
        list="${x => x.list}"
        maxlength="${x => x.maxlength}"
        minlength="${x => x.minlength}"
        name="${x => x.name}"
        pattern="${x => x.pattern}"
        placeholder="${x => x.placeholder}"
        resize="${x => x.resize}"
        size="${x => x.size}"
        tabindex="${x => (x.disabled ? null : "0")}"
        type="${x => x.type}"
        value="${x => x.value}"
        :ariaAtomic="${x => x.ariaAtomic}"
        :ariaBusy="${x => x.ariaBusy}"
        :ariaControls="${x => x.ariaControls}"
        :ariaCurrent="${x => x.ariaCurrent}"
        :ariaDescribedby="${x => x.ariaDescribedby}"
        :ariaDetails="${x => x.ariaDetails}"
        :ariaDisabled="${x => x.ariaDisabled}"
        :ariaErrormessage="${x => x.ariaErrormessage}"
        :ariaFlowto="${x => x.ariaFlowto}"
        :ariaHaspopup="${x => x.ariaHaspopup}"
        :ariaHidden="${x => x.ariaHidden}"
        :ariaInvalid="${x => x.ariaInvalid}"
        :ariaKeyshortcuts="${x => x.ariaKeyshortcuts}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
        :ariaLive="${x => x.ariaLive}"
        :ariaOwns="${x => x.ariaOwns}"
        :ariaRelevant="${x => x.ariaRelevant}"
        :ariaRoledescription="${x => x.ariaRoledescription}"
    >
        ${x => x.storyContent}
    </fast-text-field>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Text Field",
    args: {
        autofocus: false,
        disabled: false,
        readOnly: false,
        required: false,
        spellcheck: false,
        storyContent: "Text Field",
    },
    argTypes: {
        autofocus: { control: "boolean" },
        disabled: { control: "boolean" },
        list: { control: "text" },
        maxlength: { control: "number" },
        minlength: { control: "number" },
        name: { control: "text" },
        pattern: { control: "text" },
        placeholder: { control: "text" },
        readOnly: { control: "boolean" },
        required: { control: "boolean" },
        size: { control: "number" },
        spellcheck: { control: "boolean" },
        type: { control: "select", options: Object.values(_text_field_js__WEBPACK_IMPORTED_MODULE_1__.TextFieldType) },
        value: { control: "text" },
        ariaAtomic: { control: "text" },
        ariaBusy: { control: "text" },
        ariaControls: { control: "text" },
        ariaCurrent: { control: "text" },
        ariaDescribedby: { control: "text" },
        ariaDetails: { control: "text" },
        ariaDisabled: { control: "text" },
        ariaErrormessage: { control: "text" },
        ariaFlowto: { control: "text" },
        ariaHaspopup: { control: "text" },
        ariaHidden: { control: "text" },
        ariaInvalid: { control: "text" },
        ariaKeyshortcuts: { control: "text" },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        ariaLive: { control: "text" },
        ariaOwns: { control: "text" },
        ariaRelevant: { control: "text" },
        ariaRoledescription: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const TextField = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
const TextFieldWithSlottedStartEnd = TextField.bind({});
TextFieldWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Text Field
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const TextFieldInForm = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <form @submit="${() => false}">
            ${storyTemplate}
            <fast-button type="submit">Submit</fast-button>
        </form>
    `).bind({});


/***/ }),

/***/ "./src/text-field/text-field.form-associated.ts":
/*!******************************************************!*\
  !*** ./src/text-field/text-field.form-associated.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormAssociatedTextField": () => (/* binding */ FormAssociatedTextField)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form-associated/form-associated.js */ "./src/form-associated/form-associated.ts");


class _TextField extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
}
/**
 * A form-associated base class for the {@link @microsoft/fast-foundation#(TextField:class)} component.
 *
 * @beta
 */
class FormAssociatedTextField extends (0,_form_associated_form_associated_js__WEBPACK_IMPORTED_MODULE_0__.FormAssociated)(_TextField) {
    constructor() {
        super(...arguments);
        this.proxy = document.createElement("input");
    }
}


/***/ }),

/***/ "./src/text-field/text-field.options.ts":
/*!**********************************************!*\
  !*** ./src/text-field/text-field.options.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextFieldType": () => (/* binding */ TextFieldType)
/* harmony export */ });
/**
 * Text field sub-types
 * @public
 */
const TextFieldType = {
    /**
     * An email TextField
     */
    email: "email",
    /**
     * A password TextField
     */
    password: "password",
    /**
     * A telephone TextField
     */
    tel: "tel",
    /**
     * A text TextField
     */
    text: "text",
    /**
     * A URL TextField
     */
    url: "url",
};


/***/ }),

/***/ "./src/text-field/text-field.template.ts":
/*!***********************************************!*\
  !*** ./src/text-field/text-field.template.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "textFieldTemplate": () => (/* binding */ textFieldTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_whitespace_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/whitespace-filter.js */ "./src/utilities/whitespace-filter.ts");



/**
 * The template for the {@link @microsoft/fast-foundation#(FASTTextField:class)} component.
 * @public
 */
function textFieldTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <label
            part="label"
            for="control"
            class="${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length
        ? "label"
        : "label label__hidden"}"
        >
            <slot
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.slotted)({
        property: "defaultSlottedNodes",
        filter: _utilities_whitespace_filter_js__WEBPACK_IMPORTED_MODULE_1__.whitespaceFilter,
    })}
            ></slot>
        </label>
        <div class="root" part="root">
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
            <input
                class="control"
                part="control"
                id="control"
                @input="${x => x.handleTextInput()}"
                @change="${x => x.handleChange()}"
                ?autofocus="${x => x.autofocus}"
                ?disabled="${x => x.disabled}"
                list="${x => x.list}"
                maxlength="${x => x.maxlength}"
                name="${x => x.name}"
                minlength="${x => x.minlength}"
                pattern="${x => x.pattern}"
                placeholder="${x => x.placeholder}"
                ?readonly="${x => x.readOnly}"
                ?required="${x => x.required}"
                size="${x => x.size}"
                ?spellcheck="${x => x.spellcheck}"
                :value="${x => x.value}"
                type="${x => x.type}"
                aria-atomic="${x => x.ariaAtomic}"
                aria-busy="${x => x.ariaBusy}"
                aria-controls="${x => x.ariaControls}"
                aria-current="${x => x.ariaCurrent}"
                aria-describedby="${x => x.ariaDescribedby}"
                aria-details="${x => x.ariaDetails}"
                aria-disabled="${x => x.ariaDisabled}"
                aria-errormessage="${x => x.ariaErrormessage}"
                aria-flowto="${x => x.ariaFlowto}"
                aria-haspopup="${x => x.ariaHaspopup}"
                aria-hidden="${x => x.ariaHidden}"
                aria-invalid="${x => x.ariaInvalid}"
                aria-keyshortcuts="${x => x.ariaKeyshortcuts}"
                aria-label="${x => x.ariaLabel}"
                aria-labelledby="${x => x.ariaLabelledby}"
                aria-live="${x => x.ariaLive}"
                aria-owns="${x => x.ariaOwns}"
                aria-relevant="${x => x.ariaRelevant}"
                aria-roledescription="${x => x.ariaRoledescription}"
                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.ref)("control")}
            />
            ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
        </div>
    `;
}


/***/ }),

/***/ "./src/text-field/text-field.ts":
/*!**************************************!*\
  !*** ./src/text-field/text-field.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIATextbox": () => (/* binding */ DelegatesARIATextbox),
/* harmony export */   "FASTTextField": () => (/* binding */ FASTTextField),
/* harmony export */   "TextFieldType": () => (/* reexport safe */ _text_field_options_js__WEBPACK_IMPORTED_MODULE_3__.TextFieldType)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _text_field_form_associated_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text-field.form-associated.js */ "./src/text-field/text-field.form-associated.ts");
/* harmony import */ var _text_field_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./text-field.options.js */ "./src/text-field/text-field.options.ts");







/**
 * A Text Field Custom HTML Element.
 * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text | <input type="text" /> element }.
 *
 * @slot start - Content which can be provided before the number field input
 * @slot end - Content which can be provided after the number field input
 * @slot - The default slot for the label
 * @csspart label - The label
 * @csspart root - The element wrapping the control, including start and end slots
 * @csspart control - The text field element
 * @fires change - Fires a custom 'change' event when the value has changed
 *
 * @public
 */
class FASTTextField extends _text_field_form_associated_js__WEBPACK_IMPORTED_MODULE_2__.FormAssociatedTextField {
    constructor() {
        super(...arguments);
        /**
         * Allows setting a type or mode of text.
         * @public
         * @remarks
         * HTML Attribute: type
         */
        this.type = _text_field_options_js__WEBPACK_IMPORTED_MODULE_3__.TextFieldType.text;
    }
    readOnlyChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.readOnly = this.readOnly;
            this.validate();
        }
    }
    autofocusChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.autofocus = this.autofocus;
            this.validate();
        }
    }
    placeholderChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.placeholder = this.placeholder;
        }
    }
    typeChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.type = this.type;
            this.validate();
        }
    }
    listChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.setAttribute("list", this.list);
            this.validate();
        }
    }
    maxlengthChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.maxLength = this.maxlength;
            this.validate();
        }
    }
    minlengthChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.minLength = this.minlength;
            this.validate();
        }
    }
    patternChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.pattern = this.pattern;
            this.validate();
        }
    }
    sizeChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.size = this.size;
        }
    }
    spellcheckChanged() {
        if (this.proxy instanceof HTMLInputElement) {
            this.proxy.spellcheck = this.spellcheck;
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.proxy.setAttribute("type", this.type);
        this.validate();
        if (this.autofocus) {
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.Updates.enqueue(() => {
                this.focus();
            });
        }
    }
    /**
     * Selects all the text in the text field
     *
     * @public
     */
    select() {
        this.control.select();
        /**
         * The select event does not permeate the shadow DOM boundary.
         * This fn effectively proxies the select event,
         * emitting a `select` event whenever the internal
         * control emits a `select` event
         */
        this.$emit("select");
    }
    /**
     * Handles the internal control's `input` event
     * @internal
     */
    handleTextInput() {
        this.value = this.control.value;
    }
    /**
     * Change event handler for inner control.
     * @remarks
     * "Change" events are not `composable` so they will not
     * permeate the shadow DOM boundary. This fn effectively proxies
     * the change event, emitting a `change` event whenever the internal
     * control emits a `change` event
     * @internal
     */
    handleChange() {
        this.$emit("change");
    }
    /** {@inheritDoc (FormAssociated:interface).validate} */
    validate() {
        super.validate(this.control);
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ attribute: "readonly", mode: "boolean" })
], FASTTextField.prototype, "readOnly", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ mode: "boolean" })
], FASTTextField.prototype, "autofocus", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTTextField.prototype, "placeholder", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTTextField.prototype, "type", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTTextField.prototype, "list", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.nullableNumberConverter })
], FASTTextField.prototype, "maxlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.nullableNumberConverter })
], FASTTextField.prototype, "minlength", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr
], FASTTextField.prototype, "pattern", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.nullableNumberConverter })
], FASTTextField.prototype, "size", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.attr)({ mode: "boolean" })
], FASTTextField.prototype, "spellcheck", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTTextField.prototype, "defaultSlottedNodes", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA textbox role
 *
 * @public
 */
class DelegatesARIATextbox {
}
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(DelegatesARIATextbox, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.ARIAGlobalStatesAndProperties);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTTextField, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd, DelegatesARIATextbox);


/***/ }),

/***/ "./src/toolbar/stories/toolbar.register.ts":
/*!*************************************************!*\
  !*** ./src/toolbar/stories/toolbar.register.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _toolbar_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../toolbar.js */ "./src/toolbar/toolbar.ts");
/* harmony import */ var _toolbar_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../toolbar.template.js */ "./src/toolbar/toolbar.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }

    :host {
        --toolbar-item-gap: calc((var(--design-unit) + calc(var(--density) + 2)) * 1px);
        background-color: var(--fill-color);
        border-radius: calc(var(--control-corner-radius) * 1px);
        display: inline-flex;
        fill: currentcolor;
        padding: var(--toolbar-item-gap);
    }
    :host(var(--focus-visible)) {
        outline: calc(var(--stroke-width) * 1px) solid var(--neutral-stroke-focus);
    }
    .positioning-region {
        align-items: flex-start;
        display: inline-flex;
        flex-flow: row wrap;
        justify-content: flex-start;
    }
    :host([orientation="vertical"]) .positioning-region {
        flex-direction: column;
    }
    ::slotted(:not([slot])) {
        flex: 0 0 auto;
        margin: 0 var(--toolbar-item-gap);
    }
    :host([orientation="vertical"]) ::slotted(:not([slot])) {
        margin: var(--toolbar-item-gap) 0;
    }
    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
        margin: auto;
        margin-inline: 0;
    }
`;
_toolbar_js__WEBPACK_IMPORTED_MODULE_0__.FASTToolbar.define({
    name: "fast-toolbar",
    styles,
    template: (0,_toolbar_template_js__WEBPACK_IMPORTED_MODULE_1__.toolbarTemplate)(),
    shadowOptions: {
        delegatesFocus: true,
    },
});


/***/ }),

/***/ "./src/toolbar/stories/toolbar.stories.ts":
/*!************************************************!*\
  !*** ./src/toolbar/stories/toolbar.stories.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Toolbar": () => (/* binding */ Toolbar),
/* harmony export */   "ToolbarButtonFocusTest": () => (/* binding */ ToolbarButtonFocusTest),
/* harmony export */   "ToolbarWithSlottedStartEnd": () => (/* binding */ ToolbarWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _toolbar_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../toolbar.options.js */ "./src/toolbar/toolbar.options.ts");



const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-toolbar
        orientation="${x => x.orientation}"
        :ariaLabel="${x => x.ariaLabel}"
        :ariaLabelledby="${x => x.ariaLabelledby}"
    >
        ${x => x.storyContent}
    </fast-toolbar>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Toolbar",
    argTypes: {
        orientation: { control: "radio", options: Object.values(_toolbar_options_js__WEBPACK_IMPORTED_MODULE_1__.ToolbarOrientation) },
        ariaLabel: { control: "text" },
        ariaLabelledby: { control: "text" },
        storyContent: { table: { disable: true } },
    },
});
const Toolbar = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
Toolbar.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <button>Button</button>
        <select>
            <option>Option 1</option>
            <option>Second option</option>
            <option>Option 3</option>
        </select>
        <label for="check-1">
            <input type="checkbox" name="checkbox" id="check-1" />
            Checkbox 1
        </label>
        <label for="check-2">
            <input type="checkbox" name="checkbox" id="check-2" />
            Checkbox 2
        </label>
        <label for="check-3">
            <input type="checkbox" name="checkbox" id="check-3" />
            Checkbox 3
        </label>
        <input type="text" name="text" id="text-input" />
    `,
};
const ToolbarWithSlottedStartEnd = Toolbar.bind({});
ToolbarWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        <button>Button</button>
        <select>
            <option>Option 1</option>
            <option>Second option</option>
            <option>Option 3</option>
        </select>
        <label for="check-1">
            <input type="checkbox" name="checkbox" id="check-1" />
            Checkbox 1
        </label>
        <label for="check-2">
            <input type="checkbox" name="checkbox" id="check-2" />
            Checkbox 2
        </label>
        <label for="check-3">
            <input type="checkbox" name="checkbox" id="check-3" />
            Checkbox 3
        </label>
        <input type="text" name="text" id="text-input" />
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const ToolbarButtonFocusTest = Toolbar.bind({});
ToolbarButtonFocusTest.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <button>Button 1</button>
        <button>Button 2</button>
        <button>Button 3</button>
        <button>Button 4</button>
        <button>Button 5</button>
        <button slot="start">Start Slot Button</button>
        <button slot="end">End Slot Button</button>
    `,
};


/***/ }),

/***/ "./src/toolbar/toolbar.options.ts":
/*!****************************************!*\
  !*** ./src/toolbar/toolbar.options.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ToolbarOrientation": () => (/* binding */ ToolbarOrientation)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/aria.js");

/**
 * The orientation of the {@link @microsoft/fast-foundation#(FASTToolbar:class)} component
 * @public
 */
const ToolbarOrientation = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.Orientation;


/***/ }),

/***/ "./src/toolbar/toolbar.template.ts":
/*!*****************************************!*\
  !*** ./src/toolbar/toolbar.template.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "toolbarTemplate": () => (/* binding */ toolbarTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/children.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");


/**
 * The template for the {@link @microsoft/fast-foundation#(FASTToolbar:class)} component.
 *
 * @public
 */
function toolbarTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <template
            aria-label="${x => x.ariaLabel}"
            aria-labelledby="${x => x.ariaLabelledby}"
            aria-orientation="${x => x.orientation}"
            orientation="${x => x.orientation}"
            role="toolbar"
            @click="${(x, c) => x.clickHandler(c.event)}"
            @focusin="${(x, c) => x.focusinHandler(c.event)}"
            @keydown="${(x, c) => x.keydownHandler(c.event)}"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.children)({
        property: "childItems",
        attributeFilter: ["disabled", "hidden"],
        selector: "*",
        subtree: true,
    })}
        >
            <slot name="label"></slot>
            <div class="positioning-region" part="positioning-region">
                ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.startSlotTemplate)(options)}
                <slot
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.slotted)({
        filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.elements)(),
        property: "slottedItems",
    })}
                ></slot>
                ${(0,_patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.endSlotTemplate)(options)}
            </div>
        </template>
    `;
}


/***/ }),

/***/ "./src/toolbar/toolbar.ts":
/*!********************************!*\
  !*** ./src/toolbar/toolbar.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DelegatesARIAToolbar": () => (/* binding */ DelegatesARIAToolbar),
/* harmony export */   "FASTToolbar": () => (/* binding */ FASTToolbar)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/localization.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/numbers.js");
/* harmony import */ var tabbable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tabbable */ "./node_modules/tabbable/dist/index.esm.js");
/* harmony import */ var _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/index.js */ "./src/patterns/index.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");
/* harmony import */ var _utilities_direction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities/direction.js */ "./src/utilities/direction.ts");
/* harmony import */ var _toolbar_options_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolbar.options.js */ "./src/toolbar/toolbar.options.ts");








/**
 * A map for directionality derived from keyboard input strings,
 * visual orientation, and text direction.
 *
 * @internal
 */
const ToolbarArrowKeyMap = Object.freeze({
    [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.ArrowKeys.ArrowUp]: {
        [_toolbar_options_js__WEBPACK_IMPORTED_MODULE_3__.ToolbarOrientation.vertical]: -1,
    },
    [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.ArrowKeys.ArrowDown]: {
        [_toolbar_options_js__WEBPACK_IMPORTED_MODULE_3__.ToolbarOrientation.vertical]: 1,
    },
    [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.ArrowKeys.ArrowLeft]: {
        [_toolbar_options_js__WEBPACK_IMPORTED_MODULE_3__.ToolbarOrientation.horizontal]: {
            [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Direction.ltr]: -1,
            [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Direction.rtl]: 1,
        },
    },
    [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.ArrowKeys.ArrowRight]: {
        [_toolbar_options_js__WEBPACK_IMPORTED_MODULE_3__.ToolbarOrientation.horizontal]: {
            [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Direction.ltr]: 1,
            [_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Direction.rtl]: -1,
        },
    },
});
/**
 * A Toolbar Custom HTML Element.
 * Implements the {@link https://w3c.github.io/aria-practices/#Toolbar|ARIA Toolbar}.
 *
 * @slot start - Content which can be provided before the slotted items
 * @slot end - Content which can be provided after the slotted items
 * @slot - The default slot for slotted items
 * @slot label - The toolbar label
 * @csspart positioning-region - The element containing the items, start and end slots
 *
 * @public
 */
class FASTToolbar extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The internal index of the currently focused element.
         *
         * @internal
         */
        this._activeIndex = 0;
        /**
         * The text direction of the toolbar.
         *
         * @internal
         */
        this.direction = _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_5__.Direction.ltr;
        /**
         * The orientation of the toolbar.
         *
         * @public
         * @remarks
         * HTML Attribute: `orientation`
         */
        this.orientation = _toolbar_options_js__WEBPACK_IMPORTED_MODULE_3__.ToolbarOrientation.horizontal;
    }
    /**
     * The index of the currently focused element, clamped between 0 and the last element.
     *
     * @internal
     */
    get activeIndex() {
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Observable.track(this, "activeIndex");
        return this._activeIndex;
    }
    set activeIndex(value) {
        if (this.$fastController.isConnected) {
            this._activeIndex = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_8__.limit)(0, this.focusableElements.length - 1, value);
            _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.Observable.notify(this, "activeIndex");
        }
    }
    slottedItemsChanged() {
        if (this.$fastController.isConnected) {
            this.reduceFocusableElements();
        }
    }
    /**
     * Set the activeIndex when a focusable element in the toolbar is clicked.
     *
     * @internal
     */
    clickHandler(e) {
        var _a;
        const activeIndex = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a.indexOf(e.target);
        if (activeIndex > -1 && this.activeIndex !== activeIndex) {
            this.setFocusedElement(activeIndex);
        }
        return true;
    }
    childItemsChanged(prev, next) {
        if (this.$fastController.isConnected) {
            this.reduceFocusableElements();
        }
    }
    /**
     * @internal
     */
    connectedCallback() {
        super.connectedCallback();
        this.direction = (0,_utilities_direction_js__WEBPACK_IMPORTED_MODULE_2__.getDirection)(this);
    }
    /**
     * When the toolbar receives focus, set the currently active element as focused.
     *
     * @internal
     */
    focusinHandler(e) {
        const relatedTarget = e.relatedTarget;
        if (!relatedTarget || this.contains(relatedTarget)) {
            return;
        }
        this.setFocusedElement();
    }
    /**
     * Determines a value that can be used to iterate a list with the arrow keys.
     *
     * @param this - An element with an orientation and direction
     * @param key - The event key value
     * @internal
     */
    getDirectionalIncrementer(key) {
        var _a, _b, _c, _d, _e;
        return ((_e = (_c = (_b = (_a = ToolbarArrowKeyMap[key]) === null || _a === void 0 ? void 0 : _a[this.orientation]) === null || _b === void 0 ? void 0 : _b[this.direction]) !== null && _c !== void 0 ? _c : (_d = ToolbarArrowKeyMap[key]) === null || _d === void 0 ? void 0 : _d[this.orientation]) !== null && _e !== void 0 ? _e : 0);
    }
    /**
     * Handle keyboard events for the toolbar.
     *
     * @internal
     */
    keydownHandler(e) {
        const key = e.key;
        if (!(key in _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.ArrowKeys) || e.defaultPrevented || e.shiftKey) {
            return true;
        }
        const incrementer = this.getDirectionalIncrementer(key);
        if (!incrementer) {
            return !e.target.closest("[role=radiogroup]");
        }
        const nextIndex = this.activeIndex + incrementer;
        if (this.focusableElements[nextIndex]) {
            e.preventDefault();
        }
        this.setFocusedElement(nextIndex);
        return true;
    }
    /**
     * get all the slotted elements
     * @internal
     */
    get allSlottedItems() {
        return [
            ...this.start.assignedElements(),
            ...this.slottedItems,
            ...this.end.assignedElements(),
        ];
    }
    /**
     * Prepare the slotted elements which can be focusable.
     *
     * @internal
     */
    reduceFocusableElements() {
        var _a;
        const previousFocusedElement = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a[this.activeIndex];
        this.focusableElements = this.allSlottedItems.reduce(FASTToolbar.reduceFocusableItems, []);
        // If the previously active item is still focusable, adjust the active index to the
        // index of that item.
        const adjustedActiveIndex = this.focusableElements.indexOf(previousFocusedElement);
        this.activeIndex = Math.max(0, adjustedActiveIndex);
        this.setFocusableElements();
    }
    /**
     * Set the activeIndex and focus the corresponding control.
     *
     * @param activeIndex - The new index to set
     * @internal
     */
    setFocusedElement(activeIndex = this.activeIndex) {
        var _a;
        this.activeIndex = activeIndex;
        this.setFocusableElements();
        (_a = this.focusableElements[this.activeIndex]) === null || _a === void 0 ? void 0 : _a.focus();
    }
    /**
     * Reduce a collection to only its focusable elements.
     *
     * @param elements - Collection of elements to reduce
     * @param element - The current element
     *
     * @internal
     */
    static reduceFocusableItems(elements, element) {
        var _a, _b, _c, _d;
        const isRoleRadio = element.getAttribute("role") === "radio";
        const isFocusableFastElement = (_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus;
        const hasFocusableShadow = Array.from((_d = (_c = element.shadowRoot) === null || _c === void 0 ? void 0 : _c.querySelectorAll("*")) !== null && _d !== void 0 ? _d : []).some(x => (0,tabbable__WEBPACK_IMPORTED_MODULE_9__.isFocusable)(x));
        if (!element.hasAttribute("disabled") &&
            !element.hasAttribute("hidden") &&
            ((0,tabbable__WEBPACK_IMPORTED_MODULE_9__.isFocusable)(element) ||
                isRoleRadio ||
                isFocusableFastElement ||
                hasFocusableShadow)) {
            elements.push(element);
            return elements;
        }
        if (element.childElementCount) {
            return elements.concat(Array.from(element.children).reduce(FASTToolbar.reduceFocusableItems, []));
        }
        return elements;
    }
    /**
     * @internal
     */
    setFocusableElements() {
        if (this.$fastController.isConnected && this.focusableElements.length > 0) {
            this.focusableElements.forEach((element, index) => {
                element.tabIndex = this.activeIndex === index ? 0 : -1;
            });
        }
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTToolbar.prototype, "direction", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.attr
], FASTToolbar.prototype, "orientation", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTToolbar.prototype, "slottedItems", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTToolbar.prototype, "slottedLabel", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.observable
], FASTToolbar.prototype, "childItems", void 0);
/**
 * Includes ARIA states and properties relating to the ARIA toolbar role
 *
 * @public
 */
class DelegatesARIAToolbar {
}
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.attr)({ attribute: "aria-labelledby" })
], DelegatesARIAToolbar.prototype, "ariaLabelledby", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_10__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_11__.attr)({ attribute: "aria-label" })
], DelegatesARIAToolbar.prototype, "ariaLabel", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(DelegatesARIAToolbar, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.ARIAGlobalStatesAndProperties);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTToolbar, _patterns_index_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd, DelegatesARIAToolbar);


/***/ }),

/***/ "./src/tooltip/stories/tooltip.register.ts":
/*!*************************************************!*\
  !*** ./src/tooltip/stories/tooltip.register.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _tooltip_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tooltip.js */ "./src/tooltip/tooltip.ts");
/* harmony import */ var _tooltip_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tooltip.template.js */ "./src/tooltip/tooltip.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host {
        box-sizing: border-box;
        box-shadow: 0 0 2px rgba(0, 0, 0, 0.12), 0 8px 16px rgba(0, 0, 0, 0.14);
        border-radius: calc(var(--control-corner-radius) * 1px);
        border: calc(var(--stroke-width) * 1px) solid var(--focus-stroke-outer);
        background: var(--fill-color);
        color: var(--neutral-foreground-rest);
        padding: 4px 12px;
        height: fit-content;
        width: fit-content;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        font-weight: initial;
        font-variation-settings: var(--type-ramp-base-font-variations);
        white-space: nowrap;
        box-shadow: var(--elevation-shadow-tooltip);
        position: fixed;
        visibility: hidden;
    }

    :host([hidden]) {
        display: none;
    }

    :host([visible]) {
        transition: visibility 0s 0s linear, opacity 50ms 0.5s linear;
        opacity: 1;
        visibility: visible;
    }

    :host(:not([visible])) {
        transition: visibility 0s 0.5s, opacity 50ms linear;
        opacity: 0;
        visibility: hidden;
    }

    :host([show="true"][visible]) {
        transition: none;
    }
`;
_tooltip_js__WEBPACK_IMPORTED_MODULE_0__.FASTTooltip.define({
    name: "fast-tooltip",
    styles,
    template: (0,_tooltip_template_js__WEBPACK_IMPORTED_MODULE_1__.tooltipTemplate)(),
});


/***/ }),

/***/ "./src/tooltip/stories/tooltip.stories.ts":
/*!************************************************!*\
  !*** ./src/tooltip/stories/tooltip.stories.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tooltip": () => (/* binding */ Tooltip),
/* harmony export */   "TooltipPlacements": () => (/* binding */ TooltipPlacements),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");
/* harmony import */ var _tooltip_options_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tooltip.options.js */ "./src/tooltip/tooltip.options.ts");



const componentTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <fast-tooltip
        show="${x => x.show}"
        placement="${x => x.placement}"
        anchor="${x => x.anchor}"
    >
        ${x => x.storyContent}
    </fast-tooltip>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Tooltip",
    args: {
        anchor: "anchor-default",
        storyContent: "Tooltip",
    },
    argTypes: {
        anchor: { control: "text" },
        placement: {
            control: "select",
            options: Object.values(_tooltip_options_js__WEBPACK_IMPORTED_MODULE_1__.TooltipPlacement),
        },
        show: { control: "select", options: [undefined, true, false] },
    },
});
const Tooltip = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
    <div>
        <fast-button id="${x => x.anchor}">
            ${x => { var _a; return (_a = x.buttonContent) !== null && _a !== void 0 ? _a : "Hover or focus me"; }}
        </fast-button>
        ${componentTemplate}
    </div>
`).bind({});
const TooltipPlacements = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <fast-card
            id="${x => x.anchor}"
            style="height: 50%; left: 50%; position: absolute; top: 50%; transform: translate(-50%, -50%); width: 50%;"
        >
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.repeat)(x => x.storyItems, componentTemplate)}
        </fast-card>
    `).bind({});
TooltipPlacements.args = {
    anchor: "placement-container",
    storyItems: Object.values(_tooltip_options_js__WEBPACK_IMPORTED_MODULE_1__.TooltipPlacement).map(placement => ({
        anchor: "placement-container",
        placement,
        show: true,
        storyContent: placement,
    })),
};
TooltipPlacements.parameters = { controls: { include: [] } };


/***/ }),

/***/ "./src/tooltip/tooltip.options.ts":
/*!****************************************!*\
  !*** ./src/tooltip/tooltip.options.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TooltipPlacement": () => (/* binding */ TooltipPlacement)
/* harmony export */ });
/**
 * Enumerates possible tooltip placements.
 *
 * @public
 */
const TooltipPlacement = {
    bottom: "bottom",
    bottomEnd: "bottom-end",
    bottomStart: "bottom-start",
    left: "left",
    leftEnd: "left-end",
    leftStart: "left-start",
    right: "right",
    rightEnd: "right-end",
    rightStart: "right-start",
    top: "top",
    topEnd: "top-end",
    topStart: "top-start",
};


/***/ }),

/***/ "./src/tooltip/tooltip.template.ts":
/*!*****************************************!*\
  !*** ./src/tooltip/tooltip.template.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tooltipTemplate": () => (/* binding */ tooltipTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 * Creates a template for the {@link @microsoft/fast-foundation#(FASTTooltip:class)} component using the provided prefix.
 * @public
 */
function tooltipTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template role="tooltip" ?visible="${x => x.visible}">
            <slot></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/tooltip/tooltip.ts":
/*!********************************!*\
  !*** ./src/tooltip/tooltip.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTTooltip": () => (/* binding */ FASTTooltip)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.mjs");
/* harmony import */ var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/dom */ "./node_modules/@floating-ui/core/dist/floating-ui.core.browser.mjs");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/strings.js");
/* harmony import */ var _tooltip_options_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tooltip.options.js */ "./src/tooltip/tooltip.options.ts");





/**
 * A Tooltip Custom HTML Element.
 * Implements the {@link https://www.w3.org/TR/wai-aria-1.2/#tooltip | ARIA tooltip }.
 *
 * @slot - The default slot for the tooltip content
 * @fires dismiss - Fires a custom 'dismiss' event when the tooltip is visible and escape key is pressed
 *
 * @public
 */
class FASTTooltip extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The visibility of the tooltip.
         *
         * @internal
         */
        this._visible = false;
        /**
         * Indicates if the tooltip visibility is controlled by the `visible` attribute.
         *
         * When `true`, the tooltip visibility is controlled by the `visible` attribute.
         * When `false`, the tooltip visibility is controlled by the `mouseover` and `focusin` events on the anchor element.
         *
         * @internal
         */
        this.controlledVisibility = false;
        /**
         * Hides the tooltip when the anchor element loses focus.
         *
         * @internal
         */
        this.focusoutAnchorHandler = () => {
            if (!this.controlledVisibility && this._visible) {
                this.hideTooltip();
            }
        };
        /**
         * Shows the tooltip when the anchor element gains focus.
         *
         * @internal
         */
        this.focusinAnchorHandler = () => {
            if (!this.controlledVisibility && !this._visible) {
                this.showTooltip();
            }
        };
        /**
         * Hides the tooltip when the `Escape` key is pressed.
         *
         * @param e - the keyboard event
         *
         * @internal
         */
        this.keydownDocumentHandler = (e) => {
            if (!e.defaultPrevented && this.visible) {
                switch (e.key) {
                    case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyEscape: {
                        this.dismiss();
                        break;
                    }
                }
            }
        };
        /**
         * Shows the tooltip when the mouse is over the anchor element.
         *
         * @internal
         */
        this.mouseoverAnchorHandler = () => {
            var _a;
            if (!((_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.isSameNode(this.anchorElement))) {
                this.showTooltip();
            }
        };
        /**
         * Hides the tooltip when the mouse leaves the anchor element.
         *
         * @internal
         */
        this.mouseoutAnchorHandler = (e) => {
            var _a;
            if (!((_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.isSameNode(this.anchorElement)) &&
                !this.isSameNode(e.relatedTarget)) {
                this.hideTooltip();
            }
        };
        /**
         * The placement of the tooltip relative to the anchor element.
         *
         * @public
         * @remarks
         * HTML Attribute: `placement`
         */
        this.placement = _tooltip_options_js__WEBPACK_IMPORTED_MODULE_0__.TooltipPlacement.bottom;
    }
    /**
     * Removes listeners from the previous anchor element and updates the anchor element reference.
     *
     * @param prev - the previous anchor string
     * @param next - the current anchor string
     *
     * @internal
     */
    anchorChanged(prev, next) {
        if (this.$fastController.isConnected) {
            this.removeListeners();
            this.removeAnchorAriaDescribedBy(this.id);
            this.anchorElement = this.getAnchorElement(next);
            this.addAnchorAriaDescribedBy();
            if (!this.controlledVisibility) {
                this.addListeners();
            }
        }
    }
    /**
     * Switches between controlled and uncontrolled visibility.
     *
     * @param prev - the previous forced visibility state
     * @param next - the current forced visibility state
     * @internal
     */
    controlledVisibilityChanged(prev, next) {
        if (!next) {
            this.addListeners();
            this.hideTooltip();
            return;
        }
        this.removeListeners();
    }
    idChanged(prev, next) {
        this.removeAnchorAriaDescribedBy(prev);
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Updates.enqueue(() => {
            this.addAnchorAriaDescribedBy();
        });
    }
    /**
     * Updates the styles for the tooltip position.
     *
     * @param prev - the previous placement styles
     * @param next - the current placement styles
     *
     * @internal
     */
    positionStylesChanged(prev, next) {
        this.$fastController.removeStyles(prev);
        this.$fastController.addStyles(next);
    }
    showChanged(prev, next) {
        this.visible = next;
    }
    /**
     * Returns the current visibility of the tooltip.
     * @public
     */
    get visible() {
        return this._visible;
    }
    /**
     * Sets the forced visibility state and shows or hides the tooltip.
     *
     * @internal
     */
    set visible(value) {
        this.controlledVisibility = typeof value === "boolean";
        if (this.controlledVisibility) {
            this.show = value;
        }
        if (value) {
            this.showTooltip();
            return;
        }
        this.hideTooltip();
    }
    /**
     * Adds the `id` of the tooltip to the `aria-describedby` attribute of the anchor element.
     *
     * @internal
     */
    addAnchorAriaDescribedBy() {
        var _a;
        if (!this.id) {
            this.id = (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.uniqueId)("tooltip-");
            return;
        }
        if (!this.anchorElement) {
            return;
        }
        const anchorElementDescribedBy = (_a = this.anchorElement
            .getAttribute("aria-describedby")) === null || _a === void 0 ? void 0 : _a.concat(" ", this.id).trim();
        if (anchorElementDescribedBy) {
            this.anchorElement.setAttribute("aria-describedby", anchorElementDescribedBy);
        }
    }
    /**
     * Adds event listeners to the anchor element, the tooltip element, and the document.
     *
     * @internal
     */
    addListeners() {
        if (!this.anchorElement) {
            return;
        }
        this.anchorElement.addEventListener("focusin", this.focusinAnchorHandler);
        this.anchorElement.addEventListener("focusout", this.focusoutAnchorHandler);
        this.anchorElement.addEventListener("mouseout", this.mouseoutAnchorHandler);
        this.anchorElement.addEventListener("mouseover", this.mouseoverAnchorHandler);
        this.addEventListener("mouseout", this.mouseoutAnchorHandler);
        this.addEventListener("mouseover", this.mouseoverAnchorHandler);
        document.addEventListener("keydown", this.keydownDocumentHandler);
    }
    connectedCallback() {
        super.connectedCallback();
        this.anchorChanged(undefined, this.anchor);
    }
    /**
     * Hides the tooltip and emits a custom `dismiss` event.
     *
     * @internal
     */
    dismiss() {
        this.hideTooltip();
        this.$emit("dismiss");
    }
    /**
     * Hides the tooltip.
     *
     * @internal
     */
    hideTooltip() {
        var _a;
        this._visible = false;
        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);
    }
    /**
     * Gets the anchor element by id.
     *
     * @param id - the id of the anchor element
     *
     * @internal
     */
    getAnchorElement(id = "") {
        const rootNode = this.getRootNode();
        if (rootNode instanceof ShadowRoot) {
            return rootNode.getElementById(id);
        }
        return document.getElementById(id);
    }
    /**
     * Removes the `id` of the tooltip from the `aria-describedby` attribute of the anchor element.
     *
     * @param id - the id of the tooltip
     *
     * @internal
     */
    removeAnchorAriaDescribedBy(id) {
        var _a;
        if (this.anchorElement) {
            const anchorElementDescribedBy = (_a = this.anchorElement
                .getAttribute("aria-describedby")) === null || _a === void 0 ? void 0 : _a.split(" ");
            this.anchorElement.setAttribute("aria-describedby", (anchorElementDescribedBy !== null && anchorElementDescribedBy !== void 0 ? anchorElementDescribedBy : []).filter(i => i !== id).join(" "));
            if (this.anchorElement.getAttribute("aria-describedby") === "") {
                this.anchorElement.removeAttribute("aria-describedby");
            }
        }
    }
    /**
     * Removes event listeners from the anchor element, the tooltip element, and the document.
     *
     * @internal
     */
    removeListeners() {
        if (!this.anchorElement) {
            return;
        }
        this.anchorElement.removeEventListener("focusin", this.focusinAnchorHandler);
        this.anchorElement.removeEventListener("focusout", this.focusoutAnchorHandler);
        this.anchorElement.removeEventListener("mouseout", this.mouseoutAnchorHandler);
        this.anchorElement.removeEventListener("mouseover", this.mouseoverAnchorHandler);
        this.removeEventListener("mouseout", this.mouseoutAnchorHandler);
        this.removeEventListener("mouseover", this.mouseoverAnchorHandler);
        document.removeEventListener("keydown", this.keydownDocumentHandler);
    }
    /**
     * Sets the tooltip position.
     *
     * @public
     */
    setPositioning() {
        var _a;
        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);
        if (!this.anchorElement) {
            this.hideTooltip();
            return;
        }
        const anchorElement = this.anchorElement;
        this.cleanup = (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_5__.autoUpdate)(anchorElement, this, () => (0,tslib__WEBPACK_IMPORTED_MODULE_6__.__awaiter)(this, void 0, void 0, function* () {
            const middleware = [(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_7__.shift)()];
            if (!this.placement) {
                middleware.unshift((0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_7__.flip)());
            }
            const { x, y } = yield (0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_5__.computePosition)(anchorElement, this, {
                placement: this.placement,
                strategy: "fixed",
                middleware,
            });
            this.positionStyles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_8__.css `
                :host {
                    position: fixed;
                    left: ${x.toString()}px;
                    top: ${y.toString()}px;
                }
            `;
        }));
    }
    /**
     * Shows the tooltip.
     *
     * @internal
     */
    showTooltip() {
        this._visible = true;
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Updates.enqueue(() => this.setPositioning());
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTTooltip.prototype, "_visible", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.attr)({ attribute: "anchor" })
], FASTTooltip.prototype, "anchor", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTTooltip.prototype, "controlledVisibility", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.attr
], FASTTooltip.prototype, "id", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.attr
], FASTTooltip.prototype, "placement", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_9__.observable
], FASTTooltip.prototype, "positionStyles", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_6__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.attr)({
        attribute: "show",
        converter: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_10__.nullableBooleanConverter,
        mode: "fromView",
    })
], FASTTooltip.prototype, "show", void 0);


/***/ }),

/***/ "./src/tree-item/stories/tree-item.register.ts":
/*!*****************************************************!*\
  !*** ./src/tree-item/stories/tree-item.register.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _tree_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tree-item.js */ "./src/tree-item/tree-item.ts");
/* harmony import */ var _tree_item_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tree-item.template.js */ "./src/tree-item/tree-item.template.ts");




const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        display: block;
    }
    :host {
        contain: content;
        position: relative;
        outline: none;
        color: var(--neutral-foreground-rest);
        background: var(--neutral-fill-stealth-rest);
        cursor: pointer;
        font-family: var(--body-font);
        --expand-collapse-button-size: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        --tree-item-nested-width: 0;
    }

    :host(:focus) > .positioning-region {
        outline: none;
    }

    :host(:focus) .content-region {
        outline: none;
    }

    :host(:focus-visible) .positioning-region {
        border: var(--focus-stroke-outer) calc(var(--stroke-width) * 1px) solid;
        border-radius: calc(var(--control-corner-radius) * 1px);
        color: var(--neutral-foreground-rest);
    }

    .positioning-region {
        display: flex;
        position: relative;
        box-sizing: border-box;
        border: transparent calc(var(--stroke-width) * 1px) solid;
        height: calc(
            ((var(--base-height-multiplier) + var(--density)) * var(--design-unit) + 1) *
                1px
        );
    }

    .positioning-region::before {
        content: "";
        display: block;
        width: var(--tree-item-nested-width);
        flex-shrink: 0;
    }

    .positioning-region:hover {
        background: var(--neutral-fill-stealth-hover);
    }

    .positioning-region:active {
        background: var(--neutral-fill-stealth-active);
    }

    .content-region {
        display: inline-flex;
        align-items: center;
        white-space: nowrap;
        width: 100%;
        height: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * 1px
        );
        margin-inline-start: calc(var(--design-unit) * 2px + 8px);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        font-weight: 400;
    }

    .items {
        display: none;
        font-size: calc(1em + (var(--design-unit) + 16) * 1px);
    }

    .expand-collapse-button {
        background: none;
        border: none;
        outline: none;
        width: calc(
            (
                    ((var(--base-height-multiplier) / 2) * var(--design-unit)) +
                        ((var(--design-unit) * var(--density)) / 2) +
                        (var(--design-unit) * 2)
                ) * 1px
        );
        height: calc(
            (
                    ((var(--base-height-multiplier) / 2) * var(--design-unit)) +
                        ((var(--design-unit) * var(--density)) / 2) +
                        (var(--design-unit) * 2)
                ) * 1px
        );
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        margin-left: 6px;
        margin-right: 6px;
    }

    .expand-collapse-glyph {
        width: 16px;
        height: 16px;
        transition: transform 0.1s linear;

        pointer-events: none;
        fill: currentcolor;
    }

    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        display: flex;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 11px;
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 11px;
    }

    :host([aria-expanded="true"]) > .items {
        display: block;
    }

    :host([disabled]) .content-region {
        opacity: var(--disabled-opacity);
        cursor: not-allowed;
    }

    :host([nested]) .content-region {
        position: relative;
        margin-inline-start: var(--expand-collapse-button-size);
    }

    :host([nested]) .expand-collapse-button {
        position: absolute;
        right: 100%;
    }

    :host([nested]) .expand-collapse-button:hover {
        background: var(--tree-item-expand-collapse-hover);
    }

    :host([selected]) .positioning-region {
        background: var(--neutral-fill-rest);
    }

    :host([selected]) .expand-collapse-button:hover {
        background: var(--tree-item-expand-collapse-selected-hover);
    }

    :host([selected])::after {
        background: var(--accent-foreground-rest);
        border-radius: calc(var(--control-corner-radius) * 1px);
        content: "";
        display: block;
        position: absolute;
        top: calc(((var(--base-height-multiplier)) * var(--design-unit) / 4) * 1px);
        width: 3px;
        height: calc(((var(--base-height-multiplier)) * var(--design-unit) / 2) * 1px);
    }

    ::slotted(fast-tree-item) {
        --tree-item-nested-width: 1em;
        --expand-collapse-button-nested-width: calc(
            (var(--base-height-multiplier) + var(--density)) * var(--design-unit) * -1px
        );
    }

    .expand-collapse-glyph {
        transform: rotate(0deg);
    }
    :host([nested]) .expand-collapse-button {
        right: 100%;
    }
    :host([selected])::after {
        left: calc(var(--focus-stroke-width) * 1px);
    }
    :host([aria-expanded="true"]) > .positioning-region .expand-collapse-glyph {
        transform: rotate(45deg);
    }
`;
_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem.define({
    name: "fast-tree-item",
    styles,
    template: (0,_tree_item_template_js__WEBPACK_IMPORTED_MODULE_1__.treeItemTemplate)({
        expandCollapseGlyph: /* html */ _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.html `
            <svg
                viewBox="0 0 16 16"
                xmlns="http://www.w3.org/2000/svg"
                class="expand-collapse-glyph"
            >
                <path
                    d="M5 12.3a1 1 0 0 0 1.6.8L11 8.8a1.5 1.5 0 0 0 0-2.3L6.6 2.2A1 1 0 0 0 5 3v9.3Z"
                />
            </svg>
        `,
    }),
});


/***/ }),

/***/ "./src/tree-item/stories/tree-item.stories.ts":
/*!****************************************************!*\
  !*** ./src/tree-item/stories/tree-item.stories.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TreeItem": () => (/* binding */ TreeItem),
/* harmony export */   "TreeItemWithNestedItems": () => (/* binding */ TreeItemWithNestedItems),
/* harmony export */   "TreeItemWithSlottedStartEnd": () => (/* binding */ TreeItemWithSlottedStartEnd),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-tree-item
        ?expanded="${x => x.expanded}"
        ?selected="${x => x.selected}"
        ?disabled="${x => x.disabled}"
        :nested="${x => x.nested}"
    >
        ${x => x.storyContent}
    </fast-tree-item>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Tree View/Tree Item",
    args: {
        disabled: false,
        expanded: false,
        nested: false,
        selected: false,
    },
    argTypes: {
        expanded: { control: "boolean" },
        nested: { control: "boolean" },
        selected: { control: "boolean" },
        storyContent: { table: { disable: true } },
        storyItems: { table: { disable: true } },
    },
});
const TreeItem = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
TreeItem.args = {
    storyContent: "Tree Item",
};
const TreeItemWithSlottedStartEnd = TreeItem.bind({});
TreeItemWithSlottedStartEnd.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
        Tree Item
        <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
    `,
};
const TreeItemWithNestedItems = TreeItem.bind({});
TreeItemWithNestedItems.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        Tree Item ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.repeat)(x => x.storyItems, storyTemplate)}
    `,
    storyItems: [
        { storyContent: "Nested Tree Item" },
        { storyContent: "Nested Tree Item" },
    ],
};


/***/ }),

/***/ "./src/tree-item/tree-item.template.ts":
/*!*********************************************!*\
  !*** ./src/tree-item/tree-item.template.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "treeItemTemplate": () => (/* binding */ treeItemTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/children.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/when.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");
/* harmony import */ var _utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/template-helpers.js */ "./src/utilities/template-helpers.ts");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");




/**
 * The template for the {@link @microsoft/fast-foundation#(FASTTreeItem:class)} component.
 * @public
 */
function treeItemTemplate(options = {}) {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
        <template
            role="treeitem"
            slot="${x => (x.isNestedItem() ? "item" : void 0)}"
            tabindex="-1"
            aria-expanded="${x => x.childItems && x.childItemLength > 0 ? x.expanded : void 0}"
            aria-selected="${x => x.selected}"
            aria-disabled="${x => x.disabled}"
            @focusin="${(x, c) => x.handleFocus(c.event)}"
            @focusout="${(x, c) => x.handleBlur(c.event)}"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.children)({
        property: "childItems",
        filter: (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_4__.elements)(),
    })}
        >
            <div class="positioning-region" part="positioning-region">
                <div class="content-region" part="content-region">
                    ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.when)(x => x.childItems && x.childItemLength > 0, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                            <div
                                aria-hidden="true"
                                class="expand-collapse-button"
                                part="expand-collapse-button"
                                @click="${(x, c) => x.handleExpandCollapseButtonClick(c.event)}"
                                ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.ref)("expandCollapseButton")}
                            >
                                <slot name="expand-collapse-glyph">
                                    ${(0,_utilities_template_helpers_js__WEBPACK_IMPORTED_MODULE_0__.staticallyCompose)(options.expandCollapseGlyph)}
                                </slot>
                            </div>
                        `)}
                    ${(0,_patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.startSlotTemplate)(options)}
                    <slot></slot>
                    ${(0,_patterns_start_end_js__WEBPACK_IMPORTED_MODULE_1__.endSlotTemplate)(options)}
                </div>
            </div>
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.when)(x => x.childItems && x.childItemLength > 0 && x.expanded, _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.html `
                    <div role="group" class="items" part="items">
                        <slot name="item" ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_7__.slotted)("items")}></slot>
                    </div>
                `)}
        </template>
    `;
}


/***/ }),

/***/ "./src/tree-item/tree-item.ts":
/*!************************************!*\
  !*** ./src/tree-item/tree-item.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTTreeItem": () => (/* binding */ FASTTreeItem),
/* harmony export */   "isTreeItemElement": () => (/* binding */ isTreeItemElement)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/dom.js");
/* harmony import */ var _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../patterns/start-end.js */ "./src/patterns/start-end.ts");
/* harmony import */ var _utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities/apply-mixins.js */ "./src/utilities/apply-mixins.ts");





/**
 * check if the item is a tree item
 * @public
 * @remarks
 * determines if element is an HTMLElement and if it has the role treeitem
 */
function isTreeItemElement(el) {
    return (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.isHTMLElement)(el) && el.isTreeItem;
}
/**
 * A Tree item Custom HTML Element.
 *
 * @slot start - Content which can be provided before the tree item content
 * @slot end - Content which can be provided after the tree item content
 * @slot - The default slot for tree item text content
 * @slot item - The slot for tree items (fast tree items manage this assignment themselves)
 * @slot expand-collapse-button - The expand/collapse button
 * @csspart positioning-region - The element used to position the tree item content with exception of any child nodes
 * @csspart content-region - The element containing the expand/collapse, start, and end slots
 * @csspart items - The element wrapping any child items
 * @csspart expand-collapse-button - The expand/collapse button
 * @fires expanded-change - Fires a custom 'expanded-change' event when the expanded state changes
 * @fires selected-change - Fires a custom 'selected-change' event when the selected state changes
 *
 * @public
 */
class FASTTreeItem extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * When true, the control will be appear expanded by user interaction.
         * @public
         * @remarks
         * HTML Attribute: expanded
         */
        this.expanded = false;
        /**
         *  Readonly property identifying the element as a tree item
         *
         * @internal
         */
        this.isTreeItem = true;
        /**
         * Whether the item is focusable
         *
         * @internal
         */
        this.focusable = false;
        /**
         * Indicates if the tree item is nested
         *
         * @public
         * @deprecated - will be removed in coming ALPHA version
         * HTML Attribute: nested
         */
        this.nested = false;
        /**
         * Whether the tree is nested
         *
         * @public
         */
        this.isNestedItem = () => {
            return isTreeItemElement(this.parentElement);
        };
        /**
         * Handle expand button click
         *
         * @internal
         */
        this.handleExpandCollapseButtonClick = (e) => {
            if (!this.disabled && !e.defaultPrevented) {
                this.expanded = !this.expanded;
            }
        };
        /**
         * Handle focus events
         *
         * @internal
         */
        this.handleFocus = (e) => {
            this.setAttribute("tabindex", "0");
        };
        /**
         * Handle blur events
         *
         * @internal
         */
        this.handleBlur = (e) => {
            this.setAttribute("tabindex", "-1");
        };
    }
    expandedChanged(prev, next) {
        if (this.$fastController.isConnected) {
            this.$emit("expanded-change", this);
        }
    }
    selectedChanged(prev, next) {
        if (this.$fastController.isConnected) {
            this.$emit("selected-change", this);
        }
    }
    itemsChanged(oldValue, newValue) {
        if (this.$fastController.isConnected) {
            this.items.forEach((node) => {
                if (isTreeItemElement(node)) {
                    // TODO: maybe not require it to be a TreeItem?
                    node.nested = true;
                }
            });
        }
    }
    /**
     * Places document focus on a tree item
     *
     * @public
     * @param el - the element to focus
     */
    static focusItem(el) {
        el.focusable = true;
        el.focus();
    }
    /**
     * Gets number of children
     *
     * @internal
     */
    get childItemLength() {
        var _a;
        if (this.$fastController.isConnected) {
            return (_a = this.childItems) === null || _a === void 0 ? void 0 : _a.filter(item => isTreeItemElement(item)).length;
        }
        return 0;
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTTreeItem.prototype, "expanded", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTTreeItem.prototype, "selected", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTTreeItem.prototype, "disabled", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTTreeItem.prototype, "focusable", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTTreeItem.prototype, "childItems", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTTreeItem.prototype, "items", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([
    (0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_5__.attr)({ mode: "boolean" })
], FASTTreeItem.prototype, "nested", void 0);
(0,_utilities_apply_mixins_js__WEBPACK_IMPORTED_MODULE_1__.applyMixins)(FASTTreeItem, _patterns_start_end_js__WEBPACK_IMPORTED_MODULE_0__.StartEnd);


/***/ }),

/***/ "./src/tree-view/stories/tree-view.register.ts":
/*!*****************************************************!*\
  !*** ./src/tree-view/stories/tree-view.register.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/styles/css.js");
/* harmony import */ var _tree_view_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tree-view.js */ "./src/tree-view/tree-view.ts");
/* harmony import */ var _tree_view_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tree-view.template.js */ "./src/tree-view/tree-view.template.ts");



const styles = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.css `
    :host([hidden]) {
        display: none;
    }
    :host {
        flex-direction: column;
        align-items: stretch;
        display: flex;
        min-width: fit-content;
        font-size: 0;
    }

    :host:focus-visible {
        outline: none;
    }
`;
_tree_view_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeView.define({
    name: "fast-tree-view",
    styles,
    template: (0,_tree_view_template_js__WEBPACK_IMPORTED_MODULE_1__.treeViewTemplate)(),
});


/***/ }),

/***/ "./src/tree-view/stories/tree-view.stories.ts":
/*!****************************************************!*\
  !*** ./src/tree-view/stories/tree-view.stories.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TreeView": () => (/* binding */ TreeView),
/* harmony export */   "TreeViewFlat": () => (/* binding */ TreeViewFlat),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _test_helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../__test__/helpers.js */ "./src/__test__/helpers.ts");


const storyTemplate = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
    <fast-tree-view>
        ${x => x.storyContent}
    </fast-tree-view>
`;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    title: "Tree view",
    args: {
        renderCollapsedNodes: true,
    },
    argTypes: {
        storyContent: { table: { disable: true } },
    },
});
// Includes slotted dividers to test tab functionality, they should display but not be part of tab order.
const TreeView = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
TreeView.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fast-divider></fast-divider>
        <fast-tree-item>
            Root item 1
            <fast-divider></fast-divider>
            <fast-tree-item expanded>
                Flowers
                <fast-tree-item>Daisy</fast-tree-item>
                <fast-tree-item disabled>Sunflower</fast-tree-item>
                <fast-tree-item expanded>
                    Rose
                    <fast-divider role="presentation"></fast-divider>
                    <fast-tree-item>Pink</fast-tree-item>
                    <fast-tree-item>Red</fast-tree-item>
                    <fast-tree-item>White</fast-tree-item>
                </fast-tree-item>
            </fast-tree-item>
            <fast-tree-item>Nested item 2</fast-tree-item>
            <fast-tree-item>Nested item 3</fast-tree-item>
        </fast-tree-item>
        <fast-tree-item expanded>
            Root item 2
            <fast-tree-item>
                Flowers
                <fast-divider></fast-divider>
                <fast-tree-item disabled>Daisy</fast-tree-item>
                <fast-tree-item>Sunflower</fast-tree-item>
                <fast-tree-item>Rose</fast-tree-item>
            </fast-tree-item>
            <fast-tree-item>Nested item 2</fast-tree-item>
            <fast-tree-item>Nested item 3</fast-tree-item>
        </fast-tree-item>
        <fast-tree-item>
            Root item 3
        </fast-tree-item>
    `,
};
const TreeViewFlat = (0,_test_helpers_js__WEBPACK_IMPORTED_MODULE_0__.renderComponent)(storyTemplate).bind({});
TreeViewFlat.args = {
    storyContent: _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.html `
        <fast-tree-item>
            <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
            Tree item 1
            <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
        </fast-tree-item>
        <fast-tree-item>
            <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
            Tree item 2
            <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
        </fast-tree-item>
        <fast-tree-item>
            <svg slot="start" width="20" height="20"><use href="#test-icon" /></svg>
            Tree item 3
            <svg slot="end" width="20" height="20"><use href="#test-icon-2" /></svg>
        </fast-tree-item>
    `,
};


/***/ }),

/***/ "./src/tree-view/tree-view.template.ts":
/*!*********************************************!*\
  !*** ./src/tree-view/tree-view.template.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "treeViewTemplate": () => (/* binding */ treeViewTemplate)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/ref.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js");

/**
 * The template for the {@link @microsoft/fast-foundation#FASTTreeView} component.
 * @public
 */
function treeViewTemplate() {
    return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.html `
        <template
            role="tree"
            ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.ref)("treeView")}
            @keydown="${(x, c) => x.handleKeyDown(c.event)}"
            @focusin="${(x, c) => x.handleFocus(c.event)}"
            @focusout="${(x, c) => x.handleBlur(c.event)}"
            @click="${(x, c) => x.handleClick(c.event)}"
            @selected-change="${(x, c) => x.handleSelectedChange(c.event)}"
        >
            <slot ${(0,_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_2__.slotted)("slottedTreeItems")}></slot>
        </template>
    `;
}


/***/ }),

/***/ "./src/tree-view/tree-view.ts":
/*!************************************!*\
  !*** ./src/tree-view/tree-view.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FASTTreeView": () => (/* binding */ FASTTreeView)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/observation/observable.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/key-codes.js");
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/dom.js");
/* harmony import */ var _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tree-item/tree-item.js */ "./src/tree-item/tree-item.ts");




/**
 * A Tree view Custom HTML Element.
 * Implements the {@link https://w3c.github.io/aria-practices/#TreeView | ARIA TreeView }.
 *
 * @slot - The default slot for tree items
 *
 * @public
 */
class FASTTreeView extends _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_1__.FASTElement {
    constructor() {
        super(...arguments);
        /**
         * The tree item that is designated to be in the tab queue.
         *
         * @internal
         */
        this.currentFocused = null;
        /**
         * Handle focus events
         *
         * @internal
         */
        this.handleFocus = (e) => {
            if (this.slottedTreeItems.length < 1) {
                // no child items, nothing to do
                return;
            }
            if (e.target === this) {
                if (this.currentFocused === null) {
                    this.currentFocused = this.getValidFocusableItem();
                }
                if (this.currentFocused !== null) {
                    _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem.focusItem(this.currentFocused);
                }
                return;
            }
            if (this.contains(e.target)) {
                this.setAttribute("tabindex", "-1");
                this.currentFocused = e.target;
            }
        };
        /**
         * Handle blur events
         *
         * @internal
         */
        this.handleBlur = (e) => {
            if (e.target instanceof HTMLElement &&
                (e.relatedTarget === null || !this.contains(e.relatedTarget))) {
                this.setAttribute("tabindex", "0");
            }
        };
        /**
         * KeyDown handler
         *
         *  @internal
         */
        this.handleKeyDown = (e) => {
            if (e.defaultPrevented) {
                return;
            }
            if (this.slottedTreeItems.length < 1) {
                return true;
            }
            const treeItems = this.getVisibleNodes();
            switch (e.key) {
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyHome:
                    if (treeItems.length) {
                        _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem.focusItem(treeItems[0]);
                    }
                    return;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyEnd:
                    if (treeItems.length) {
                        _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem.focusItem(treeItems[treeItems.length - 1]);
                    }
                    return;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyArrowLeft:
                    if (e.target && this.isFocusableElement(e.target)) {
                        const item = e.target;
                        if (item instanceof _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem &&
                            item.childItemLength > 0 &&
                            item.expanded) {
                            item.expanded = false;
                        }
                        else if (item instanceof _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem &&
                            item.parentElement instanceof _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem) {
                            _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem.focusItem(item.parentElement);
                        }
                    }
                    return false;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyArrowRight:
                    if (e.target && this.isFocusableElement(e.target)) {
                        const item = e.target;
                        if (item instanceof _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem &&
                            item.childItemLength > 0 &&
                            !item.expanded) {
                            item.expanded = true;
                        }
                        else if (item instanceof _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem && item.childItemLength > 0) {
                            this.focusNextNode(1, e.target);
                        }
                    }
                    return;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyArrowDown:
                    if (e.target && this.isFocusableElement(e.target)) {
                        this.focusNextNode(1, e.target);
                    }
                    return;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyArrowUp:
                    if (e.target && this.isFocusableElement(e.target)) {
                        this.focusNextNode(-1, e.target);
                    }
                    return;
                case _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_2__.keyEnter:
                    // In single-select trees where selection does not follow focus (see note below),
                    // the default action is typically to select the focused node.
                    this.handleClick(e);
                    return;
            }
            // don't prevent default if we took no action
            return true;
        };
        /**
         * Handles the selected-changed events bubbling up
         * from child tree items
         *
         *  @internal
         */
        this.handleSelectedChange = (e) => {
            if (e.defaultPrevented) {
                return;
            }
            if (!(e.target instanceof Element) || !(0,_tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.isTreeItemElement)(e.target)) {
                return true;
            }
            const item = e.target;
            if (item.selected) {
                if (this.currentSelected && this.currentSelected !== item) {
                    this.currentSelected.selected = false;
                }
                // new selected item
                this.currentSelected = item;
            }
            else if (!item.selected && this.currentSelected === item) {
                // selected item deselected
                this.currentSelected = null;
            }
            return;
        };
        /**
         * Updates the tree view when slottedTreeItems changes
         */
        this.setItems = () => {
            // force single selection
            // defaults to first one found
            const selectedItem = this.treeView.querySelector("[aria-selected='true']");
            this.currentSelected = selectedItem;
            // invalidate the current focused item if it is no longer valid
            if (this.currentFocused === null || !this.contains(this.currentFocused)) {
                this.currentFocused = this.getValidFocusableItem();
            }
            // toggle properties on child elements
            this.nested = this.checkForNestedItems();
            const treeItems = this.getVisibleNodes();
            treeItems.forEach(node => {
                if ((0,_tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.isTreeItemElement)(node)) {
                    node.nested = this.nested;
                }
            });
        };
        /**
         * check if the item is focusable
         */
        this.isFocusableElement = (el) => {
            return (0,_tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.isTreeItemElement)(el);
        };
        this.isSelectedElement = (el) => {
            return el.selected;
        };
    }
    slottedTreeItemsChanged() {
        if (this.$fastController.isConnected) {
            // update for slotted children change
            this.setItems();
        }
    }
    connectedCallback() {
        super.connectedCallback();
        this.setAttribute("tabindex", "0");
        _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_3__.Updates.enqueue(() => {
            this.setItems();
        });
    }
    /**
     * Handles click events bubbling up
     *
     *  @internal
     */
    handleClick(e) {
        if (e.defaultPrevented) {
            // handled, do nothing
            return;
        }
        if (!(e.target instanceof Element) || !(0,_tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.isTreeItemElement)(e.target)) {
            // not a tree item, ignore
            return true;
        }
        const item = e.target;
        if (!item.disabled) {
            item.selected = !item.selected;
        }
        return;
    }
    /**
     * Move focus to a tree item based on its offset from the provided item
     */
    focusNextNode(delta, item) {
        const visibleNodes = this.getVisibleNodes();
        if (!visibleNodes) {
            return;
        }
        const focusItem = visibleNodes[visibleNodes.indexOf(item) + delta];
        if ((0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.isHTMLElement)(focusItem)) {
            _tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.FASTTreeItem.focusItem(focusItem);
        }
    }
    /**
     * checks if there are any nested tree items
     */
    getValidFocusableItem() {
        const treeItems = this.getVisibleNodes();
        // default to selected element if there is one
        let focusIndex = treeItems.findIndex(this.isSelectedElement);
        if (focusIndex === -1) {
            // otherwise first focusable tree item
            focusIndex = treeItems.findIndex(this.isFocusableElement);
        }
        if (focusIndex !== -1) {
            return treeItems[focusIndex];
        }
        return null;
    }
    /**
     * checks if there are any nested tree items
     */
    checkForNestedItems() {
        return this.slottedTreeItems.some((node) => {
            return (0,_tree_item_tree_item_js__WEBPACK_IMPORTED_MODULE_0__.isTreeItemElement)(node) && node.querySelector("[role='treeitem']");
        });
    }
    getVisibleNodes() {
        return (0,_microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_4__.getDisplayedNodes)(this, "[role='treeitem']") || [];
    }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTTreeView.prototype, "currentSelected", void 0);
(0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([
    _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_6__.observable
], FASTTreeView.prototype, "slottedTreeItems", void 0);


/***/ }),

/***/ "./src/utilities/apply-mixins.ts":
/*!***************************************!*\
  !*** ./src/utilities/apply-mixins.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "applyMixins": () => (/* binding */ applyMixins)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/components/attributes.js");

/**
 * Apply mixins to a constructor.
 * Sourced from {@link https://www.typescriptlang.org/docs/handbook/mixins.html | TypeScript Documentation }.
 * @public
 */
function applyMixins(derivedCtor, ...baseCtors) {
    const derivedAttributes = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.AttributeConfiguration.locate(derivedCtor);
    baseCtors.forEach(baseCtor => {
        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {
            if (name !== "constructor") {
                Object.defineProperty(derivedCtor.prototype, name, 
                /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */
                Object.getOwnPropertyDescriptor(baseCtor.prototype, name));
            }
        });
        const baseAttributes = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.AttributeConfiguration.locate(baseCtor);
        baseAttributes.forEach(x => derivedAttributes.push(x));
    });
}


/***/ }),

/***/ "./src/utilities/direction.ts":
/*!************************************!*\
  !*** ./src/utilities/direction.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getDirection": () => (/* binding */ getDirection)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-web-utilities */ "./node_modules/@microsoft/fast-web-utilities/dist/localization.js");

/**
 * Determines the current localization direction of an element.
 *
 * @param rootNode - the HTMLElement to begin the query from, usually "this" when used in a component controller
 * @returns the localization direction of the element
 *
 * @public
 */
const getDirection = (rootNode) => {
    var _a;
    return ((_a = rootNode.closest("[dir]")) === null || _a === void 0 ? void 0 : _a.dir) === "rtl"
        ? _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.Direction.rtl
        : _microsoft_fast_web_utilities__WEBPACK_IMPORTED_MODULE_0__.Direction.ltr;
};


/***/ }),

/***/ "./src/utilities/intersection-service.ts":
/*!***********************************************!*\
  !*** ./src/utilities/intersection-service.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IntersectionService": () => (/* binding */ IntersectionService)
/* harmony export */ });
/**
 *  A service to batch intersection event callbacks so multiple elements can share a single observer
 *
 * @public
 */
class IntersectionService {
    constructor() {
        this.intersectionDetector = null;
        this.observedElements = new Map();
        /**
         * Request the position of a target element
         *
         * @internal
         */
        this.requestPosition = (target, callback) => {
            var _a;
            if (this.intersectionDetector === null) {
                return;
            }
            if (this.observedElements.has(target)) {
                (_a = this.observedElements.get(target)) === null || _a === void 0 ? void 0 : _a.push(callback);
                return;
            }
            this.observedElements.set(target, [callback]);
            this.intersectionDetector.observe(target);
        };
        /**
         * Cancel a position request
         *
         * @internal
         */
        this.cancelRequestPosition = (target, callback) => {
            const callbacks = this.observedElements.get(target);
            if (callbacks !== undefined) {
                const callBackIndex = callbacks.indexOf(callback);
                if (callBackIndex !== -1) {
                    callbacks.splice(callBackIndex, 1);
                }
            }
        };
        /**
         * initialize intersection detector
         */
        this.initializeIntersectionDetector = () => {
            if (!globalThis.IntersectionObserver) {
                //intersection observer not supported
                return;
            }
            this.intersectionDetector = new IntersectionObserver(this.handleIntersection, {
                root: null,
                rootMargin: "0px",
                threshold: [0, 1],
            });
        };
        /**
         *  Handle intersections
         */
        this.handleIntersection = (entries) => {
            if (this.intersectionDetector === null) {
                return;
            }
            const pendingCallbacks = [];
            const pendingCallbackParams = [];
            // go through the entries to build a list of callbacks and params for each
            entries.forEach((entry) => {
                var _a;
                // stop watching this element until we get new update requests for it
                (_a = this.intersectionDetector) === null || _a === void 0 ? void 0 : _a.unobserve(entry.target);
                const thisElementCallbacks = this.observedElements.get(entry.target);
                if (thisElementCallbacks !== undefined) {
                    thisElementCallbacks.forEach((callback) => {
                        let targetCallbackIndex = pendingCallbacks.indexOf(callback);
                        if (targetCallbackIndex === -1) {
                            targetCallbackIndex = pendingCallbacks.length;
                            pendingCallbacks.push(callback);
                            pendingCallbackParams.push([]);
                        }
                        pendingCallbackParams[targetCallbackIndex].push(entry);
                    });
                    this.observedElements.delete(entry.target);
                }
            });
            // execute callbacks
            pendingCallbacks.forEach((callback, index) => {
                callback(pendingCallbackParams[index]);
            });
        };
        this.initializeIntersectionDetector();
    }
}


/***/ }),

/***/ "./src/utilities/template-helpers.ts":
/*!*******************************************!*\
  !*** ./src/utilities/template-helpers.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "staticallyCompose": () => (/* binding */ staticallyCompose)
/* harmony export */ });
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");

/**
 * A function to compose template options.
 * @public
 */
function staticallyCompose(item) {
    if (!item) {
        return _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.InlineTemplateDirective.empty;
    }
    if (typeof item === "string") {
        return new _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_0__.InlineTemplateDirective(item);
    }
    if ("inline" in item) {
        return item.inline();
    }
    return item;
}


/***/ }),

/***/ "./src/utilities/whitespace-filter.ts":
/*!********************************************!*\
  !*** ./src/utilities/whitespace-filter.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "whitespaceFilter": () => (/* binding */ whitespaceFilter)
/* harmony export */ });
/**
 * filters out any whitespace-only nodes, to be used inside a template.
 *
 * @param value - The Node that is being inspected
 * @param index - The index of the node within the array
 * @param array - The Node array that is being filtered
 * @returns true if the node is not a whitespace-only node, false otherwise
 *
 * @public
 */
const whitespaceFilter = value => { var _a; return value.nodeType !== Node.TEXT_NODE || !!((_a = value.nodeValue) === null || _a === void 0 ? void 0 : _a.trim().length); };


/***/ }),

/***/ "./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)stories\\/(?%21\\.)(?=.)[^/]*?\\.stories\\.ts)$":
/*!*****************************************************************************************************************!*\
  !*** ./src/ sync ^\.(?:(?:^%7C\/%7C(?:(?:(?%21(?:^%7C\/)\.).)*?)\/)stories\/(?%21\.)(?=.)[^/]*?\.stories\.ts)$ ***!
  \*****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./accordion-item/stories/accordion-item.stories.ts": "./src/accordion-item/stories/accordion-item.stories.ts",
	"./accordion/stories/accordion.stories.ts": "./src/accordion/stories/accordion.stories.ts",
	"./anchor/stories/anchor.stories.ts": "./src/anchor/stories/anchor.stories.ts",
	"./anchored-region/stories/anchored-region.stories.ts": "./src/anchored-region/stories/anchored-region.stories.ts",
	"./avatar/stories/avatar.stories.ts": "./src/avatar/stories/avatar.stories.ts",
	"./badge/stories/badge.stories.ts": "./src/badge/stories/badge.stories.ts",
	"./breadcrumb-item/stories/breadcrumb-item.stories.ts": "./src/breadcrumb-item/stories/breadcrumb-item.stories.ts",
	"./breadcrumb/stories/breadcrumb.stories.ts": "./src/breadcrumb/stories/breadcrumb.stories.ts",
	"./button/stories/button.stories.ts": "./src/button/stories/button.stories.ts",
	"./calendar/stories/calendar.stories.ts": "./src/calendar/stories/calendar.stories.ts",
	"./card/stories/card.stories.ts": "./src/card/stories/card.stories.ts",
	"./checkbox/stories/checkbox.stories.ts": "./src/checkbox/stories/checkbox.stories.ts",
	"./combobox/stories/combobox.stories.ts": "./src/combobox/stories/combobox.stories.ts",
	"./data-grid/stories/data-grid-cell.stories.ts": "./src/data-grid/stories/data-grid-cell.stories.ts",
	"./data-grid/stories/data-grid-row.stories.ts": "./src/data-grid/stories/data-grid-row.stories.ts",
	"./data-grid/stories/data-grid.stories.ts": "./src/data-grid/stories/data-grid.stories.ts",
	"./design-token/stories/design-token.stories.ts": "./src/design-token/stories/design-token.stories.ts",
	"./dialog/stories/dialog.stories.ts": "./src/dialog/stories/dialog.stories.ts",
	"./disclosure/stories/disclosure.stories.ts": "./src/disclosure/stories/disclosure.stories.ts",
	"./divider/stories/divider.stories.ts": "./src/divider/stories/divider.stories.ts",
	"./flipper/stories/flipper.stories.ts": "./src/flipper/stories/flipper.stories.ts",
	"./horizontal-scroll/stories/horizontal-scroll.stories.ts": "./src/horizontal-scroll/stories/horizontal-scroll.stories.ts",
	"./listbox-option/stories/listbox-option.stories.ts": "./src/listbox-option/stories/listbox-option.stories.ts",
	"./listbox/stories/listbox.stories.ts": "./src/listbox/stories/listbox.stories.ts",
	"./menu-item/stories/menu-item.stories.ts": "./src/menu-item/stories/menu-item.stories.ts",
	"./menu/stories/menu.stories.ts": "./src/menu/stories/menu.stories.ts",
	"./number-field/stories/number-field.stories.ts": "./src/number-field/stories/number-field.stories.ts",
	"./picker/stories/picker.stories.ts": "./src/picker/stories/picker.stories.ts",
	"./progress-ring/stories/progress-ring.stories.ts": "./src/progress-ring/stories/progress-ring.stories.ts",
	"./progress/stories/progress.stories.ts": "./src/progress/stories/progress.stories.ts",
	"./radio-group/stories/radio-group.stories.ts": "./src/radio-group/stories/radio-group.stories.ts",
	"./radio/stories/radio.stories.ts": "./src/radio/stories/radio.stories.ts",
	"./search/stories/search.stories.ts": "./src/search/stories/search.stories.ts",
	"./select/stories/select.stories.ts": "./src/select/stories/select.stories.ts",
	"./skeleton/stories/skeleton.stories.ts": "./src/skeleton/stories/skeleton.stories.ts",
	"./slider-label/stories/slider-label.stories.ts": "./src/slider-label/stories/slider-label.stories.ts",
	"./slider/stories/slider.stories.ts": "./src/slider/stories/slider.stories.ts",
	"./switch/stories/switch.stories.ts": "./src/switch/stories/switch.stories.ts",
	"./tab-panel/stories/tab-panel.stories.ts": "./src/tab-panel/stories/tab-panel.stories.ts",
	"./tab/stories/tab.stories.ts": "./src/tab/stories/tab.stories.ts",
	"./tabs/stories/tabs.stories.ts": "./src/tabs/stories/tabs.stories.ts",
	"./text-area/stories/text-area.stories.ts": "./src/text-area/stories/text-area.stories.ts",
	"./text-field/stories/text-field.stories.ts": "./src/text-field/stories/text-field.stories.ts",
	"./toolbar/stories/toolbar.stories.ts": "./src/toolbar/stories/toolbar.stories.ts",
	"./tooltip/stories/tooltip.stories.ts": "./src/tooltip/stories/tooltip.stories.ts",
	"./tree-item/stories/tree-item.stories.ts": "./src/tree-item/stories/tree-item.stories.ts",
	"./tree-view/stories/tree-view.stories.ts": "./src/tree-view/stories/tree-view.stories.ts"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)stories\\/(?%21\\.)(?=.)[^/]*?\\.stories\\.ts)$";

/***/ }),

/***/ "?4f7e":
/*!********************************!*\
  !*** ./util.inspect (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "./generated-stories-entry.cjs":
/*!*************************************!*\
  !*** ./generated-stories-entry.cjs ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/* module decorator */ module = __webpack_require__.nmd(module);


var _frameworkImportPath = __webpack_require__(/*! @storybook/html */ "./node_modules/@storybook/html/dist/esm/client/index.js");

/* eslint-disable import/no-unresolved */
(0, _frameworkImportPath.configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)stories\\/(?%21\\.)(?=.)[^/]*?\\.stories\\.ts)$"),__webpack_require__("./.storybook sync ^\\.[\\\\/](?:debug\\.stories\\.ts)$")], module, false);

/***/ }),

/***/ "./.storybook/preview.js":
/*!*******************************!*\
  !*** ./.storybook/preview.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decorators": () => (/* binding */ decorators)
/* harmony export */ });
/* harmony import */ var _storybook_client_api__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! @storybook/client-api */ "./node_modules/@storybook/addons/dist/esm/hooks.js");
/* harmony import */ var _src_anchor_stories_anchor_register_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/anchor/stories/anchor.register.js */ "./src/anchor/stories/anchor.register.ts");
/* harmony import */ var _src_anchored_region_stories_anchored_region_register_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/anchored-region/stories/anchored-region.register.js */ "./src/anchored-region/stories/anchored-region.register.ts");
/* harmony import */ var _src_avatar_stories_avatar_register_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/avatar/stories/avatar.register.js */ "./src/avatar/stories/avatar.register.ts");
/* harmony import */ var _src_badge_stories_badge_register_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/badge/stories/badge.register.js */ "./src/badge/stories/badge.register.ts");
/* harmony import */ var _src_button_stories_button_register_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../src/button/stories/button.register.js */ "./src/button/stories/button.register.ts");
/* harmony import */ var _src_card_stories_card_register_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../src/card/stories/card.register.js */ "./src/card/stories/card.register.ts");
/* harmony import */ var _src_checkbox_stories_checkbox_register_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../src/checkbox/stories/checkbox.register.js */ "./src/checkbox/stories/checkbox.register.ts");
/* harmony import */ var _src_dialog_stories_dialog_register_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../src/dialog/stories/dialog.register.js */ "./src/dialog/stories/dialog.register.ts");
/* harmony import */ var _src_disclosure_stories_disclosure_register_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../src/disclosure/stories/disclosure.register.js */ "./src/disclosure/stories/disclosure.register.ts");
/* harmony import */ var _src_divider_stories_divider_register_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../src/divider/stories/divider.register.js */ "./src/divider/stories/divider.register.ts");
/* harmony import */ var _src_flipper_stories_flipper_register_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../src/flipper/stories/flipper.register.js */ "./src/flipper/stories/flipper.register.ts");
/* harmony import */ var _src_form_associated_stories_form_associated_register_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../src/form-associated/stories/form-associated.register.js */ "./src/form-associated/stories/form-associated.register.ts");
/* harmony import */ var _src_number_field_stories_number_field_register_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../src/number-field/stories/number-field.register.js */ "./src/number-field/stories/number-field.register.ts");
/* harmony import */ var _src_picker_stories_picker_register_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../src/picker/stories/picker.register.js */ "./src/picker/stories/picker.register.ts");
/* harmony import */ var _src_progress_ring_stories_progress_ring_register_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../src/progress-ring/stories/progress-ring.register.js */ "./src/progress-ring/stories/progress-ring.register.ts");
/* harmony import */ var _src_progress_stories_progress_register_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../src/progress/stories/progress.register.js */ "./src/progress/stories/progress.register.ts");
/* harmony import */ var _src_radio_stories_radio_register_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../src/radio/stories/radio.register.js */ "./src/radio/stories/radio.register.ts");
/* harmony import */ var _src_search_stories_search_register_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../src/search/stories/search.register.js */ "./src/search/stories/search.register.ts");
/* harmony import */ var _src_skeleton_stories_skeleton_register_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../src/skeleton/stories/skeleton.register.js */ "./src/skeleton/stories/skeleton.register.ts");
/* harmony import */ var _src_switch_stories_switch_register_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../src/switch/stories/switch.register.js */ "./src/switch/stories/switch.register.ts");
/* harmony import */ var _src_text_area_stories_text_area_register_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../src/text-area/stories/text-area.register.js */ "./src/text-area/stories/text-area.register.ts");
/* harmony import */ var _src_text_field_stories_text_field_register_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../src/text-field/stories/text-field.register.js */ "./src/text-field/stories/text-field.register.ts");
/* harmony import */ var _src_tooltip_stories_tooltip_register_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../src/tooltip/stories/tooltip.register.js */ "./src/tooltip/stories/tooltip.register.ts");
/* harmony import */ var _src_data_grid_stories_data_grid_cell_register_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../src/data-grid/stories/data-grid-cell.register.js */ "./src/data-grid/stories/data-grid-cell.register.ts");
/* harmony import */ var _src_data_grid_stories_data_grid_row_register_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../src/data-grid/stories/data-grid-row.register.js */ "./src/data-grid/stories/data-grid-row.register.ts");
/* harmony import */ var _src_data_grid_stories_data_grid_register_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../src/data-grid/stories/data-grid.register.js */ "./src/data-grid/stories/data-grid.register.ts");
/* harmony import */ var _src_calendar_stories_calendar_register_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../src/calendar/stories/calendar.register.js */ "./src/calendar/stories/calendar.register.ts");
/* harmony import */ var _src_slider_label_stories_slider_label_register_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../src/slider-label/stories/slider-label.register.js */ "./src/slider-label/stories/slider-label.register.ts");
/* harmony import */ var _src_slider_stories_slider_register_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../src/slider/stories/slider.register.js */ "./src/slider/stories/slider.register.ts");
/* harmony import */ var _src_accordion_item_stories_accordion_item_register_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../src/accordion-item/stories/accordion-item.register.js */ "./src/accordion-item/stories/accordion-item.register.ts");
/* harmony import */ var _src_accordion_stories_accordion_register_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../src/accordion/stories/accordion.register.js */ "./src/accordion/stories/accordion.register.ts");
/* harmony import */ var _src_breadcrumb_item_stories_breadcrumb_item_register_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../src/breadcrumb-item/stories/breadcrumb-item.register.js */ "./src/breadcrumb-item/stories/breadcrumb-item.register.ts");
/* harmony import */ var _src_breadcrumb_stories_breadcrumb_register_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../src/breadcrumb/stories/breadcrumb.register.js */ "./src/breadcrumb/stories/breadcrumb.register.ts");
/* harmony import */ var _src_listbox_option_stories_listbox_option_register_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../src/listbox-option/stories/listbox-option.register.js */ "./src/listbox-option/stories/listbox-option.register.ts");
/* harmony import */ var _src_combobox_stories_combobox_register_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../src/combobox/stories/combobox.register.js */ "./src/combobox/stories/combobox.register.ts");
/* harmony import */ var _src_listbox_stories_listbox_register_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../src/listbox/stories/listbox.register.js */ "./src/listbox/stories/listbox.register.ts");
/* harmony import */ var _src_select_stories_select_register_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../src/select/stories/select.register.js */ "./src/select/stories/select.register.ts");
/* harmony import */ var _src_tab_panel_stories_tab_panel_register_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../src/tab-panel/stories/tab-panel.register.js */ "./src/tab-panel/stories/tab-panel.register.ts");
/* harmony import */ var _src_tab_stories_tab_register_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../src/tab/stories/tab.register.js */ "./src/tab/stories/tab.register.ts");
/* harmony import */ var _src_tabs_stories_tabs_register_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../src/tabs/stories/tabs.register.js */ "./src/tabs/stories/tabs.register.ts");
/* harmony import */ var _src_horizontal_scroll_stories_horizontal_scroll_register_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../src/horizontal-scroll/stories/horizontal-scroll.register.js */ "./src/horizontal-scroll/stories/horizontal-scroll.register.ts");
/* harmony import */ var _src_radio_group_stories_radio_group_register_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../src/radio-group/stories/radio-group.register.js */ "./src/radio-group/stories/radio-group.register.ts");
/* harmony import */ var _src_toolbar_stories_toolbar_register_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../src/toolbar/stories/toolbar.register.js */ "./src/toolbar/stories/toolbar.register.ts");
/* harmony import */ var _src_menu_item_stories_menu_item_register_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../src/menu-item/stories/menu-item.register.js */ "./src/menu-item/stories/menu-item.register.ts");
/* harmony import */ var _src_menu_stories_menu_register_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../src/menu/stories/menu.register.js */ "./src/menu/stories/menu.register.ts");
/* harmony import */ var _src_tree_item_stories_tree_item_register_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../src/tree-item/stories/tree-item.register.js */ "./src/tree-item/stories/tree-item.register.ts");
/* harmony import */ var _src_tree_view_stories_tree_view_register_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../src/tree-view/stories/tree-view.register.js */ "./src/tree-view/stories/tree-view.register.ts");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/platform.js");
/* harmony import */ var _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! @microsoft/fast-element */ "./node_modules/@microsoft/fast-element/dist/esm/templating/template.js");































































_microsoft_fast_element__WEBPACK_IMPORTED_MODULE_47__.FAST.html = _microsoft_fast_element__WEBPACK_IMPORTED_MODULE_48__.html;

const decorators = [
    (Story, context) => {
        const [_, updateArgs] = (0,_storybook_client_api__WEBPACK_IMPORTED_MODULE_49__.useArgs)();
        return Story({ ...context, updateArgs });
    },
];


/***/ }),

/***/ "./.storybook/preview.js-generated-config-entry.js":
/*!*********************************************************!*\
  !*** ./.storybook/preview.js-generated-config-entry.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@storybook/client-api */ "./node_modules/@storybook/client-api/dist/esm/ClientApi.js");
/* harmony import */ var _Users_jenc_fast_foundation_repro_storybook_preview_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.storybook/preview.js */ "./.storybook/preview.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* eslint-disable import/no-unresolved */


Object.keys(_Users_jenc_fast_foundation_repro_storybook_preview_js__WEBPACK_IMPORTED_MODULE_0__).forEach(function (key) {
  var value = _Users_jenc_fast_foundation_repro_storybook_preview_js__WEBPACK_IMPORTED_MODULE_0__[key];

  switch (key) {
    case 'args':
      {
        return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addArgs)(value);
      }

    case 'argTypes':
      {
        return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addArgTypes)(value);
      }

    case 'decorators':
      {
        return value.forEach(function (decorator) {
          return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(decorator, false);
        });
      }

    case 'loaders':
      {
        return value.forEach(function (loader) {
          return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addLoader)(loader, false);
        });
      }

    case 'parameters':
      {
        return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addParameters)(_objectSpread({}, value), false);
      }

    case 'argTypesEnhancers':
      {
        return value.forEach(function (enhancer) {
          return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addArgTypesEnhancer)(enhancer);
        });
      }

    case 'argsEnhancers':
      {
        return value.forEach(function (enhancer) {
          return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addArgsEnhancer)(enhancer);
        });
      }

    case 'render':
      {
        return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.setGlobalRender)(value);
      }

    case 'globals':
    case 'globalTypes':
      {
        var v = {};
        v[key] = value;
        return (0,_Users_jenc_fast_foundation_repro_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_1__.addParameters)(v, false);
      }

    case '__namedExportsOrder':
    case 'decorateStory':
    case 'renderToDOM':
      {
        return null; // This key is not handled directly in v6 mode.
      }

    default:
      {
        // eslint-disable-next-line prefer-template
        return console.log(key + ' was not supported :( !');
      }
  }
});

/***/ }),

/***/ "./storybook-init-framework-entry.js":
/*!*******************************************!*\
  !*** ./storybook-init-framework-entry.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _storybook_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @storybook/html */ "./node_modules/@storybook/html/dist/esm/client/index.js");


/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors-node_modules_storybook_addon-actions_preview_js-generated-config-entry_js-node_module-7217cb"], () => (__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"), __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"), __webpack_exec__("./node_modules/webpack-hot-middleware/client.js?reload=true&quiet=false&noInfo=undefined"), __webpack_exec__("./storybook-init-framework-entry.js"), __webpack_exec__("./node_modules/@storybook/html/dist/esm/client/preview/config-generated-config-entry.js"), __webpack_exec__("./node_modules/@storybook/html/dist/esm/client/docs/config-generated-config-entry.js"), __webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"), __webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"), __webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"), __webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"), __webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"), __webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"), __webpack_exec__("./.storybook/preview.js-generated-config-entry.js"), __webpack_exec__("./generated-stories-entry.cjs")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=main.iframe.bundle.js.map